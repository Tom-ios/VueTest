(function(e){function t(t){for(var s,i,n=t[0],l=t[1],c=t[2],d=0,h=[];d<n.length;d++)i=n[d],r[i]&&h.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(h.length)h.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},r={app:0},o=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"024e":function(e,t,a){},"034f":function(e,t,a){"use strict";var s=a("64a9"),r=a.n(s);r.a},"092a":function(e,t,a){},"0e2e":function(e,t,a){"use strict";var s=a("25bb"),r=a.n(s);r.a},1:function(e,t){},1999:function(e,t,a){"use strict";var s=a("67bf"),r=a.n(s);r.a},"1d21":function(e,t,a){"use strict";var s=a("2b99"),r=a.n(s);r.a},2:function(e,t){},"25bb":function(e,t,a){},"2b99":function(e,t,a){},"2bd2":function(e,t,a){"use strict";var s=a("bfa2"),r=a.n(s);r.a},3:function(e,t){},"31fd":function(e,t,a){},3312:function(e,t,a){},"33bc":function(e,t,a){},"3ac7":function(e,t,a){e.exports=a.p+"img/qr-code.9a8ca0bd.png"},4:function(e,t){},4280:function(e,t,a){},"46da":function(e,t,a){"use strict";var s=a("4280"),r=a.n(s);r.a},"4ee2":function(e,t,a){},5:function(e,t){},5351:function(e,t,a){"use strict";var s=a("9f93"),r=a.n(s);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.isreload?a("router-view"):e._e()],1)},o=[],i={provide:function(){return{reload:this.reload}},data:function(){return{isreload:!0}},methods:{reload:function(){var e=this;this.isreload=!1,this.$nextTick(function(){e.isreload=!0})}}},n=i,l=(a("034f"),a("2877")),c=Object(l["a"])(n,r,o,!1,null,null,null),u=c.exports,d=a("8c4f"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-warn"}),e._v(" 权限测试")])],1)],1),a("div",{staticClass:"container"},[a("h1",[e._v("管理员权限页面")]),a("p",[e._v("只有用 admin 账号登录的才拥有管理员权限，才能进到这个页面，其他账号想进来都会跳到403页面，重新用管理员账号登录才有权限。")]),a("p",[e._v("想尝试一下，请"),a("router-link",{staticClass:"logout",attrs:{to:"/login"}},[e._v("退出登录")]),e._v("，随便输入个账号名，再进来试试看。")],1)])])},m=[],p={data:function(){return{}}},g=p,f=(a("8992"),Object(l["a"])(g,h,m,!1,null,"52f76618",null)),b=f.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-page"},[e._m(0),a("div",{staticClass:"error-desc"},[e._v("啊哦~ 你所访问的页面不存在")]),a("div",{staticClass:"error-handle"},[a("router-link",{attrs:{to:"/"}},[a("el-button",{attrs:{type:"primary",size:"large"}},[e._v("返回首页")])],1),a("el-button",{staticClass:"error-btn",attrs:{type:"primary",size:"large"},on:{click:e.goBack}},[e._v("返回上一页")])],1)])},w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-code"},[e._v("4"),a("span",[e._v("0")]),e._v("4")])}],v={methods:{goBack:function(){this.$router.go(-1)}}},C=v,T=(a("0e2e"),Object(l["a"])(C,y,w,!1,null,"cb97bba6",null)),D=T.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-page"},[e._m(0),a("div",{staticClass:"error-desc"},[e._v("啊哦~ 你没有权限访问该页面哦")]),a("div",{staticClass:"error-handle"},[a("router-link",{attrs:{to:"/"}},[a("el-button",{attrs:{type:"primary",size:"large"}},[e._v("返回首页")])],1),a("el-button",{staticClass:"error-btn",attrs:{type:"primary",size:"large"},on:{click:e.goBack}},[e._v("返回上一页")])],1)])},U=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-code"},[e._v("4"),a("span",[e._v("0")]),e._v("3")])}],N={methods:{goBack:function(){this.$router.go(-1)}}},$=N,S=(a("58a8"),Object(l["a"])($,x,U,!1,null,"2e353fab",null)),k=S.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"content-box",class:{"content-collapse":e.collapse},staticStyle:{position:"static"}},[a("div",{staticClass:"content",staticStyle:{height:"630px"}},[a("transition",{attrs:{name:"move",mode:"out-in"}},[a("keep-alive",{attrs:{include:e.tagsLister}},[a("router-view")],1)],1)],1)])])},_=[],I=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"collapse-btn",on:{click:e.collapseChage}},[a("i",{staticClass:"el-icon-menu"})]),a("div",{staticClass:"logo"},[e._v("百色水库灌区工程征地移民信息化管理系统")]),a("div",{staticClass:"header-right"},[a("div",{staticClass:"header-user-con"},[e._m(0),a("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n          "+e._s(e.username)+"\n          "),a("i",{staticClass:"el-icon-caret-bottom"})]),a("el-dropdown-menu",{staticStyle:{"min-width":"90px"},attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.editPassword()}}},[e._v("修改密码")]),a("el-dropdown-item",{attrs:{divided:"",command:"loginout"}},[e._v("退出登录")])],1)],1)],1)]),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"修改密码",visible:e.editUserPasswordVisible,width:"26%"},on:{"update:visible":function(t){e.editUserPasswordVisible=t}}},[a("el-form",{ref:"modifyForm",staticClass:"ms-content",attrs:{model:e.modifyForm,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"原 密 码：",prop:"pass","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入原密码",type:"password"},model:{value:e.modifyForm.pass,callback:function(t){e.$set(e.modifyForm,"pass",t)},expression:"modifyForm.pass"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"新 密 码：",prop:"newpass","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请输入新密码",id:"newkey",type:"password",maxlength:20,change:e.getPassStrength(e.modifyForm.newpass)},model:{value:e.modifyForm.newpass,callback:function(t){e.$set(e.modifyForm,"newpass",t)},expression:"modifyForm.newpass"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"安全等级","label-width":"110px"}},[a("el-progress",{staticStyle:{"margin-top":"12px"},attrs:{"text-inside":!0,percentage:e.percentage,"show-text":!1,color:e.color}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"确认新密码：",prop:"checknewpass","label-width":"110px"}},[a("el-input",{attrs:{placeholder:"请再次输入新密码",id:"newkey1",type:"password",maxlength:20},model:{value:e.modifyForm.checknewpass,callback:function(t){e.$set(e.modifyForm,"checknewpass",t)},expression:"modifyForm.checknewpass"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.submitForm("modifyForm")}}},[e._v("确 定")])],1)],1)],1)],1)],1)],1)}),A=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-avator"},[s("img",{attrs:{src:a("7159")}})])}],P=a("bc3a"),M=a.n(P),B=new s["default"],R=B,E={data:function(){var e=this,t=function(t,a,s){""===a?s(new Error("请再次输入新密码")):a!==e.modifyForm.newpass?s(new Error("两次输入密码不一致!")):e.getPassStrength(e.modifyForm.newpass)};return{DengJiWidth:"150px",baseUrl:"http://192.168.1.146:8686/fweb-security/fweb-security/",solt:"span_red",type:"danger",safetyFont:"低",color:"#ff1919",percentage:25,collapse:!1,fullscreen:!1,name:"",message:2,timeValue:"",modifyFormVisible:!1,editUserPasswordVisible:!1,modifyForm:{pass:"",newpass:"",checknewpass:""},rules:{pass:[{required:!0,message:"请输入密码"}],newpass:[{required:!0,message:"请输入新密码"}],checknewpass:[{required:!0,validator:t,trigger:"blur"}]}}},computed:{username:function(){var e=sessionStorage.getItem("ms_username");return e||this.name},password:function(){var e=sessionStorage.getItem("ms_password");return e||this.password}},created:function(){var e=(new Date).getTime();console.log(e),this.timeValue=e},mounted:function(){var e=this;document.body.clientWidth<1500&&this.collapseChage(),window.addEventListener("resize",function(){e.loadWindowWidth()})},methods:{loadWindowWidth:function(){var e=this;this.$nextTick(function(){window.innerWidth<1620?void 0!=e.$refs.DengJiRef&&(e.$refs.DengJiRef.style.width="130px"):window.innerWidth>1620&&void 0!=e.$refs.DengJiRef&&(e.$refs.DengJiRef.style.width="150px")})},handleCommand:function(e){"loginout"==e&&(this.loginout(),this.$router.push("/login")),"modifypassword"==e&&this.$router.push("/modifypassword")},loginout:function(){var e=this;M()({method:"post",url:"/fweb-security/login/logout?_="+this.timeValue,data:{}}).then(function(t){console.log(t.data),"10200"==t.data.status&&(sessionStorage.removeItem("ms_username"),sessionStorage.removeItem("ms_password"),e.$message({type:"success",message:"用户退出成功"}),e.$router.push("/login"))}).catch(function(e){console.log(e)})},getPassStrengthAgain:function(e,t){e==t&&this.getPassStrength(e)},getPassStrength:function(e){var t=this;return M()({method:"get",url:"/fweb-security/login/checkPasswdStrong",params:{password:e}}).then(function(e){"easy"==e.data.data?(t.color="#ff1919",t.percentage=25,t.safetyFont="低",t.solt="span_red"):"mid"==e.data.data?(t.color="#ffff00",t.percentage=50,t.safetyFont="中",t.solt="span_orange"):"strong"==e.data.data?(t.color="#ffad19",t.percentage=75,t.safetyFont="高",t.solt="span_yellow"):"verystrong"==e.data.data&&(t.color="#1b8d1b",t.percentage=100,t.safetyFont="非常高",t.solt="span_green")}).catch(function(e){console.log(e)})},editPassword:function(){this.editUserPasswordVisible=!0},submitForm:function(e){var t=this,a={userCode:sessionStorage.getItem("ms_usercode"),newUserPasswd:this.modifyForm.newpass,oldUserPasswd:this.modifyForm.pass,isReset:!1};console.log(a),M()({method:"post",url:"/fweb-security/user/updatepasswd",data:a}).then(function(e){if(console.log(e),"10200"==e.data.status)t.editUserPasswordVisible=!1,t.$message({type:"success",message:"密码修改成功"}),t.$router.push("/login");else if("10201"==e.data.status)return t.$message({type:"error",message:"原密码输入错误"}),!1})},collapseChage:function(){this.collapse=!this.collapse,R.$emit("collapse",this.collapse)},handleFullScreen:function(){var e=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.fullscreen=!this.fullscreen}}},O=E,L=(a("b9ca"),Object(l["a"])(O,I,A,!1,null,"52ac22a6",null)),z=L.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-active":e.onRoutes,collapse:e.collapse,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""}},[e._l(e.items,function(t){return[t.subs?[a("el-submenu",{key:t.index,attrs:{index:t.index}},[a("template",{slot:"title"},[a("i",{class:t.icon}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._l(t.subs,function(t){return[t.subs?a("el-submenu",{key:t.index,attrs:{index:t.index}},[a("template",{slot:"title"},[e._v(e._s(t.title))]),e._l(t.subs,function(t,s){return a("el-menu-item",{key:s,attrs:{index:t.index}},[e._v(e._s(t.title))])})],2):a("el-menu-item",{key:t.index,attrs:{index:t.index}},[e._v(e._s(t.title))])]})],2)]:[a("el-menu-item",{key:t.index,attrs:{index:t.index}},[a("i",{class:t.icon}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])]]})],2)],1)},G=[],j={data:function(){return{collapse:!1,items:[],menuData:[]}},computed:{onRoutes:function(){return this.$route.path},username:function(){var e=sessionStorage.getItem("ms_username");console.log(e)}},mounted:function(){this.loadMenuData()},created:function(){var e=this;R.$on("collapse",function(t){e.collapse=t})},methods:{loadMenuData:function(){this.items=[{icon:"el-icon-tickets",title:"系统管理",index:"xtsz",subs:[{index:"/xtsz/yhgl",title:"用户管理"},{index:"/xtsz/jsgl",title:"角色管理"},{index:"/xtsz/zzgl",title:"组织管理"},{index:"/xtsz/cdgl",title:"菜单管理"},{index:"/xtsz/zwgl",title:"职位管理"},{index:"/xtsz/qygl",title:"区域管理"},{index:"/xtsz/ymgngl",title:"页面功能管理"},{index:"/xtsz/zdgl",title:"字典管理"}]}]}}},H=j,V=(a("1999"),Object(l["a"])(H,q,G,!1,null,"403d3bac",null)),K=V.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showTags?a("div",{staticClass:"tags"},[a("ul",[a("el-tabs",{staticStyle:{height:"50px"},attrs:{closable:""},on:{"tab-remove":e.closeTags,"tab-click":e.pushTo},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},e._l(e.tagsList,function(t,s){return a("el-tab-pane",{key:t.path,attrs:{label:t.title,name:t.path}},[a("li",{staticClass:"tags-li",class:{active:e.isActive(t.path)},attrs:{slot:"li"},slot:"li"},[a("span",{staticClass:"tags-li-title"},[e._v(e._s(t.title))]),a("span",{staticClass:"tags-li-icon"},[a("i",{staticClass:"el-icon-close"})])])])}),1)],1)]):e._e()},Z=[],W=(a("20d6"),{data:function(){return{tabIndex:"",tagsList:[]}},computed:{showTags:function(){return this.tagsList.length>0}},watch:{$route:function(e,t){this.setTags(e)}},created:function(){this.setTags(this.$route)},methods:{pushTo:function(e,t){this.$router.push(e.name),this.tabIndex=e.name},isActive:function(e){return e===this.$route.fullPath},closeTags:function(e){var t=this.tagsList.findIndex(function(t,a){return t.path==e}),a=(this.tagsList.splice(t,1)[0],this.tagsList[t]?this.tagsList[t]:this.tagsList[t-1]);a?this.$router.push(a.path):this.$router.push("/")},setTags:function(e){var t=this.tagsList.some(function(t){return t.path===e.fullPath});t||"/"===e.fullPath||this.tagsList.push({title:e.meta.title,path:e.fullPath,name:e.matched[1].components.default.name}),R.$emit("tags",this.tagsList),this.tabIndex=e.fullPath}}}),Y=W,Q=(a("c5f3"),Object(l["a"])(Y,J,Z,!1,null,null,null)),X=Q.exports,ee=(a("df7c"),{data:function(){return{tagsLister:[],collapse:!1}},components:{vHead:z,vSidebar:K,vTags:X},created:function(){var e=this;R.$on("collapse",function(t){e.collapse=t}),R.$on("tags",function(t){for(var a=[],s=0,r=t.length;s<r;s++)t[s].name&&a.push(t[s].name);e.tagsLister=a})},mounted:function(){window.addEventListener("resize",function(){R.$emit("resize",{height:window.innerHeight,width:window.innerWidth})})}}),te=ee,ae=Object(l["a"])(te,F,_,!1,null,null,null),se=ae.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"global",staticClass:"login-wrap"},[a("div",{staticClass:"banner"},[e._m(0),a("div",{staticClass:"ms-login"},[a("el-form",{ref:"ruleForm",staticClass:"ms-content form-item-add-18",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"0px",size:"medium"}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"用户名",size:"medium",clearable:"","prefix-icon":"el-icon-user"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",size:"medium",placeholder:"密码","prefix-icon":"el-icon-lock",clearable:"","show-password":""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),a("el-form-item",{attrs:{prop:"captcha"}},[a("el-col",{attrs:{span:13}},[a("el-input",{attrs:{size:"medium",clearable:"","prefix-icon":"el-icon-key",maxlength:"4",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitAccountForm("ruleForm")}},model:{value:e.ruleForm.captcha,callback:function(t){e.$set(e.ruleForm,"captcha",t)},expression:"ruleForm.captcha"}})],1),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"Verification",on:{click:e.loadYanZhengMaChange}},[a("img",{attrs:{src:e.VerificationImg}})])])],1),a("div",{staticClass:"login-btn"},[a("el-row",{attrs:{gutter:18}},[a("el-col",{attrs:{span:16}},[a("el-button",{staticClass:"submit-btn",attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")])],1),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)],1)]),e._m(1),e._m(2),a("div",{staticClass:"plan"},[a("div",{staticClass:"plan-dist"},[a("h3",[e._v("移民安置规划设计概况")]),a("div",{staticClass:"plan-imgs"},[a("ul",[a("li",{staticClass:"plan-img imgs-01"},[e._m(3),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.show01=!e.show01}}}),a("transition",{attrs:{name:"fade"}},[e.show01?a("div",{staticClass:"plan-img-text"},[a("i",{on:{click:function(t){e.show01=!e.show01}}},[e._v("×")]),a("p",[e._v("查明征地范围内各种涉及对象的数量和质量，为论证工程规模、工程设计方案比选、研究工程建设对地区经济影响、编制征地移民投资概（估）算和进行征地移民规划设计及实施等提供详细可靠的基础资料。")])]):e._e()])],1),a("li",{staticClass:"plan-img imgs-02"},[e._m(4),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.show02=!e.show02}}}),a("transition",{attrs:{name:"fade"}},[e.show02?a("div",{staticClass:"plan-img-text"},[a("i",{on:{click:function(t){e.show02=!e.show02}}},[e._v("×")]),a("p",[e._v("合理确定征地移民调查范围，收集征地区域的社会经济资料，调查各项实物指标，提出调查成果，对调查成果进行汇总分析，编绘调查报告。")])]):e._e()])],1),a("li",{staticClass:"plan-img imgs-03"},[e._m(5),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.show03=!e.show03}}}),a("transition",{attrs:{name:"fade"}},[e.show03?a("div",{staticClass:"plan-img-text"},[a("i",{on:{click:function(t){e.show03=!e.show03}}},[e._v("×")]),a("p",[e._v("根据权属人的土地面积、房屋面积、青苗数量，结合其对应单价，统计其各项实物的补偿款，及总补偿款，生成其补偿协议，支持导出pdf文件进行打印，以便签字盖章确认。")])]):e._e()])],1)])])])]),e._m(6)])},oe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"banner-top-bg"},[a("div",{staticClass:"banner-top-dist"},[a("div",{staticClass:"banner-top-logo"}),a("span",{staticClass:"banner-top-text"},[e._v("百色水库灌区工程征地移民信息化管理系统")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"introduce"},[s("div",{staticClass:"introduce-dist"},[s("h3",[e._v("\n        百色\n        "),s("i",[e._v("水利枢纽")])]),s("div",{staticClass:"intro-dist"},[s("img",{staticClass:"intro-img",attrs:{src:a("9240"),alt:""}}),s("article",[s("img",{attrs:{src:a("b031"),alt:""}}),s("p",[e._v("\n            百色水利枢纽位于中国广西壮族自治区百色市的郁江上游右江河段上，坝址在百色市上游22公里处，是一座以防洪为主，兼有发电、灌溉、航运、供水等综合利用的大型水利枢纽。是珠江流域综合利用规划中治理和开发郁江的一座大型骨干水利工程，该项目已\n            百色水利枢纽的建成使广西首府南宁市的防洪能力由堤防防洪20年一遇提高到结合水库防洪调度达到50年一遇，还使右江沿岸的百色、田阳、田东、平果、隆安等五市县的防洪能力提高到50年一遇标准；使南宁市下游郁江沿岸的邕宁、横县、贵港、桂平等市县的防洪能力从堤防防洪10年一遇提高到20年一遇以上的防洪标准。按以上防洪效益计算，工程共保护人口187．3万、耕地7．28万公顷，多年平均防洪效益将达到7. 75亿元（按2000年价格水平）。同时使下游九个梯级电站枯水期电能增加367MW·h。\n          ")])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task"},[a("div",{staticClass:"task-dist"},[a("h3",[a("i",[e._v("百色水库")]),e._v("灌区\n      ")]),a("h5",[e._v("工程任务")]),a("p",[e._v("百色水利枢纽工程开发任务以防洪为主，兼有发电、灌溉、航运、供水等综合效益。本项目开发任务是对百色水库灌区进行配套建设，有效发挥水库的灌溉、供水效益，并为区域脱贫致富创造条件。灌区灌溉年保证率取85%，城镇及农村供水日保证率取95%。")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",[e._v("01")]),e._v(" 建设征地\n            ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",[e._v("02")]),e._v(" 安置计划\n            ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",[e._v("03")]),e._v(" 补偿投资\n            ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"ym-footer"},[s("div",{staticClass:"ym-footer-dist"},[s("div",{staticClass:"footer-copyright"},[e._v("版权所有：© 2019 广西壮族自治区水利电力勘测设计研究院")]),s("div",{staticClass:"wechats"},[s("div",[s("img",{attrs:{src:a("3ac7"),alt:""}}),s("p",[e._v("关注微信公众号")])]),s("div",[s("img",{attrs:{src:a("3ac7"),alt:""}}),s("p",[e._v("扫描二维码下载")])])])])])}],ie=a("bd86"),ne=(a("3b2b"),a("55dd"),a("28a5"),a("ac6a"),a("456d"),a("4917"),a("a481"),a("9c29"),a("673e"),a("6b54"),a("fd24"),a("7618"));(function(t,s){"object"===("undefined"===typeof exports?"undefined":Object(ne["a"])(exports))&&"undefined"!==typeof e?s(exports):"function"===typeof define&&a("3c35")?define(["exports"],s):s({})})(0,function(e){var t="0123456789abcdefghijklmnopqrstuvwxyz";function a(e){return t.charAt(e)}function s(e,t){return e&t}function r(e,t){return e|t}function o(e,t){return e^t}function i(e,t){return e&~t}function n(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function l(e){var t=0;while(0!=e)e&=e-1,++t;return t}var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="=";function d(e){var t,a,s="";for(t=0;t+3<=e.length;t+=3)a=parseInt(e.substring(t,t+3),16),s+=c.charAt(a>>6)+c.charAt(63&a);t+1==e.length?(a=parseInt(e.substring(t,t+1),16),s+=c.charAt(a<<2)):t+2==e.length&&(a=parseInt(e.substring(t,t+2),16),s+=c.charAt(a>>2)+c.charAt((3&a)<<4));while((3&s.length)>0)s+=u;return s}function h(e){var t,s="",r=0,o=0;for(t=0;t<e.length;++t){if(e.charAt(t)==u)break;var i=c.indexOf(e.charAt(t));i<0||(0==r?(s+=a(i>>2),o=3&i,r=1):1==r?(s+=a(o<<2|i>>4),o=15&i,r=2):2==r?(s+=a(o),s+=a(i>>2),o=3&i,r=3):(s+=a(o<<2|i>>4),s+=a(15&i),r=0))}return 1==r&&(s+=a(o<<2)),s}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var m,p=function(e,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},p(e,t)};function g(e,t){function a(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var f,b={decode:function(e){var t;if(void 0===m){var a="0123456789ABCDEF",s=" \f\n\r\t \u2028\u2029";for(m={},t=0;t<16;++t)m[a.charAt(t)]=t;for(a=a.toLowerCase(),t=10;t<16;++t)m[a.charAt(t)]=t;for(t=0;t<s.length;++t)m[s.charAt(t)]=-1}var r=[],o=0,i=0;for(t=0;t<e.length;++t){var n=e.charAt(t);if("="==n)break;if(n=m[n],-1!=n){if(void 0===n)throw new Error("Illegal character at offset "+t);o|=n,++i>=2?(r[r.length]=o,o=0,i=0):o<<=4}}if(i)throw new Error("Hex encoding incomplete: 4 bits missing");return r}},y={decode:function(e){var t;if(void 0===f){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="= \f\n\r\t \u2028\u2029";for(f=Object.create(null),t=0;t<64;++t)f[a.charAt(t)]=t;for(t=0;t<s.length;++t)f[s.charAt(t)]=-1}var r=[],o=0,i=0;for(t=0;t<e.length;++t){var n=e.charAt(t);if("="==n)break;if(n=f[n],-1!=n){if(void 0===n)throw new Error("Illegal character at offset "+t);o|=n,++i>=4?(r[r.length]=o>>16,r[r.length]=o>>8&255,r[r.length]=255&o,o=0,i=0):o<<=6}}switch(i){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:r[r.length]=o>>10;break;case 3:r[r.length]=o>>16,r[r.length]=o>>8&255;break}return r},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=y.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw new Error("RegExp out of sync");e=t[2]}return y.decode(e)}},w=1e13,v=function(){function e(e){this.buf=[+e||0]}return e.prototype.mulAdd=function(e,t){var a,s,r=this.buf,o=r.length;for(a=0;a<o;++a)s=r[a]*e+t,s<w?t=0:(t=0|s/w,s-=t*w),r[a]=s;t>0&&(r[a]=t)},e.prototype.sub=function(e){var t,a,s=this.buf,r=s.length;for(t=0;t<r;++t)a=s[t]-e,a<0?(a+=w,e=1):e=0,s[t]=a;while(0===s[s.length-1])s.pop()},e.prototype.toString=function(e){if(10!=(e||10))throw new Error("only base 10 is supported");for(var t=this.buf,a=t[t.length-1].toString(),s=t.length-2;s>=0;--s)a+=(w+t[s]).toString().substring(1);return a},e.prototype.valueOf=function(){for(var e=this.buf,t=0,a=e.length-1;a>=0;--a)t=t*w+e[a];return t},e.prototype.simplify=function(){var e=this.buf;return 1==e.length?e[0]:this},e}(),C="…",T=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,D=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function x(e,t){return e.length>t&&(e=e.substring(0,t)+C),e}var U,N=function(){function e(t,a){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=a)}return e.prototype.get=function(e){if(void 0===e&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset "+e+" on a stream of length "+this.enc.length);return"string"===typeof this.enc?this.enc.charCodeAt(e):this.enc[e]},e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t,a){for(var s="",r=e;r<t;++r)if(s+=this.hexByte(this.get(r)),!0!==a)switch(15&r){case 7:s+="  ";break;case 15:s+="\n";break;default:s+=" "}return s},e.prototype.isASCII=function(e,t){for(var a=e;a<t;++a){var s=this.get(a);if(s<32||s>176)return!1}return!0},e.prototype.parseStringISO=function(e,t){for(var a="",s=e;s<t;++s)a+=String.fromCharCode(this.get(s));return a},e.prototype.parseStringUTF=function(e,t){for(var a="",s=e;s<t;){var r=this.get(s++);a+=r<128?String.fromCharCode(r):r>191&&r<224?String.fromCharCode((31&r)<<6|63&this.get(s++)):String.fromCharCode((15&r)<<12|(63&this.get(s++))<<6|63&this.get(s++))}return a},e.prototype.parseStringBMP=function(e,t){for(var a,s,r="",o=e;o<t;)a=this.get(o++),s=this.get(o++),r+=String.fromCharCode(a<<8|s);return r},e.prototype.parseTime=function(e,t,a){var s=this.parseStringISO(e,t),r=(a?T:D).exec(s);return r?(a&&(r[1]=+r[1],r[1]+=+r[1]<70?2e3:1900),s=r[1]+"-"+r[2]+"-"+r[3]+" "+r[4],r[5]&&(s+=":"+r[5],r[6]&&(s+=":"+r[6],r[7]&&(s+="."+r[7]))),r[8]&&(s+=" UTC","Z"!=r[8]&&(s+=r[8],r[9]&&(s+=":"+r[9]))),s):"Unrecognized time: "+s},e.prototype.parseInteger=function(e,t){var a,s=this.get(e),r=s>127,o=r?255:0,i="";while(s==o&&++e<t)s=this.get(e);if(a=t-e,0===a)return r?-1:0;if(a>4){i=s,a<<=3;while(0==(128&(+i^o)))i=+i<<1,--a;i="("+a+" bit)\n"}r&&(s-=256);for(var n=new v(s),l=e+1;l<t;++l)n.mulAdd(256,this.get(l));return i+n.toString()},e.prototype.parseBitString=function(e,t,a){for(var s=this.get(e),r=(t-e-1<<3)-s,o="("+r+" bit)\n",i="",n=e+1;n<t;++n){for(var l=this.get(n),c=n==t-1?s:0,u=7;u>=c;--u)i+=l>>u&1?"1":"0";if(i.length>a)return o+x(i,a)}return o+i},e.prototype.parseOctetString=function(e,t,a){if(this.isASCII(e,t))return x(this.parseStringISO(e,t),a);var s=t-e,r="("+s+" byte)\n";a/=2,s>a&&(t=e+a);for(var o=e;o<t;++o)r+=this.hexByte(this.get(o));return s>a&&(r+=C),r},e.prototype.parseOID=function(e,t,a){for(var s="",r=new v,o=0,i=e;i<t;++i){var n=this.get(i);if(r.mulAdd(128,127&n),o+=7,!(128&n)){if(""===s)if(r=r.simplify(),r instanceof v)r.sub(80),s="2."+r.toString();else{var l=r<80?r<40?0:1:2;s=l+"."+(r-40*l)}else s+="."+r.toString();if(s.length>a)return x(s,a);r=new v,o=0}}return o>0&&(s+=".incomplete"),s},e}(),$=function(){function e(e,t,a,s,r){if(!(s instanceof S))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=a,this.tag=s,this.sub=r}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(e){if(void 0===this.tag)return null;void 0===e&&(e=1/0);var t=this.posContent(),a=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+a,e);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(t)?"false":"true";case 2:return this.stream.parseInteger(t,t+a);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+a,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+a,e);case 6:return this.stream.parseOID(t,t+a,e);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return x(this.stream.parseStringUTF(t,t+a),e);case 18:case 19:case 20:case 21:case 22:case 26:return x(this.stream.parseStringISO(t,t+a),e);case 30:return x(this.stream.parseStringBMP(t,t+a),e);case 23:case 24:return this.stream.parseTime(t,t+a,23==this.tag.tagNumber)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(e){void 0===e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(t+=" (encapsulates)"),t+="\n",null!==this.sub){e+="  ";for(var a=0,s=this.sub.length;a<s;++a)t+=this.sub[a].toPrettyString(e)}return t},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(e){var t=e.get(),a=127&t;if(a==t)return a;if(a>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(0===a)return null;t=0;for(var s=0;s<a;++s)t=256*t+e.get();return t},e.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,a=2*this.length;return e.substr(t,a)},e.decode=function(t){var a;a=t instanceof N?t:new N(t,0);var s=new N(a),r=new S(a),o=e.decodeLength(a),i=a.pos,n=i-s.pos,l=null,c=function(){var t=[];if(null!==o){var s=i+o;while(a.pos<s)t[t.length]=e.decode(a);if(a.pos!=s)throw new Error("Content size is not correct for container starting at offset "+i)}else try{for(;;){var r=e.decode(a);if(r.tag.isEOC())break;t[t.length]=r}o=i-a.pos}catch(n){throw new Error("Exception while decoding undefined length content: "+n)}return t};if(r.tagConstructed)l=c();else if(r.isUniversal()&&(3==r.tagNumber||4==r.tagNumber))try{if(3==r.tagNumber&&0!=a.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");l=c();for(var u=0;u<l.length;++u)if(l[u].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(d){l=null}if(null===l){if(null===o)throw new Error("We can't skip over an invalid tag with undefined length at offset "+i);a.pos=i+Math.abs(o)}return new e(s,n,o,r,l)},e}(),S=function(){function e(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=0!==(32&t),this.tagNumber=31&t,31==this.tagNumber){var a=new v;do{t=e.get(),a.mulAdd(128,127&t)}while(128&t);this.tagNumber=a.simplify()}}return e.prototype.isUniversal=function(){return 0===this.tagClass},e.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},e}(),k=0xdeadbeefcafe,F=15715070==(16777215&k),_=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],I=(1<<26)/_[_.length-1],A=function(){function e(e,t,a){null!=e&&("number"==typeof e?this.fromNumber(e,t,a):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var s,r=(1<<t)-1,o=!1,i="",n=this.t,l=this.DB-n*this.DB%t;if(n-- >0){l<this.DB&&(s=this[n]>>l)>0&&(o=!0,i=a(s));while(n>=0)l<t?(s=(this[n]&(1<<l)-1)<<t-l,s|=this[--n]>>(l+=this.DB-t)):(s=this[n]>>(l-=t)&r,l<=0&&(l+=this.DB,--n)),s>0&&(o=!0),o&&(i+=a(s))}return o?i:"0"},e.prototype.negate=function(){var t=E();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var a=this.t;if(t=a-e.t,0!=t)return this.s<0?-t:t;while(--a>=0)if(0!=(t=this[a]-e[a]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Z(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var a=E();return this.abs().divRemTo(t,null,a),this.s<0&&a.compareTo(e.ZERO)>0&&t.subTo(a,a),a},e.prototype.modPowInt=function(e,t){var a;return a=e<256||t.isEven()?new M(t):new B(t),this.exp(e,a)},e.prototype.clone=function(){var e=E();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var a,s=this.DB-e*this.DB%8,r=0;if(e-- >0){s<this.DB&&(a=this[e]>>s)!=(this.s&this.DM)>>s&&(t[r++]=a|this.s<<this.DB-s);while(e>=0)s<8?(a=(this[e]&(1<<s)-1)<<8-s,a|=this[--e]>>(s+=this.DB-8)):(a=this[e]>>(s-=8)&255,s<=0&&(s+=this.DB,--e)),0!=(128&a)&&(a|=-256),0==r&&(128&this.s)!=(128&a)&&++r,(r>0||a!=this.s)&&(t[r++]=a)}return t},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=E();return this.bitwiseTo(e,s,t),t},e.prototype.or=function(e){var t=E();return this.bitwiseTo(e,r,t),t},e.prototype.xor=function(e){var t=E();return this.bitwiseTo(e,o,t),t},e.prototype.andNot=function(e){var t=E();return this.bitwiseTo(e,i,t),t},e.prototype.not=function(){for(var e=E(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},e.prototype.shiftLeft=function(e){var t=E();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.shiftRight=function(e){var t=E();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},e.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+n(this[e]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,a=0;a<this.t;++a)e+=l(this[a]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,r)},e.prototype.clearBit=function(e){return this.changeBit(e,i)},e.prototype.flipBit=function(e){return this.changeBit(e,o)},e.prototype.add=function(e){var t=E();return this.addTo(e,t),t},e.prototype.subtract=function(e){var t=E();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=E();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=E();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=E();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=E(),a=E();return this.divRemTo(e,t,a),[t,a]},e.prototype.modPow=function(e,t){var a,s,r=e.bitLength(),o=J(1);if(r<=0)return o;a=r<18?1:r<48?3:r<144?4:r<768?5:6,s=r<8?new M(t):t.isEven()?new R(t):new B(t);var i=[],n=3,l=a-1,c=(1<<a)-1;if(i[1]=s.convert(this),a>1){var u=E();s.sqrTo(i[1],u);while(n<=c)i[n]=E(),s.mulTo(u,i[n-2],i[n]),n+=2}var d,h,m=e.t-1,p=!0,g=E();r=Z(e[m])-1;while(m>=0){r>=l?d=e[m]>>r-l&c:(d=(e[m]&(1<<r+1)-1)<<l-r,m>0&&(d|=e[m-1]>>this.DB+r-l)),n=a;while(0==(1&d))d>>=1,--n;if((r-=n)<0&&(r+=this.DB,--m),p)i[d].copyTo(o),p=!1;else{while(n>1)s.sqrTo(o,g),s.sqrTo(g,o),n-=2;n>0?s.sqrTo(o,g):(h=o,o=g,g=h),s.mulTo(g,i[d],o)}while(m>=0&&0==(e[m]&1<<r))s.sqrTo(o,g),h=o,o=g,g=h,--r<0&&(r=this.DB-1,--m)}return s.revert(o)},e.prototype.modInverse=function(t){var a=t.isEven();if(this.isEven()&&a||0==t.signum())return e.ZERO;var s=t.clone(),r=this.clone(),o=J(1),i=J(0),n=J(0),l=J(1);while(0!=s.signum()){while(s.isEven())s.rShiftTo(1,s),a?(o.isEven()&&i.isEven()||(o.addTo(this,o),i.subTo(t,i)),o.rShiftTo(1,o)):i.isEven()||i.subTo(t,i),i.rShiftTo(1,i);while(r.isEven())r.rShiftTo(1,r),a?(n.isEven()&&l.isEven()||(n.addTo(this,n),l.subTo(t,l)),n.rShiftTo(1,n)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);s.compareTo(r)>=0?(s.subTo(r,s),a&&o.subTo(n,o),i.subTo(l,i)):(r.subTo(s,r),a&&n.subTo(o,n),l.subTo(i,l))}return 0!=r.compareTo(e.ONE)?e.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l},e.prototype.pow=function(e){return this.exp(e,new P)},e.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),a=e.s<0?e.negate():e.clone();if(t.compareTo(a)<0){var s=t;t=a,a=s}var r=t.getLowestSetBit(),o=a.getLowestSetBit();if(o<0)return t;r<o&&(o=r),o>0&&(t.rShiftTo(o,t),a.rShiftTo(o,a));while(t.signum()>0)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=a.getLowestSetBit())>0&&a.rShiftTo(r,a),t.compareTo(a)>=0?(t.subTo(a,t),t.rShiftTo(1,t)):(a.subTo(t,a),a.rShiftTo(1,a));return o>0&&a.lShiftTo(o,a),a},e.prototype.isProbablePrime=function(e){var t,a=this.abs();if(1==a.t&&a[0]<=_[_.length-1]){for(t=0;t<_.length;++t)if(a[0]==_[t])return!0;return!1}if(a.isEven())return!1;t=1;while(t<_.length){var s=_[t],r=t+1;while(r<_.length&&s<I)s*=_[r++];s=a.modInt(s);while(t<r)if(s%_[t++]==0)return!1}return a.millerRabin(e)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,a){var s;if(16==a)s=4;else if(8==a)s=3;else if(256==a)s=8;else if(2==a)s=1;else if(32==a)s=5;else{if(4!=a)return void this.fromRadix(t,a);s=2}this.t=0,this.s=0;var r=t.length,o=!1,i=0;while(--r>=0){var n=8==s?255&+t[r]:K(t,r);n<0?"-"==t.charAt(r)&&(o=!0):(o=!1,0==i?this[this.t++]=n:i+s>this.DB?(this[this.t-1]|=(n&(1<<this.DB-i)-1)<<i,this[this.t++]=n>>this.DB-i):this[this.t-1]|=n<<i,i+=s,i>=this.DB&&(i-=this.DB))}8==s&&0!=(128&+t[0])&&(this.s=-1,i>0&&(this[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),o&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){var e=this.s&this.DM;while(this.t>0&&this[this.t-1]==e)--this.t},e.prototype.dlShiftTo=function(e,t){var a;for(a=this.t-1;a>=0;--a)t[a+e]=this[a];for(a=e-1;a>=0;--a)t[a]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var a=e;a<this.t;++a)t[a-e]=this[a];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var a=e%this.DB,s=this.DB-a,r=(1<<s)-1,o=Math.floor(e/this.DB),i=this.s<<a&this.DM,n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>s|i,i=(this[n]&r)<<a;for(n=o-1;n>=0;--n)t[n]=0;t[o]=i,t.t=this.t+o+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var a=Math.floor(e/this.DB);if(a>=this.t)t.t=0;else{var s=e%this.DB,r=this.DB-s,o=(1<<s)-1;t[0]=this[a]>>s;for(var i=a+1;i<this.t;++i)t[i-a-1]|=(this[i]&o)<<r,t[i-a]=this[i]>>s;s>0&&(t[this.t-a-1]|=(this.s&o)<<r),t.t=this.t-a,t.clamp()}},e.prototype.subTo=function(e,t){var a=0,s=0,r=Math.min(e.t,this.t);while(a<r)s+=this[a]-e[a],t[a++]=s&this.DM,s>>=this.DB;if(e.t<this.t){s-=e.s;while(a<this.t)s+=this[a],t[a++]=s&this.DM,s>>=this.DB;s+=this.s}else{s+=this.s;while(a<e.t)s-=e[a],t[a++]=s&this.DM,s>>=this.DB;s-=e.s}t.s=s<0?-1:0,s<-1?t[a++]=this.DV+s:s>0&&(t[a++]=s),t.t=a,t.clamp()},e.prototype.multiplyTo=function(t,a){var s=this.abs(),r=t.abs(),o=s.t;a.t=o+r.t;while(--o>=0)a[o]=0;for(o=0;o<r.t;++o)a[o+s.t]=s.am(0,r[o],a,o,0,s.t);a.s=0,a.clamp(),this.s!=t.s&&e.ZERO.subTo(a,a)},e.prototype.squareTo=function(e){var t=this.abs(),a=e.t=2*t.t;while(--a>=0)e[a]=0;for(a=0;a<t.t-1;++a){var s=t.am(a,t[a],e,2*a,0,1);(e[a+t.t]+=t.am(a+1,2*t[a],e,2*a+1,s,t.t-a-1))>=t.DV&&(e[a+t.t]-=t.DV,e[a+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(a,t[a],e,2*a,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,a,s){var r=t.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=a&&a.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=E());var i=E(),n=this.s,l=t.s,c=this.DB-Z(r[r.t-1]);c>0?(r.lShiftTo(c,i),o.lShiftTo(c,s)):(r.copyTo(i),o.copyTo(s));var u=i.t,d=i[u-1];if(0!=d){var h=d*(1<<this.F1)+(u>1?i[u-2]>>this.F2:0),m=this.FV/h,p=(1<<this.F1)/h,g=1<<this.F2,f=s.t,b=f-u,y=null==a?E():a;i.dlShiftTo(b,y),s.compareTo(y)>=0&&(s[s.t++]=1,s.subTo(y,s)),e.ONE.dlShiftTo(u,y),y.subTo(i,i);while(i.t<u)i[i.t++]=0;while(--b>=0){var w=s[--f]==d?this.DM:Math.floor(s[f]*m+(s[f-1]+g)*p);if((s[f]+=i.am(0,w,s,b,0,u))<w){i.dlShiftTo(b,y),s.subTo(y,s);while(s[f]<--w)s.subTo(y,s)}}null!=a&&(s.drShiftTo(u,a),n!=l&&e.ZERO.subTo(a,a)),s.t=u,s.clamp(),c>0&&s.rShiftTo(c,s),n<0&&e.ZERO.subTo(s,s)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,a){if(t>4294967295||t<1)return e.ONE;var s=E(),r=E(),o=a.convert(this),i=Z(t)-1;o.copyTo(s);while(--i>=0)if(a.sqrTo(s,r),(t&1<<i)>0)a.mulTo(r,o,s);else{var n=s;s=r,r=n}return a.revert(s)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),a=Math.pow(e,t),s=J(a),r=E(),o=E(),i="";this.divRemTo(s,r,o);while(r.signum()>0)i=(a+o.intValue()).toString(e).substr(1)+i,r.divRemTo(s,r,o);return o.intValue().toString(e)+i},e.prototype.fromRadix=function(t,a){this.fromInt(0),null==a&&(a=10);for(var s=this.chunkSize(a),r=Math.pow(a,s),o=!1,i=0,n=0,l=0;l<t.length;++l){var c=K(t,l);c<0?"-"==t.charAt(l)&&0==this.signum()&&(o=!0):(n=a*n+c,++i>=s&&(this.dMultiply(r),this.dAddOffset(n,0),i=0,n=0))}i>0&&(this.dMultiply(Math.pow(a,i)),this.dAddOffset(n,0)),o&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,a,s){if("number"==typeof a)if(t<2)this.fromInt(1);else{this.fromNumber(t,s),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),r,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(a))this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this)}else{var o=[],i=7&t;o.length=1+(t>>3),a.nextBytes(o),i>0?o[0]&=(1<<i)-1:o[0]=0,this.fromString(o,256)}},e.prototype.bitwiseTo=function(e,t,a){var s,r,o=Math.min(e.t,this.t);for(s=0;s<o;++s)a[s]=t(this[s],e[s]);if(e.t<this.t){for(r=e.s&this.DM,s=o;s<this.t;++s)a[s]=t(this[s],r);a.t=this.t}else{for(r=this.s&this.DM,s=o;s<e.t;++s)a[s]=t(r,e[s]);a.t=e.t}a.s=t(this.s,e.s),a.clamp()},e.prototype.changeBit=function(t,a){var s=e.ONE.shiftLeft(t);return this.bitwiseTo(s,a,s),s},e.prototype.addTo=function(e,t){var a=0,s=0,r=Math.min(e.t,this.t);while(a<r)s+=this[a]+e[a],t[a++]=s&this.DM,s>>=this.DB;if(e.t<this.t){s+=e.s;while(a<this.t)s+=this[a],t[a++]=s&this.DM,s>>=this.DB;s+=this.s}else{s+=this.s;while(a<e.t)s+=e[a],t[a++]=s&this.DM,s>>=this.DB;s+=e.s}t.s=s<0?-1:0,s>0?t[a++]=s:s<-1&&(t[a++]=this.DV+s),t.t=a,t.clamp()},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){while(this.t<=t)this[this.t++]=0;this[t]+=e;while(this[t]>=this.DV)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,a){var s=Math.min(this.t+e.t,t);a.s=0,a.t=s;while(s>0)a[--s]=0;for(var r=a.t-this.t;s<r;++s)a[s+this.t]=this.am(0,e[s],a,s,0,this.t);for(r=Math.min(e.t,t);s<r;++s)this.am(0,e[s],a,s,0,t-s);a.clamp()},e.prototype.multiplyUpperTo=function(e,t,a){--t;var s=a.t=this.t+e.t-t;a.s=0;while(--s>=0)a[s]=0;for(s=Math.max(t-this.t,0);s<e.t;++s)a[this.t+s-t]=this.am(t-s,e[s],a,0,0,this.t+s-t);a.clamp(),a.drShiftTo(1,a)},e.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,a=this.s<0?e-1:0;if(this.t>0)if(0==t)a=this[0]%e;else for(var s=this.t-1;s>=0;--s)a=(t*a+this[s])%e;return a},e.prototype.millerRabin=function(t){var a=this.subtract(e.ONE),s=a.getLowestSetBit();if(s<=0)return!1;var r=a.shiftRight(s);t=t+1>>1,t>_.length&&(t=_.length);for(var o=E(),i=0;i<t;++i){o.fromInt(_[Math.floor(Math.random()*_.length)]);var n=o.modPow(r,this);if(0!=n.compareTo(e.ONE)&&0!=n.compareTo(a)){var l=1;while(l++<s&&0!=n.compareTo(a))if(n=n.modPowInt(2,this),0==n.compareTo(e.ONE))return!1;if(0!=n.compareTo(a))return!1}}return!0},e.prototype.square=function(){var e=E();return this.squareTo(e),e},e.prototype.gcda=function(e,t){var a=this.s<0?this.negate():this.clone(),s=e.s<0?e.negate():e.clone();if(a.compareTo(s)<0){var r=a;a=s,s=r}var o=a.getLowestSetBit(),i=s.getLowestSetBit();if(i<0)t(a);else{o<i&&(i=o),i>0&&(a.rShiftTo(i,a),s.rShiftTo(i,s));var n=function e(){(o=a.getLowestSetBit())>0&&a.rShiftTo(o,a),(o=s.getLowestSetBit())>0&&s.rShiftTo(o,s),a.compareTo(s)>=0?(a.subTo(s,a),a.rShiftTo(1,a)):(s.subTo(a,s),s.rShiftTo(1,s)),a.signum()>0?setTimeout(e,0):(i>0&&s.lShiftTo(i,s),setTimeout(function(){t(s)},0))};setTimeout(n,10)}},e.prototype.fromNumberAsync=function(t,a,s,o){if("number"==typeof a)if(t<2)this.fromInt(1);else{this.fromNumber(t,s),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),r,this),this.isEven()&&this.dAddOffset(1,0);var i=this,n=function s(){i.dAddOffset(2,0),i.bitLength()>t&&i.subTo(e.ONE.shiftLeft(t-1),i),i.isProbablePrime(a)?setTimeout(function(){o()},0):setTimeout(s,0)};setTimeout(n,0)}else{var l=[],c=7&t;l.length=1+(t>>3),a.nextBytes(l),c>0?l[0]&=(1<<c)-1:l[0]=0,this.fromString(l,256)}},e}(),P=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,a){e.multiplyTo(t,a)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),M=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,a){e.multiplyTo(t,a),this.reduce(a)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),B=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=E();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(A.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=E();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){while(e.t<=this.mt2)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var a=32767&e[t],s=a*this.mpl+((a*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;a=t+this.m.t,e[a]+=this.m.am(0,s,e,t,0,this.m.t);while(e[a]>=e.DV)e[a]-=e.DV,e[++a]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,a){e.multiplyTo(t,a),this.reduce(a)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),R=function(){function e(e){this.m=e,this.r2=E(),this.q3=E(),A.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return e.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=E();return e.copyTo(t),this.reduce(t),t},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,a){e.multiplyTo(t,a),this.reduce(a)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function E(){return new A(null)}function O(e,t){return new A(e,t)}function L(e,t,a,s,r,o){while(--o>=0){var i=t*this[e++]+a[s]+r;r=Math.floor(i/67108864),a[s++]=67108863&i}return r}function z(e,t,a,s,r,o){var i=32767&t,n=t>>15;while(--o>=0){var l=32767&this[e],c=this[e++]>>15,u=n*l+c*i;l=i*l+((32767&u)<<15)+a[s]+(1073741823&r),r=(l>>>30)+(u>>>15)+n*c+(r>>>30),a[s++]=1073741823&l}return r}function q(e,t,a,s,r,o){var i=16383&t,n=t>>14;while(--o>=0){var l=16383&this[e],c=this[e++]>>14,u=n*l+c*i;l=i*l+((16383&u)<<14)+a[s]+r,r=(l>>28)+(u>>14)+n*c,a[s++]=268435455&l}return r}F&&"Microsoft Internet Explorer"==navigator.appName?(A.prototype.am=z,U=30):F&&"Netscape"!=navigator.appName?(A.prototype.am=L,U=26):(A.prototype.am=q,U=28),A.prototype.DB=U,A.prototype.DM=(1<<U)-1,A.prototype.DV=1<<U;var G=52;A.prototype.FV=Math.pow(2,G),A.prototype.F1=G-U,A.prototype.F2=2*U-G;var j,H,V=[];for(j="0".charCodeAt(0),H=0;H<=9;++H)V[j++]=H;for(j="a".charCodeAt(0),H=10;H<36;++H)V[j++]=H;for(j="A".charCodeAt(0),H=10;H<36;++H)V[j++]=H;function K(e,t){var a=V[e.charCodeAt(t)];return null==a?-1:a}function J(e){var t=E();return t.fromInt(e),t}function Z(e){var t,a=1;return 0!=(t=e>>>16)&&(e=t,a+=16),0!=(t=e>>8)&&(e=t,a+=8),0!=(t=e>>4)&&(e=t,a+=4),0!=(t=e>>2)&&(e=t,a+=2),0!=(t=e>>1)&&(e=t,a+=1),a}A.ZERO=J(0),A.ONE=J(1);var W=function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(e){var t,a,s;for(t=0;t<256;++t)this.S[t]=t;for(a=0,t=0;t<256;++t)a=a+this.S[t]+e[t%e.length]&255,s=this.S[t],this.S[t]=this.S[a],this.S[a]=s;this.i=0,this.j=0},e.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},e}();function Y(){return new W}var Q,X,ee=256,te=null;if(null==te){te=[],X=0;var ae=void 0;if(window.crypto&&window.crypto.getRandomValues){var se=new Uint32Array(256);for(window.crypto.getRandomValues(se),ae=0;ae<se.length;++ae)te[X++]=255&se[ae]}var re=function e(t){if(this.count=this.count||0,this.count>=256||X>=ee)window.removeEventListener?window.removeEventListener("mousemove",e,!1):window.detachEvent&&window.detachEvent("onmousemove",e);else try{var a=t.x+t.y;te[X++]=255&a,this.count+=1}catch(s){}};window.addEventListener?window.addEventListener("mousemove",re,!1):window.attachEvent&&window.attachEvent("onmousemove",re)}function oe(){if(null==Q){Q=Y();while(X<ee){var e=Math.floor(65536*Math.random());te[X++]=255&e}for(Q.init(te),X=0;X<te.length;++X)te[X]=0;X=0}return Q.next()}var ie=function(){function e(){}return e.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=oe()},e}();function ne(e,t){if(t<e.length+22)return console.error("Message too long for RSA"),null;for(var a=t-e.length-6,s="",r=0;r<a;r+=2)s+="ff";var o="0001"+s+"00"+e;return O(o,16)}function le(e,t){if(t<e.length+11)return console.error("Message too long for RSA"),null;var a=[],s=e.length-1;while(s>=0&&t>0){var r=e.charCodeAt(s--);r<128?a[--t]=r:r>127&&r<2048?(a[--t]=63&r|128,a[--t]=r>>6|192):(a[--t]=63&r|128,a[--t]=r>>6&63|128,a[--t]=r>>12|224)}a[--t]=0;var o=new ie,i=[];while(t>2){i[0]=0;while(0==i[0])o.nextBytes(i);a[--t]=i[0]}return a[--t]=2,a[--t]=0,new A(a)}var ce=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);var t=e.mod(this.p).modPow(this.dmp1,this.p),a=e.mod(this.q).modPow(this.dmq1,this.q);while(t.compareTo(a)<0)t=t.add(this.p);return t.subtract(a).multiply(this.coeff).mod(this.p).multiply(this.q).add(a)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=O(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},e.prototype.encrypt=function(e){var t=le(e,this.n.bitLength()+7>>3);if(null==t)return null;var a=this.doPublic(t);if(null==a)return null;var s=a.toString(16);return 0==(1&s.length)?s:"0"+s},e.prototype.setPrivate=function(e,t,a){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=O(e,16),this.e=parseInt(t,16),this.d=O(a,16)):console.error("Invalid RSA private key")},e.prototype.setPrivateEx=function(e,t,a,s,r,o,i,n){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=O(e,16),this.e=parseInt(t,16),this.d=O(a,16),this.p=O(s,16),this.q=O(r,16),this.dmp1=O(o,16),this.dmq1=O(i,16),this.coeff=O(n,16)):console.error("Invalid RSA private key")},e.prototype.generate=function(e,t){var a=new ie,s=e>>1;this.e=parseInt(t,16);for(var r=new A(t,16);;){for(;;)if(this.p=new A(e-s,1,a),0==this.p.subtract(A.ONE).gcd(r).compareTo(A.ONE)&&this.p.isProbablePrime(10))break;for(;;)if(this.q=new A(s,1,a),0==this.q.subtract(A.ONE).gcd(r).compareTo(A.ONE)&&this.q.isProbablePrime(10))break;if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var i=this.p.subtract(A.ONE),n=this.q.subtract(A.ONE),l=i.multiply(n);if(0==l.gcd(r).compareTo(A.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(l),this.dmp1=this.d.mod(i),this.dmq1=this.d.mod(n),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(e){var t=O(e,16),a=this.doPrivate(t);return null==a?null:ue(a,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(e,t,a){var s=new ie,r=e>>1;this.e=parseInt(t,16);var o=new A(t,16),i=this,n=function t(){var n=function(){if(i.p.compareTo(i.q)<=0){var e=i.p;i.p=i.q,i.q=e}var s=i.p.subtract(A.ONE),r=i.q.subtract(A.ONE),n=s.multiply(r);0==n.gcd(o).compareTo(A.ONE)?(i.n=i.p.multiply(i.q),i.d=o.modInverse(n),i.dmp1=i.d.mod(s),i.dmq1=i.d.mod(r),i.coeff=i.q.modInverse(i.p),setTimeout(function(){a()},0)):setTimeout(t,0)},l=function e(){i.q=E(),i.q.fromNumberAsync(r,1,s,function(){i.q.subtract(A.ONE).gcda(o,function(t){0==t.compareTo(A.ONE)&&i.q.isProbablePrime(10)?setTimeout(n,0):setTimeout(e,0)})})},c=function t(){i.p=E(),i.p.fromNumberAsync(e-r,1,s,function(){i.p.subtract(A.ONE).gcda(o,function(e){0==e.compareTo(A.ONE)&&i.p.isProbablePrime(10)?setTimeout(l,0):setTimeout(t,0)})})};setTimeout(c,0)};setTimeout(n,0)},e.prototype.sign=function(e,t,a){var s=he(a),r=s+t(e).toString(),o=ne(r,this.n.bitLength()/4);if(null==o)return null;var i=this.doPrivate(o);if(null==i)return null;var n=i.toString(16);return 0==(1&n.length)?n:"0"+n},e.prototype.verify=function(e,t,a){var s=O(t,16),r=this.doPublic(s);if(null==r)return null;var o=r.toString(16).replace(/^1f+00/,""),i=me(o);return i==a(e).toString()},e}();function ue(e,t){var a=e.toByteArray(),s=0;while(s<a.length&&0==a[s])++s;if(a.length-s!=t-1||2!=a[s])return null;++s;while(0!=a[s])if(++s>=a.length)return null;var r="";while(++s<a.length){var o=255&a[s];o<128?r+=String.fromCharCode(o):o>191&&o<224?(r+=String.fromCharCode((31&o)<<6|63&a[s+1]),++s):(r+=String.fromCharCode((15&o)<<12|(63&a[s+1])<<6|63&a[s+2]),s+=2)}return r}var de={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function he(e){return de[e]||""}function me(e){for(var t in de)if(de.hasOwnProperty(t)){var a=de[t],s=a.length;if(e.substr(0,s)==a)return e.substr(s)}return e}
/*!
  Copyright (c) 2011, Yahoo! Inc. All rights reserved.
  Code licensed under the BSD License:
  http://developer.yahoo.com/yui/license.html
  version: 2.9.0
  */var pe={};pe.lang={extend:function(e,t,a){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var s=function(){};if(s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),a){var r;for(r in a)e.prototype[r]=a[r];var o=function(){},i=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(o=function(e,t){for(r=0;r<i.length;r+=1){var a=i[r],s=t[a];"function"===typeof s&&s!=Object.prototype[a]&&(e[a]=s)}})}catch(n){}o(e.prototype,a)}}};
/**
   * @fileOverview
   * @name asn1-1.0.js
   * @author Kenji Urushima kenji.urushima@gmail.com
   * @version asn1 1.0.13 (2017-Jun-02)
   * @since jsrsasign 2.1
   * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
   */
var ge={};"undefined"!=typeof ge.asn1&&ge.asn1||(ge.asn1={}),ge.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var a=t.substr(1),s=a.length;s%2==1?s+=1:t.match(/^[0-7]/)||(s+=2);for(var r="",o=0;o<s;o++)r+="f";var i=new A(r,16),n=i.xor(e).add(A.ONE);t=n.toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=ge,a=t.asn1,s=a.DERBoolean,r=a.DERInteger,o=a.DERBitString,i=a.DEROctetString,n=a.DERNull,l=a.DERObjectIdentifier,c=a.DEREnumerated,u=a.DERUTF8String,d=a.DERNumericString,h=a.DERPrintableString,m=a.DERTeletexString,p=a.DERIA5String,g=a.DERUTCTime,f=a.DERGeneralizedTime,b=a.DERSequence,y=a.DERSet,w=a.DERTaggedObject,v=a.ASN1Util.newObject,C=Object.keys(e);if(1!=C.length)throw"key of param shall be only one.";var T=C[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+T+":"))throw"undefined key: "+T;if("bool"==T)return new s(e[T]);if("int"==T)return new r(e[T]);if("bitstr"==T)return new o(e[T]);if("octstr"==T)return new i(e[T]);if("null"==T)return new n(e[T]);if("oid"==T)return new l(e[T]);if("enum"==T)return new c(e[T]);if("utf8str"==T)return new u(e[T]);if("numstr"==T)return new d(e[T]);if("prnstr"==T)return new h(e[T]);if("telstr"==T)return new m(e[T]);if("ia5str"==T)return new p(e[T]);if("utctime"==T)return new g(e[T]);if("gentime"==T)return new f(e[T]);if("seq"==T){for(var D=e[T],x=[],U=0;U<D.length;U++){var N=v(D[U]);x.push(N)}return new b({array:x})}if("set"==T){for(D=e[T],x=[],U=0;U<D.length;U++){N=v(D[U]);x.push(N)}return new y({array:x})}if("tag"==T){var $=e[T];if("[object Array]"===Object.prototype.toString.call($)&&3==$.length){var S=v($[2]);return new w({tag:$[0],explicit:$[1],obj:S})}var k={};if(void 0!==$.explicit&&(k.explicit=$.explicit),void 0!==$.tag&&(k.tag=$.tag),void 0===$.obj)throw"obj shall be specified for 'tag'.";return k.obj=v($.obj),new w(k)}},this.jsonToASN1HEX=function(e){var t=this.newObject(e);return t.getEncodedHex()}},ge.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",a=parseInt(e.substr(0,2),16),s=Math.floor(a/40),r=a%40,o=(t=s+"."+r,""),i=2;i<e.length;i+=2){var n=parseInt(e.substr(i,2),16),l=("00000000"+n.toString(2)).slice(-8);if(o+=l.substr(1,7),"0"==l.substr(0,1)){var c=new A(o,2);t=t+"."+c.toString(10),o=""}}return t},ge.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},a=function(e){var a="",s=new A(e,10),r=s.toString(2),o=7-r.length%7;7==o&&(o=0);for(var i="",n=0;n<o;n++)i+="0";r=i+r;for(n=0;n<r.length-1;n+=7){var l=r.substr(n,7);n!=r.length-7&&(l="1"+l),a+=t(parseInt(l,2))}return a};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var s="",r=e.split("."),o=40*parseInt(r[0])+parseInt(r[1]);s+=t(o),r.splice(0,2);for(var i=0;i<r.length;i++)s+=a(r[i]);return s},ge.asn1.ASN1Object=function(){var e="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+e.length+",v="+this.hV;var t=this.hV.length/2,a=t.toString(16);if(a.length%2==1&&(a="0"+a),t<128)return a;var s=a.length/2;if(s>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);var r=128+s;return r.toString(16)+a},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ge.asn1.DERAbstractString=function(e){ge.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("string"==typeof e?this.setString(e):"undefined"!=typeof e["str"]?this.setString(e["str"]):"undefined"!=typeof e["hex"]&&this.setStringHex(e["hex"]))},pe.lang.extend(ge.asn1.DERAbstractString,ge.asn1.ASN1Object),ge.asn1.DERAbstractTime=function(e){ge.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){utc=e.getTime()+6e4*e.getTimezoneOffset();var t=new Date(utc);return t},this.formatDate=function(e,t,a){var s=this.zeroPadding,r=this.localDateToUTC(e),o=String(r.getFullYear());"utc"==t&&(o=o.substr(2,2));var i=s(String(r.getMonth()+1),2),n=s(String(r.getDate()),2),l=s(String(r.getHours()),2),c=s(String(r.getMinutes()),2),u=s(String(r.getSeconds()),2),d=o+i+n+l+c+u;if(!0===a){var h=r.getMilliseconds();if(0!=h){var m=s(String(h),3);m=m.replace(/[0]+$/,""),d=d+"."+m}}return d+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,a,s,r,o){var i=new Date(Date.UTC(e,t-1,a,s,r,o,0));this.setByDate(i)},this.getFreshValueHex=function(){return this.hV}},pe.lang.extend(ge.asn1.DERAbstractTime,ge.asn1.ASN1Object),ge.asn1.DERAbstractStructured=function(e){ge.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,"undefined"!=typeof e&&"undefined"!=typeof e["array"]&&(this.asn1Array=e["array"])},pe.lang.extend(ge.asn1.DERAbstractStructured,ge.asn1.ASN1Object),ge.asn1.DERBoolean=function(){ge.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},pe.lang.extend(ge.asn1.DERBoolean,ge.asn1.ASN1Object),ge.asn1.DERInteger=function(e){ge.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ge.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new A(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["bigint"]?this.setByBigInteger(e["bigint"]):"undefined"!=typeof e["int"]?this.setByInteger(e["int"]):"number"==typeof e?this.setByInteger(e):"undefined"!=typeof e["hex"]&&this.setValueHex(e["hex"]))},pe.lang.extend(ge.asn1.DERInteger,ge.asn1.ASN1Object),ge.asn1.DERBitString=function(e){if(void 0!==e&&"undefined"!==typeof e.obj){var t=ge.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ge.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var a="0"+e;this.hTLV=null,this.isModified=!0,this.hV=a+t},this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var a=0;a<=t;a++)e+="0";var s="";for(a=0;a<e.length-1;a+=8){var r=e.substr(a,8),o=parseInt(r,2).toString(16);1==o.length&&(o="0"+o),s+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+s},this.setByBooleanArray=function(e){for(var t="",a=0;a<e.length;a++)1==e[a]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),a=0;a<e;a++)t[a]=!1;return t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):"undefined"!=typeof e["hex"]?this.setHexValueIncludingUnusedBits(e["hex"]):"undefined"!=typeof e["bin"]?this.setByBinaryString(e["bin"]):"undefined"!=typeof e["array"]&&this.setByBooleanArray(e["array"]))},pe.lang.extend(ge.asn1.DERBitString,ge.asn1.ASN1Object),ge.asn1.DEROctetString=function(e){if(void 0!==e&&"undefined"!==typeof e.obj){var t=ge.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ge.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},pe.lang.extend(ge.asn1.DEROctetString,ge.asn1.DERAbstractString),ge.asn1.DERNull=function(){ge.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},pe.lang.extend(ge.asn1.DERNull,ge.asn1.ASN1Object),ge.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},a=function(e){var a="",s=new A(e,10),r=s.toString(2),o=7-r.length%7;7==o&&(o=0);for(var i="",n=0;n<o;n++)i+="0";r=i+r;for(n=0;n<r.length-1;n+=7){var l=r.substr(n,7);n!=r.length-7&&(l="1"+l),a+=t(parseInt(l,2))}return a};ge.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var s="",r=e.split("."),o=40*parseInt(r[0])+parseInt(r[1]);s+=t(o),r.splice(0,2);for(var i=0;i<r.length;i++)s+=a(r[i]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=s},this.setValueName=function(e){var t=ge.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"===typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},pe.lang.extend(ge.asn1.DERObjectIdentifier,ge.asn1.ASN1Object),ge.asn1.DEREnumerated=function(e){ge.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ge.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new A(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["int"]?this.setByInteger(e["int"]):"number"==typeof e?this.setByInteger(e):"undefined"!=typeof e["hex"]&&this.setValueHex(e["hex"]))},pe.lang.extend(ge.asn1.DEREnumerated,ge.asn1.ASN1Object),ge.asn1.DERUTF8String=function(e){ge.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},pe.lang.extend(ge.asn1.DERUTF8String,ge.asn1.DERAbstractString),ge.asn1.DERNumericString=function(e){ge.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},pe.lang.extend(ge.asn1.DERNumericString,ge.asn1.DERAbstractString),ge.asn1.DERPrintableString=function(e){ge.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},pe.lang.extend(ge.asn1.DERPrintableString,ge.asn1.DERAbstractString),ge.asn1.DERTeletexString=function(e){ge.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},pe.lang.extend(ge.asn1.DERTeletexString,ge.asn1.DERAbstractString),ge.asn1.DERIA5String=function(e){ge.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},pe.lang.extend(ge.asn1.DERIA5String,ge.asn1.DERAbstractString),ge.asn1.DERUTCTime=function(e){ge.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return"undefined"==typeof this.date&&"undefined"==typeof this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},pe.lang.extend(ge.asn1.DERUTCTime,ge.asn1.DERAbstractTime),ge.asn1.DERGeneralizedTime=function(e){ge.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},pe.lang.extend(ge.asn1.DERGeneralizedTime,ge.asn1.DERAbstractTime),ge.asn1.DERSequence=function(e){ge.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){var a=this.asn1Array[t];e+=a.getEncodedHex()}return this.hV=e,this.hV}},pe.lang.extend(ge.asn1.DERSequence,ge.asn1.DERAbstractStructured),ge.asn1.DERSet=function(e){ge.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var a=this.asn1Array[t];e.push(a.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},"undefined"!=typeof e&&"undefined"!=typeof e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},pe.lang.extend(ge.asn1.DERSet,ge.asn1.DERAbstractStructured),ge.asn1.DERTaggedObject=function(e){ge.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,a){this.hT=t,this.isExplicit=e,this.asn1Object=a,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=a.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["tag"]&&(this.hT=e["tag"]),"undefined"!=typeof e["explicit"]&&(this.isExplicit=e["explicit"]),"undefined"!=typeof e["obj"]&&(this.asn1Object=e["obj"],this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},pe.lang.extend(ge.asn1.DERTaggedObject,ge.asn1.ASN1Object);var fe=function(e){function t(a){var s=e.call(this)||this;return a&&("string"===typeof a?s.parseKey(a):(t.hasPrivateKeyProperty(a)||t.hasPublicKeyProperty(a))&&s.parsePropertiesFrom(a)),s}return g(t,e),t.prototype.parseKey=function(e){try{var t=0,a=0,s=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,r=s.test(e)?b.decode(e):y.unarmor(e),o=$.decode(r);if(3===o.sub.length&&(o=o.sub[2].sub[0]),9===o.sub.length){t=o.sub[1].getHexStringValue(),this.n=O(t,16),a=o.sub[2].getHexStringValue(),this.e=parseInt(a,16);var i=o.sub[3].getHexStringValue();this.d=O(i,16);var n=o.sub[4].getHexStringValue();this.p=O(n,16);var l=o.sub[5].getHexStringValue();this.q=O(l,16);var c=o.sub[6].getHexStringValue();this.dmp1=O(c,16);var u=o.sub[7].getHexStringValue();this.dmq1=O(u,16);var d=o.sub[8].getHexStringValue();this.coeff=O(d,16)}else{if(2!==o.sub.length)return!1;var h=o.sub[1],m=h.sub[0];t=m.sub[0].getHexStringValue(),this.n=O(t,16),a=m.sub[1].getHexStringValue(),this.e=parseInt(a,16)}return!0}catch(p){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new ge.asn1.DERInteger({int:0}),new ge.asn1.DERInteger({bigint:this.n}),new ge.asn1.DERInteger({int:this.e}),new ge.asn1.DERInteger({bigint:this.d}),new ge.asn1.DERInteger({bigint:this.p}),new ge.asn1.DERInteger({bigint:this.q}),new ge.asn1.DERInteger({bigint:this.dmp1}),new ge.asn1.DERInteger({bigint:this.dmq1}),new ge.asn1.DERInteger({bigint:this.coeff})]},t=new ge.asn1.DERSequence(e);return t.getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return d(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new ge.asn1.DERSequence({array:[new ge.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new ge.asn1.DERNull]}),t=new ge.asn1.DERSequence({array:[new ge.asn1.DERInteger({bigint:this.n}),new ge.asn1.DERInteger({int:this.e})]}),a=new ge.asn1.DERBitString({hex:"00"+t.getEncodedHex()}),s=new ge.asn1.DERSequence({array:[e,a]});return s.getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return d(this.getPublicBaseKey())},t.wordwrap=function(e,t){if(t=t||64,!e)return e;var a="(.{1,"+t+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(a,"g")).join("\n")},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n",e+="-----END RSA PRIVATE KEY-----",e},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n",e+="-----END PUBLIC KEY-----",e},t.hasPublicKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}(ce),be=function(){function e(e){e=e||{},this.default_key_size=parseInt(e.default_key_size,10)||1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new fe(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt(h(e))}catch(t){return!1}},e.prototype.encrypt=function(e){try{return d(this.getKey().encrypt(e))}catch(t){return!1}},e.prototype.sign=function(e,t,a){try{return d(this.getKey().sign(e,t,a))}catch(s){return!1}},e.prototype.verify=function(e,t,a){try{return this.getKey().verify(e,h(t),a)}catch(s){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new fe,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.prototype.encryptLong=function(e){var t=this.getKey();try{var a="",s=new Array;s.push(0);var r,o,i=0;r=e.length;for(var n=0,l=0;l<r;l++)o=e.charCodeAt(l),i+=o>=65536&&o<=1114111?4:o>=2048&&o<=65535?3:o>=128&&o<=2047?2:1,(i%117>=114||i%117==0)&&i-n>=114&&(s.push(l),n=i);if(s.length>1){for(l=0;l<s.length-1;l++){var c;c=0==l?e.substring(0,s[l+1]+1):e.substring(s[l]+1,s[l+1]+1);var u=t.encrypt(c);a+=u}if(s[s.length-1]!=e.length-1){var h=e.substring(s[s.length-1]+1);a+=t.encrypt(h)}return d(a)}var m=t.encrypt(e),p=d(m);return p}catch(g){return!1}},e.version="3.0.0-rc.1",e}();window.JSEncrypt=be,e.JSEncrypt=be,e.default=be,Object.defineProperty(e,"__esModule",{value:!0})});var le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ce(e){var t,a,s,r,o,i="",n="",l="",c=0;do{t=e.charCodeAt(c++),a=e.charCodeAt(c++),n=e.charCodeAt(c++),s=t>>2,r=(3&t)<<4|a>>4,o=(15&a)<<2|n>>6,l=63&n,isNaN(a)?o=l=64:isNaN(n)&&(l=64),i=i+le.charAt(s)+le.charAt(r)+le.charAt(o)+le.charAt(l),t=a=n="",s=r=o=l=""}while(c<e.length);return i}var ue;a("4328");M.a.defaults.withCredentials=!0,s["default"].prototype.GetDateStr=ce;var de=(ue={data:function(){return{baseUrl:this.GLOBAL.baseUrl,VerificationImg:"",timeValue:"",ruleForm:{username:"",password:"",captcha:""},show01:!1,show02:!1,show03:!1,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},created:function(){var e=(new Date).getTime();console.log(e),this.timeValue=e,this.VerificationImg="",this.loadYanZhengMaChange()},mounted:function(){},methods:{clickVerification:function(){},imgUrls:function(e){},submitAccountForm:function(e){var t=this;this.$refs[e].validate(function(a){a&&t.submitForm(e)})},submitForm:function(e){var t=this,a=(new Date).getTime();this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;M()({method:"get",url:t.baseUrl+"/fweb-security/login/getPublicKey?_="+a,headers:{"Content-Type":"application/json;charset=utf-8"},withCredentials:!0,params:{}}).then(function(e){console.log(e);var a=t.getJiaMiPassword(e.data.data.publicKey,e.data.data.random);console.log(a),t.loginAction2(a)}).catch(function(e){console.log(e)})})},getJiaMiPassword:function(e,t){var a=new JSEncrypt;a.setPublicKey(e);var s=ce(this.ruleForm.password);console.log(s);var r=a.encryptLong(this.ruleForm.password+","+s+","+t);return console.log(r),r},loginAction2:function(e){var t=this;M()({method:"post",url:this.baseUrl+"/fweb-security/login/dologin?_=1564731257918",headers:{"Content-Type":"application/json;charset=utf-8"},withCredentials:!0,data:{userCode:this.ruleForm.username,enPassword:e,rememberMe:!1,captcha:this.ruleForm.captcha}}).then(function(e){if(console.log(e),"10200"==e.data.code)t.$message({type:"success",message:"登录成功"}),sessionStorage.setItem("ms_usercode",t.ruleForm.username),sessionStorage.setItem("ms_username",e.data.data.userName),sessionStorage.setItem("ms_password",t.ruleForm.password),t.$router.push("/xtsz/yhgl");else{if("10404"==e.data.status)return t.$message({type:"error",message:"当前用户已被管理员锁定，请联系管理员"}),!1;"10401"==e.data.status||"10402"==e.data.status?(t.loadYanZhengMaChange(),t.$message({type:"error",message:"用户名或密码错误"}),console.log("用户名或密码错误")):"10403"==e.data.status?(t.$message({type:"error",message:"系统提示','密码错误多次，帐号已被锁定"}),console.log("系统提示','密码错误多次，帐号已被锁定")):"10405"==e.data.status?(t.loadYanZhengMaChange(),t.$message({type:"error",message:"系统提示','验证码错误"}),console.log("系统提示','验证码错误")):"10406"==e.data.status?(t.$message({type:"error",message:"系统提示','不在可登陆时间"}),console.log("系统提示','不在可登陆时间")):"10407"==e.data.status&&(t.$message({type:"error",message:"系统提示','用户口令在传输过程中可能被篡改"}),console.log("系统提示','用户口令在传输过程中可能被篡改"))}}).catch(function(e){console.error(e)})},resetForm:function(e){console.log(e),this.ruleForm.username="",this.ruleForm.password="",this.ruleForm.captcha=""},loadYanZhengMa:function(){var e=this,t=(new Date).getTime();M()({method:"get",url:this.baseUrl+"/fweb-security/login/captcha/captcha?_="+t,headers:{"Content-Type":"application/json;charset=utf-8"},withCredentials:!0,params:{}}).then(function(t){e.VerificationImg="/fweb-security/login/captcha/captcha?_="+e.timeValue}).catch(function(e){console.log(e)})},test:function(){this.VerificationImg=""},loadYanZhengMaChange:function(){var e=this,t=(new Date).getTime();this.VerificationImg="",M()({method:"get",url:this.baseUrl+"/fweb-security/login/captcha/captcha?_="+t,headers:{"Content-Type":"application/json;charset=utf-8"},withCredentials:!0,params:{}}).then(function(t){e.VerificationImg="/fweb-security/login/captcha/captcha?_="+e.timeValue+new Date}).catch(function(e){console.log(e)})},captchaPeiZhi:function(e){M()({method:"get",url:this.baseUrl+"/fweb-security/login/captcha/captchaConfig",headers:{"Content-Type":"application/json;charset=utf-8"},withCredentials:!0,params:{}}).then(function(e){console.log(e)}),console.log(e)},loadMenu:function(){M()({method:"get",url:this.baseUrl+"/fweb-security/user/queryuserloginmenu",params:{parentMenuId:"0"}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}}},Object(ie["a"])(ue,"created",function(){this.loadYanZhengMa()}),Object(ie["a"])(ue,"mounted",function(){this.imgUrls(.1)}),ue),he=de,me=(a("c571"),Object(l["a"])(he,re,oe,!1,null,"f4243dbc",null)),pe=me.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modify-wrap"},[a("div",{staticClass:"ms-modify"},[a("div",{staticClass:"ms-modify-title"},[e._v("修改密码")]),a("el-form",{ref:"ruleFormRef",staticClass:"ms-content",attrs:{model:e.ruleForm,rules:e.rules,"label-position":e.labelPosition,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"原密码:",prop:"pass"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:"请输入原密码",type:"password"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1)],1),a("el-form-item",{attrs:{label:"新密码:",prop:"newpass"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:"请输入新密码",id:"newkey",type:"password"},model:{value:e.ruleForm.newpass,callback:function(t){e.$set(e.ruleForm,"newpass",t)},expression:"ruleForm.newpass"}})],1)],1),a("el-form-item",{attrs:{label:"重复新密码:",prop:"checknewpass"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:"请再次输入新密码",id:"newkey1",type:"password"},model:{value:e.ruleForm.checknewpass,callback:function(t){e.$set(e.ruleForm,"checknewpass",t)},expression:"ruleForm.checknewpass"}})],1)],1),a("div",{staticClass:"modify-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleFormRef")}}},[e._v("提 交")]),a("el-button",{attrs:{type:"info",command:"cancel"},on:{click:function(t){return e.cancelBtnClick("cancel")}}},[e._v("取 消")])],1)],1)],1)])},fe=[],be={data:function(){var e=this,t=function(t,a,s){""===a?s(new Error("请再次输入密码")):a!==e.ruleForm.newpass?s(new Error("两次输入密码不一致!")):s()};return{labelPosition:"right",ruleForm:{pass:"",newpass:"",checknewpass:""},rules:{pass:[{required:!0,message:"请输入密码"}],newpass:[{required:!0,message:"请输入新密码"}],checknewpass:[{required:!0,validator:t,trigger:"blur"}]}}},methods:{submitForm:function(e){},cancelBtnClick:function(e){"cancel"==e&&this.$router.push("/login"),console.log(e)}}},ye=be,we=(a("46da"),Object(l["a"])(ye,ge,fe,!1,null,"3e9143c4",null)),ve=we.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"h-100",attrs:{gutter:5}},[a("el-col",{staticClass:"h-100",attrs:{span:24}},[a("el-card",{staticClass:"h-99",attrs:{shadow:"hover","body-style":"padding:3px;"}},[a("el-form",{ref:"userForm",staticClass:"zw-authorized-form",attrs:{model:e.userForm,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入姓名",size:"mini"},model:{value:e.userForm.userName,callback:function(t){e.$set(e.userForm,"userName",t)},expression:"userForm.userName"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户账号"}},[a("el-input",{attrs:{placeholder:"请输入账号",size:"mini"},model:{value:e.userForm.userAccount,callback:function(t){e.$set(e.userForm,"userAccount",t)},expression:"userForm.userAccount"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户类型",prop:"userType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.userForm.userType,callback:function(t){e.$set(e.userForm,"userType",t)},expression:"userForm.userType"}},e._l(e.userTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否锁定",prop:"ifLock"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.userForm.ifLock,callback:function(t){e.$set(e.userForm,"ifLock",t)},expression:"userForm.ifLock"}},e._l(e.ifLockData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:1}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.searchUserGridData}},[e._v("查询")])],1)],1)],1)],1),a("div",{staticClass:"grid-content bg-purple"},[a("div",{ref:"table_print"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadtable,expression:"loadtable"}],attrs:{data:e.userTableDatas,"tooltip-effect":"dark",height:e.userTableHeight,size:"mini",border:"","highlight-current-row":"","row-class-name":"table-row-height","element-loading-text":"数据加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"#f4f4f4"},on:{"current-change":e.handleCurrentChange,"selection-change":e.getRowDatas,"row-click":e.getUserGridDetails}},[e.show?a("el-table-column",{attrs:{type:"selection",width:"40"}}):e._e(),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号",index:e.indexMethod}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"用户id"}}):e._e(),a("el-table-column",{attrs:{prop:"userName",label:"用户姓名",width:"80"}}),a("el-table-column",{attrs:{prop:"userCode",label:"用户账号"}}),a("el-table-column",{attrs:{prop:"failedLoginTimes",label:"登录失败次数",width:"100"}}),e.show?a("el-table-column",{attrs:{prop:"userType",label:"用户类型id"}}):e._e(),a("el-table-column",{attrs:{prop:"userTypeName",label:"用户类型"}}),a("el-table-column",{attrs:{prop:"passwdExpectation",label:"密码有效期",width:"120"}}),e.show?a("el-table-column",{attrs:{prop:"isLocked",label:"是否锁定id",width:"95"}}):e._e(),a("el-table-column",{attrs:{prop:"isLockedName",label:"是否锁定",width:"70"}}),a("el-table-column",{attrs:{prop:"unlockDate",label:"解锁时间","min-width":"100"}}),a("el-table-column",{attrs:{prop:"latestLoginTime",label:"最近登录时间"}}),e.show?a("el-table-column",{attrs:{prop:"mobilePhone",label:"手机号码"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"email",label:"用户邮箱"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"qq",label:"QQ"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"wechat",label:"微信号"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"idCard",label:"身份证号码"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"isCertification",label:"是否实名制"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"tel",label:"电话号码"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"sex",label:"性别"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"userAvatar",label:"用户头像"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"signaturePic",label:"签名图片"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"desc",label:"备注"}}):e._e(),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",[a("i",{staticClass:"el-icon-tickets fs-14 d-ib m-10",attrs:{title:"详情"},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}})]),a("a",[a("i",{staticClass:"el-icon-edit fs-14 d-ib m-10",attrs:{title:"修改",size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}})]),a("a",[a("i",{staticClass:"el-icon-delete fs-14 d-ib m-10",attrs:{title:"删除",size:"mini"},on:{click:function(a){return e.handleDel(t.$index,t.row)}}})]),0==t.row.isLocked?a("a",[a("i",{staticClass:"icons-lock-fill fs-14 d-ib m-10",attrs:{title:"锁定",size:"mini"},on:{click:function(a){return e.lockBtnClick(t.$index,t.row)}}})]):a("a",[a("i",{staticClass:"icons-jiesuo fs-14 d-ib m-10",attrs:{title:"解锁",size:"mini"},on:{click:function(a){return e.unlockBtnClick(t.$index,t.row)}}})]),a("a",[a("i",{staticClass:"icons-key fs-14 d-ib m-10",attrs:{title:"密码重置",size:"mini"},on:{click:function(a){return e.resetPassword(t.$index,t.row)}}})])]}}])})],1)],1),a("el-row",{staticClass:"page-margin-top"},[a("el-col",{staticStyle:{"margin-top":"12px"},attrs:{span:14}},[a("el-button",{attrs:{type:"text"},on:{click:e.addUserFunc}},[e._v("新增用户")]),a("el-button",{attrs:{type:"text",disabled:""}},[e._v("|")]),a("el-button",{attrs:{type:"text"},on:{click:e.shouquanRole}},[e._v("授权角色")]),a("el-button",{attrs:{type:"text",disabled:""}},[e._v("|")]),a("el-button",{attrs:{type:"text"},on:{click:e.shouquanMenu}},[e._v("授权菜单")]),a("el-button",{attrs:{type:"text",disabled:""}},[e._v("|")]),a("el-button",{attrs:{type:"text"},on:{click:e.shouquanPage}},[e._v("授权页面功能")]),a("el-button",{attrs:{type:"text",disabled:""}},[e._v("|")]),a("el-button",{attrs:{type:"text"},on:{click:e.suoshuOrgan}},[e._v("所属组织")]),a("el-button",{attrs:{type:"text",disabled:""}},[e._v("|")]),a("el-button",{attrs:{type:"text"},on:{click:e.suoshuPosition}},[e._v("所属职位")]),a("el-button",{attrs:{type:"text",disabled:""}},[e._v("|")]),a("el-button",{attrs:{type:"text"},on:{click:e.shouquanHistory}},[e._v("用户历史记录")])],1),a("el-col",{attrs:{span:7,offset:2}},[a("el-pagination",{staticClass:"f-r m-10 center-box",attrs:{background:"",small:"","page-sizes":[10,20,50],"page-size":e.rows,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"current-change":e.currChange,"size-change":e.SizeChange}})],1)],1)],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"用户详情",visible:e.detailFormVisible},on:{"update:visible":function(t){e.detailFormVisible=t}}},[a("el-form",{ref:"detailForm",attrs:{model:e.detailForm,"label-width":"95px",rules:e.detailFormRules}},[a("table",{staticClass:"mailTable",staticStyle:{width:"100%"}},[a("tr",[a("td",{staticClass:"column"},[e._v("用户账号")]),a("td",{staticClass:"column2"},[e._v(e._s(e.detailForm.userCode))]),a("td",{staticClass:"column"},[e._v("用户姓名")]),a("td",{staticClass:"column2"},[e._v(e._s(e.detailForm.userName))])]),a("tr",[a("td",{staticClass:"column"},[e._v("用户类型")]),0==e.detailForm.userType?a("td",{staticClass:"column2"},[e._v("admin管理用户")]):1==e.detailForm.userType?a("td",{staticClass:"column2"},[e._v("非admin管理用户")]):2==e.detailForm.userType?a("td",{staticClass:"column2"},[e._v("企业用户")]):a("td",{staticClass:"column2"},[e._v("个人用户")]),a("td",{staticClass:"column"},[e._v("密码有效期")]),a("td",{staticClass:"column2"},[e._v(e._s(e.detailForm.passwdExp)+" 天")])]),a("tr",[a("td",{staticClass:"column"},[e._v("手机号码")]),a("td",{staticClass:"column2"},[e._v(e._s(e.detailForm.mobilePhone))]),a("td",{staticClass:"column"},[e._v("用户邮箱")]),a("td",{staticClass:"column2"},[e._v(e._s(e.detailForm.email))])]),a("tr",[a("td",{staticClass:"column"},[e._v("QQ")]),a("td",{staticClass:"column2"},[e._v(e._s(e.detailForm.qq))]),a("td",{staticClass:"column"},[e._v("微信号")]),a("td",{staticClass:"column2"},[e._v(e._s(e.detailForm.wechat))])]),a("tr",[a("td",{staticClass:"column"},[e._v("身份证号码")]),a("td",{staticClass:"column2"},[e._v(e._s(e.detailForm.idCard))]),a("td",{staticClass:"column"},[e._v("是否实名制")]),a("td",{staticClass:"column2"},[e._v(e._s(this.rowGridDetailData.isCertificationName))])]),a("tr",[a("td",{staticClass:"column"},[e._v("电话号码")]),a("td",{staticClass:"column2"},[e._v(e._s(e.detailForm.tel))]),a("td",{staticClass:"column"},[e._v("性别")]),1==this.rowGridDetailData.sex?a("td",{staticClass:"column2"},[e._v("男")]):a("td",{staticClass:"column2"},[e._v("女")])]),a("tr",[a("td",{staticClass:"column"},[e._v("用户头像")]),a("td",{staticClass:"column2"},[a("a",{staticClass:"img-a",staticStyle:{"text-decoration":"underline",color:"#666"},attrs:{href:this.downloadURL+this.rowGridDetailData.userAvatar}},[e._v("\n                  "+e._s(this.userImg)+"\n                  ")])]),a("td",{staticClass:"column"},[e._v("签名图片")]),a("td",{staticClass:"column2"},[a("a",{staticClass:"img-a",staticStyle:{"text-decoration":"underline",color:"#666"},attrs:{href:this.downloadURL+this.rowGridDetailData.signaturePic}},[e._v("\n                  "+e._s(this.qianmImg)+"\n                  ")])])]),a("tr",[a("td",{staticClass:"column"},[e._v("备注")]),a("td",{staticClass:"column2",attrs:{colspan:"3"}},[e._v(e._s(e.detailForm.desc))])])])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){e.detailFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"编辑用户",visible:e.editFormVisible},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",staticClass:"form-item-add-18",attrs:{model:e.editForm,"label-width":"110px",rules:e.editFormRules}},[a("el-row",{staticClass:"start-box"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户账号:",prop:"userAccountEdit"}},[a("el-input",{attrs:{disabled:"",maxlength:"50"},model:{value:e.editForm.userAccountEdit,callback:function(t){e.$set(e.editForm,"userAccountEdit",t)},expression:"editForm.userAccountEdit"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户姓名:",prop:"userNameEdit"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.editForm.userNameEdit,callback:function(t){e.$set(e.editForm,"userNameEdit",t)},expression:"editForm.userNameEdit"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户类型:",prop:"userTypeEdit"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.editForm.userTypeEdit,callback:function(t){e.$set(e.editForm,"userTypeEdit",t)},expression:"editForm.userTypeEdit"}},e._l(e.userTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"密码有效期:",prop:"passwdExpEdit"}},[a("el-input",{attrs:{maxlength:"5"},model:{value:e.editForm.passwdExpEdit,callback:function(t){e.$set(e.editForm,"passwdExpEdit",e._n(t))},expression:"editForm.passwdExpEdit"}},[a("template",{slot:"append"},[e._v("天")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码:",prop:"mobilePhoneEdit"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.editForm.mobilePhoneEdit,callback:function(t){e.$set(e.editForm,"mobilePhoneEdit",t)},expression:"editForm.mobilePhoneEdit"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户邮箱:",prop:"emailEdit"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.editForm.emailEdit,callback:function(t){e.$set(e.editForm,"emailEdit",t)},expression:"editForm.emailEdit"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ:",prop:"qqEdit"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.editForm.qqEdit,callback:function(t){e.$set(e.editForm,"qqEdit",t)},expression:"editForm.qqEdit"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信号:",prop:"wechatEdit"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.editForm.wechatEdit,callback:function(t){e.$set(e.editForm,"wechatEdit",t)},expression:"editForm.wechatEdit"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号码:",prop:"idCardEdit"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.editForm.idCardEdit,callback:function(t){e.$set(e.editForm,"idCardEdit",t)},expression:"editForm.idCardEdit"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电话号码:",prop:"telEdit"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.editForm.telEdit,callback:function(t){e.$set(e.editForm,"telEdit",t)},expression:"editForm.telEdit"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否实名制:",prop:"isCertificationAdd"}},[a("el-checkbox",{attrs:{disabled:"",label:"是"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"性别:",prop:"sexEdit"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("男")]),a("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("女")])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"form-upload",attrs:{label:"用户头像:"}},[a("el-upload",{ref:"upload1",staticClass:"upload-demo upload-btn my-upload",attrs:{action:"","before-upload":e.uploadFile1,"on-preview":e.handlePreview,"on-remove":e.handleRemoveEdit1,"file-list":e.fileList,"auto-upload":!0,"show-file-list":"",accept:"image/*"}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",size:"mini"}},[e._v("浏览")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"签名图片:"}},[a("el-upload",{ref:"upload2",staticClass:"upload-demo upload-btn my-upload",attrs:{action:"","before-upload":e.uploadFile2,"on-preview":e.handlePreview,"on-remove":e.handleRemoveEdit2,"file-list":e.fileList2,"auto-upload":!0,"show-file-list":"",accept:"image/*"}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",size:"mini"}},[e._v("浏览")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注:",prop:"descEdit"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注内容",maxlength:"250"},model:{value:e.editForm.descEdit,callback:function(t){e.$set(e.editForm,"descEdit",t)},expression:"editForm.descEdit"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return e.editSubmit("editForm")}}},[e._v("确定")])],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"新增用户",visible:e.addUserFormVisible},on:{"update:visible":function(t){e.addUserFormVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"form-item-add-18",attrs:{model:e.addForm,"label-width":"120px",rules:e.addFormRules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户账号",prop:"userAccountAdd"}},[a("el-input",{attrs:{"auto-complete":"off",maxlength:"50"},model:{value:e.addForm.userAccountAdd,callback:function(t){e.$set(e.addForm,"userAccountAdd",t)},expression:"addForm.userAccountAdd"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"userNameAdd"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.addForm.userNameAdd,callback:function(t){e.$set(e.addForm,"userNameAdd",t)},expression:"addForm.userNameAdd"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户类型",prop:"userTypeAdd"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.addForm.userTypeAdd,callback:function(t){e.$set(e.addForm,"userTypeAdd",t)},expression:"addForm.userTypeAdd"}},e._l(e.userTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"密码有效期",prop:"passwdExpAdd"}},[a("el-input",{attrs:{maxlength:"5"},model:{value:e.addForm.passwdExpAdd,callback:function(t){e.$set(e.addForm,"passwdExpAdd",e._n(t))},expression:"addForm.passwdExpAdd"}},[a("template",{slot:"append"},[e._v("天")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码",prop:"mobilePhoneAdd"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.addForm.mobilePhoneAdd,callback:function(t){e.$set(e.addForm,"mobilePhoneAdd",t)},expression:"addForm.mobilePhoneAdd"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户邮箱",prop:"emailAdd"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.addForm.emailAdd,callback:function(t){e.$set(e.addForm,"emailAdd",t)},expression:"addForm.emailAdd"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ",prop:"qqAdd"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.addForm.qqAdd,callback:function(t){e.$set(e.addForm,"qqAdd",t)},expression:"addForm.qqAdd"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信号",prop:"wechatAdd"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.addForm.wechatAdd,callback:function(t){e.$set(e.addForm,"wechatAdd",t)},expression:"addForm.wechatAdd"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号码",prop:"idCardAdd"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.addForm.idCardAdd,callback:function(t){e.$set(e.addForm,"idCardAdd",t)},expression:"addForm.idCardAdd"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电话号码",prop:"telAdd"}},[a("el-input",{attrs:{maxlength:"20"},model:{value:e.addForm.telAdd,callback:function(t){e.$set(e.addForm,"telAdd",t)},expression:"addForm.telAdd"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"是否实名制",prop:"isCertificationAdd"}},[a("el-checkbox",{attrs:{disabled:"",label:"是"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"性别",prop:"sexAdd"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("男")]),a("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("女")])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户头像"}},[a("el-upload",{ref:"upload1",staticClass:"upload-demo upload-btn my-upload",attrs:{action:"","before-upload":e.uploadFile1,"on-preview":e.handlePreview,"on-remove":e.handleRemoveAdd1,"file-list":e.fileList3,"auto-upload":!0,"show-file-list":"",accept:"image/*"}},[a("el-button",{attrs:{type:"success",size:"mini"}},[e._v("浏览")])],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"签名图片"}},[a("el-upload",{ref:"upload2",staticClass:"upload-demo upload-btn my-upload",attrs:{action:"","before-upload":e.uploadFile2,"on-preview":e.handlePreview,"on-remove":e.handleRemoveAdd2,"file-list":e.fileList4,"auto-upload":!0,"show-file-list":"",accept:"image/*"}},[a("el-button",{attrs:{type:"success",size:"mini"}},[e._v("浏览")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"descAdd"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注内容",maxlength:"250"},model:{value:e.addForm.descAdd,callback:function(t){e.$set(e.addForm,"descAdd",t)},expression:"addForm.descAdd"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(t){e.addUserFormVisible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addSubmit("addForm")}}},[e._v("确定")])],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"shouquanRoleTitle",attrs:{title:"授权角色",visible:e.addRoleFormVisible,width:"60%"},on:{"update:visible":function(t){e.addRoleFormVisible=t}}},[a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formRole1",staticClass:"zw-authorized-form",attrs:{model:e.formRole1}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权角色","label-width":"85px"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"角色类型",prop:"RoleType1","label-width":"100px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formRole1.RoleType1,callback:function(t){e.$set(e.formRole1,"RoleType1",t)},expression:"formRole1.RoleType1"}},e._l(e.optionsRole1,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"角色名称",prop:"RoleName1","label-width":"100px"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formRole1.RoleName1,callback:function(t){e.$set(e.formRole1,"RoleName1",t)},expression:"formRole1.RoleName1"}})],1)],1),a("el-col",{attrs:{span:2,offset:2}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.roleSearchBtnClick}},[e._v("查询")])],1)],1)],1)],1),a("el-card",{staticClass:"box-card table",staticStyle:{"margin-top":"0px"},attrs:{shadow:"hover","body-style":"padding:5px;"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{ref:"table_print",staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"rolePostionTableUp",staticClass:"table-row-height",staticStyle:{width:"100%"},attrs:{data:e.userDialogTablesData,"tooltip-effect":"dark",height:"170",size:"mini",border:""},on:{"selection-change":e.handleSelectionChangeRoleUp}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"id"}}):e._e(),a("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),a("el-table-column",{attrs:{prop:"roleCode",label:"角色编码"}}),e.show?a("el-table-column",{attrs:{prop:"roleType",label:"角色类型"}}):e._e(),a("el-table-column",{attrs:{prop:"roleTypeName",label:"角色类型"}}),e.show?a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"desc",label:"备注"}}):e._e()],1)],1)])])],1)],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doubleRoleClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleUserRole},on:{click:e.singleRoleClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnUserRole},on:{click:e.singleRoleCancelClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doubleRoleCancelClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formRole2",staticClass:"zw-authorized-form",attrs:{model:e.formRole2}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权角色","label-width":"85px"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"角色类型:",prop:"RoleType2","label-width":"100px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formRole2.RoleType2,callback:function(t){e.$set(e.formRole2,"RoleType2",t)},expression:"formRole2.RoleType2"}},e._l(e.optionsRole2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"角色名称:",prop:"RoleName2","label-width":"100px"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formRole2.RoleName2,callback:function(t){e.$set(e.formRole2,"RoleName2",t)},expression:"formRole2.RoleName2"}})],1)],1),a("el-col",{attrs:{span:2,offset:2}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.roleSearchBtnClick2}},[e._v("查询")])],1)],1)],1)],1),a("el-card",{staticClass:"box-card table",staticStyle:{"margin-top":"0px"},attrs:{shadow:"hover","body-style":"padding:5px;"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{ref:"table_print",staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"rolePostionTableDown",staticClass:"table-row-height",attrs:{data:e.userDialogTablesData2,"tooltip-effect":"dark",height:"170",size:"mini",border:""},on:{"selection-change":e.handleSelectionChangeRoleDown}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"id"}}):e._e(),a("el-table-column",{attrs:{prop:"roleName",label:"角色名称"}}),a("el-table-column",{attrs:{prop:"roleCode",label:"角色编码"}}),e.show?a("el-table-column",{attrs:{prop:"roleType",label:"角色类型"}}):e._e(),a("el-table-column",{attrs:{prop:"roleTypeName",label:"角色类型"}}),e.show?a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"desc",label:"备注"}}):e._e()],1)],1)])])],1)],1)],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"授权菜单",visible:e.addMenuFormVisible,width:"70%"},on:{"update:visible":function(t){e.addMenuFormVisible=t}}},[a("el-form",{staticClass:"zw-authorized-form pane-border"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权菜单"}})],1)],1),a("el-row",[a("el-col",{staticStyle:{padding:"0px 5px 0px 0px"},attrs:{span:8}},[a("div",{ref:"userDiv",staticClass:"tree-scroll",staticStyle:{height:"200px",border:"1px solid #ddd"}},[e.isUpdate?a("el-tree",{ref:"treeMenuDialog",attrs:{data:e.menuTreeData,props:e.menuProps,"node-key":"id",draggable:"","highlight-current":"",load:e.getOrgListMenu,"expand-on-click-node":!1,lazy:""},on:{"node-click":e.handleNodeClickBtnMenu}}):e._e()],1)]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{ref:"table_print",staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"menuTableRef1",staticClass:"table-row-height",attrs:{data:e.menuTableData1,"tooltip-effect":"dark",height:"200",size:"mini",border:""},on:{"selection-change":e.handleSelectionChangeMenu1}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"id"}}):e._e(),a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称"}}),a("el-table-column",{attrs:{prop:"menuCode",label:"菜单编码"}}),e.show?a("el-table-column",{attrs:{prop:"sysId",label:"系统id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"sysName",label:"系统名称"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"moduleId",label:"模块id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"moduleName",label:"模块名称"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"iconUrl",label:"菜单图标url"}}):e._e(),a("el-table-column",{attrs:{prop:"funcGroupUrl",label:"菜单url"}}),e.show?a("el-table-column",{attrs:{prop:"shiroTag",label:"shiro标签"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"parentMenuId",label:"父菜单id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"displayMethod",label:"显示方式"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"menuSort",label:"菜单排序"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"funcGroupId",label:"功能组id"}}):e._e()],1)],1)])])],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doubleMenuBtnClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleUserMenu},on:{click:e.singleMenuBtnClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnUserMenu},on:{click:e.singleCancelMenuBtnClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doubleCancelMenuBtnClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formMenu2",staticClass:"zw-authorized-form",attrs:{model:e.formMenu2}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权菜单","label-width":"85px"}})],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"所属系统:",prop:"sqsuoshuSystem","label-width":"75px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},on:{change:e.getModuleList2},model:{value:e.formMenu2.sqsuoshuSystem,callback:function(t){e.$set(e.formMenu2,"sqsuoshuSystem",t)},expression:"formMenu2.sqsuoshuSystem"}},e._l(e.optionsMenuData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"所属模块:",prop:"sqsuoshuModule","label-width":"75px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formMenu2.sqsuoshuModule,callback:function(t){e.$set(e.formMenu2,"sqsuoshuModule",t)},expression:"formMenu2.sqsuoshuModule"}},e._l(e.optionsModule,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"sqMenuName","label-width":"75px"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formMenu2.sqMenuName,callback:function(t){e.$set(e.formMenu2,"sqMenuName",t)},expression:"formMenu2.sqMenuName"}})],1)],1),a("el-col",{attrs:{span:2,offset:1}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.userMenuSearchBtnClick}},[e._v("查询")])],1)],1)],1),a("el-card",{staticClass:"box-card table",staticStyle:{"margin-top":"0px"},attrs:{shadow:"hover","body-style":"padding:5px;"}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{ref:"table_print",staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"menuTableRef2",staticClass:"table-row-height",attrs:{data:e.menuTableData2,"tooltip-effect":"dark",height:"200",size:"mini",border:""},on:{"selection-change":e.handleSelectionChangeMenu2}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"id"}}):e._e(),a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称"}}),a("el-table-column",{attrs:{prop:"menuCode",label:"菜单编码"}}),e.show?a("el-table-column",{attrs:{prop:"sysId",label:"系统id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"sysName",label:"系统名称"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"moduleId",label:"模块id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"moduleName",label:"模块名称"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"iconUrl",label:"菜单图标url"}}):e._e(),a("el-table-column",{attrs:{prop:"funcGroupUrl",label:"菜单url"}}),e.show?a("el-table-column",{attrs:{prop:"shiroTag",label:"shiro标签"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"parentMenuId",label:"父菜单id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"displayMethod",label:"显示方式"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"menuSort",label:"菜单排序"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"funcGroupId",label:"功能组id"}}):e._e()],1)],1)])])],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"授权页面功能",visible:e.addPageFormVisible,width:"80%"},on:{"update:visible":function(t){e.addPageFormVisible=t}}},[a("el-form",{staticClass:"zw-authorized-form pane-border",attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权页面功能"}})],1)],1),a("el-row",[a("el-col",{staticStyle:{padding:"0px 5px 0px 0px"},attrs:{span:8}},[a("div",{ref:"pageDiv",staticClass:"tree-scroll",staticStyle:{height:"200px",border:"1px solid #ddd"}},[e.isUpdate?a("el-tree",{ref:"treePageDialog",attrs:{data:e.pageTreeData,props:e.pageProps,"node-key":"id",draggable:"","highlight-current":"",load:e.getOrgListPage,"expand-on-click-node":!1,lazy:""},on:{"node-click":e.handleNodeClickBtnPage}}):e._e()],1)]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{ref:"table_print",staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"refUserPageTable1",staticClass:"table-row-height",attrs:{data:e.pageTableData1,"tooltip-effect":"dark",height:"200",size:"mini",border:""},on:{"selection-change":e.handleSelectionChangePage1}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"功能主键"}}):e._e(),a("el-table-column",{attrs:{prop:"funcName",label:"功能名称",width:"160px;"}}),a("el-table-column",{attrs:{prop:"funcCode",label:"功能编码"}}),e.show?a("el-table-column",{attrs:{prop:"sysId",label:"系统id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"sysName",label:"系统名称"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"moduleId",label:"模块id"}}):e._e(),a("el-table-column",{attrs:{prop:"moduleName",label:"模块名称"}}),e.show?a("el-table-column",{attrs:{prop:"menuCode",label:"菜单编码"}}):e._e(),a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称"}}),e.show?a("el-table-column",{attrs:{prop:"menuId",label:"菜单id"}}):e._e(),a("el-table-column",{attrs:{prop:"funcUrl",label:"功能url"}}),e.show?a("el-table-column",{attrs:{prop:"funcSort",label:"功能排序"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"shiroTag",label:"shiro标签"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"displayMethod",label:"显示方式"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"funcTypeId",label:"功能类型id"}}):e._e(),a("el-table-column",{attrs:{prop:"funcTypeName",label:"功能类型"}})],1)],1)])])],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doubleUserPageBtnClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleUserPage},on:{click:e.singleUserPageBtnClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnUserPage},on:{click:e.singleUserPageCancelBtnClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doubleUserPageCancelBtnClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formPage2",staticClass:"zw-authorized-form",attrs:{model:e.formPage2}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权页面功能","label-width":"110px"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"所属系统",prop:"pagesuoshuSystem","label-width":"75px"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},on:{change:e.getModuleList3},model:{value:e.formPage2.pagesuoshuSystem,callback:function(t){e.$set(e.formPage2,"pagesuoshuSystem",t)},expression:"formPage2.pagesuoshuSystem"}},e._l(e.suoshuSystemData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"所属模块",prop:"pagesuoshuModule","label-width":"75px"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formPage2.pagesuoshuModule,callback:function(t){e.$set(e.formPage2,"pagesuoshuModule",t)},expression:"formPage2.pagesuoshuModule"}},e._l(e.optionsModulePage,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"功能类型",prop:"pageFuncType","label-width":"75px"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formPage2.pageFuncType,callback:function(t){e.$set(e.formPage2,"pageFuncType",t)},expression:"formPage2.pageFuncType"}},e._l(e.suoshuFuncData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"功能名称",prop:"pageFuncName","label-width":"75px"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formPage2.pageFuncName,callback:function(t){e.$set(e.formPage2,"pageFuncName",t)},expression:"formPage2.pageFuncName"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.userPageSearchBtnClick}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"refUserPageTable2",staticClass:"table-row-height",attrs:{data:e.pageTableData2,"tooltip-effect":"dark",height:"200",size:"mini",border:""},on:{"selection-change":e.handleSelectionChangePage2}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"功能主键"}}):e._e(),a("el-table-column",{attrs:{prop:"funcName",label:"功能名称",width:"160px;"}}),a("el-table-column",{attrs:{prop:"funcCode",label:"功能编码"}}),e.show?a("el-table-column",{attrs:{prop:"sysId",label:"系统id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"sysName",label:"系统名称"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"moduleId",label:"模块id"}}):e._e(),a("el-table-column",{attrs:{prop:"moduleName",label:"模块名称"}}),e.show?a("el-table-column",{attrs:{prop:"menuCode",label:"菜单编码"}}):e._e(),a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称"}}),e.show?a("el-table-column",{attrs:{prop:"menuId",label:"菜单id"}}):e._e(),a("el-table-column",{attrs:{prop:"funcUrl",label:"功能url"}}),e.show?a("el-table-column",{attrs:{prop:"funcSort",label:"功能排序"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"shiroTag",label:"shiro标签"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"displayMethod",label:"显示方式"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"funcTypeId",label:"功能类型id"}}):e._e(),a("el-table-column",{attrs:{prop:"funcTypeName",label:"功能类型"}})],1)],1)],1)],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"所属组织",visible:e.addOrgainFormVisible,width:"60%"},on:{"update:visible":function(t){e.addOrgainFormVisible=t}}},[a("el-form",{staticClass:"zw-authorized-form",attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:9}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未属组织"}})],1),a("el-col",{attrs:{span:15}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"所属组织"}})],1)],1),a("el-row",[a("el-col",{staticStyle:{padding:"0px 5px 0px 0px"},attrs:{span:7}},[a("div",{ref:"organDiv",staticClass:"tree-scroll",staticStyle:{height:"400px",border:"1px solid #ddd"}},[e.isUpdate?a("el-tree",{ref:"organtree",attrs:{data:e.organTreeData,props:e.treePropsOrgan,"node-key":"id",draggable:"","highlight-current":"",load:e.getOrgListOrgan,"expand-on-click-node":!1,lazy:""},on:{"node-click":e.handleNodeOrganBtnClick}}):e._e()],1)]),a("el-col",{staticClass:"h-100",attrs:{span:1}},[a("div",{staticClass:"middle-box",staticStyle:{height:"400px"},attrs:{id:"sqzz"}},[a("el-button",{attrs:{icon:"icons-doubleright",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doubleOrganBtnClick}}),a("el-button",{attrs:{icon:"icons-right",type:"primary",title:"单个授权",plain:"",circle:"",disabled:e.issingleUserOrgan},on:{click:e.singleOrganBtnClick}}),a("el-button",{attrs:{icon:"icons-left",type:"primary",title:"单个取消",plain:"",circle:"",disabled:e.issingleUnUserOrgan},on:{click:e.singleCancelOrganBtnClick}}),a("el-button",{attrs:{icon:"icons-doubleleft",type:"primary",title:"全部取消",plain:"",circle:""},on:{click:e.doubleCancelOrganBtnClick}})],1)]),a("el-col",{staticStyle:{padding:"0px 0px 0px 5px"},attrs:{span:16}},[a("div",{ref:"table_print",staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"refOrganTable",staticClass:"table-row-height",attrs:{data:e.orgainTableData,"tooltip-effect":"dark",height:"400",size:"mini",border:""},on:{"selection-change":e.handleSelectionChangeOrgan}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"组织主键"}}):e._e(),a("el-table-column",{attrs:{prop:"orgName",label:"组织名称"}}),a("el-table-column",{attrs:{prop:"orgCode",label:"组织编码"}}),e.show?a("el-table-column",{attrs:{prop:"orgTypeId",label:"组织类型id"}}):e._e(),a("el-table-column",{attrs:{prop:"orgTypeName",label:"组织类型"}}),e.show?a("el-table-column",{attrs:{prop:"areaId",label:"区域id"}}):e._e(),a("el-table-column",{attrs:{prop:"areaName",label:"区域名称"}}),e.show?a("el-table-column",{attrs:{prop:"areaCode",label:"区域编码"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"parentOrgId",label:"父组织id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"userOrgId",label:"用户-组织id"}}):e._e()],1)],1)])],1)],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"所属职位",visible:e.addPositionFormVisible,width:"70%"},on:{"update:visible":function(t){e.addPositionFormVisible=t}}},[a("el-form",{staticClass:"zw-authorized-form pane-border",attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"所属组织"}})],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未属职位"}})],1)],1),a("el-row",{attrs:{gutter:5}},[a("el-col",{staticStyle:{padding:"0px 5px 0px 0px"},attrs:{span:12}},[a("div",{ref:"table_print",staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"refUserPosition",staticClass:"table-row-height",attrs:{data:e.organTableData,"tooltip-effect":"dark",height:"200",size:"mini",border:"","highlight-current-row":""},on:{"row-click":e.selectClick}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"组织主键"}}):e._e(),a("el-table-column",{attrs:{prop:"orgName",label:"组织名称"}}),a("el-table-column",{attrs:{prop:"orgCode",label:"组织编码"}}),e.show?a("el-table-column",{attrs:{prop:"orgTypeId",label:"组织类型id"}}):e._e(),a("el-table-column",{attrs:{prop:"orgTypeName",label:"组织类型"}}),e.show?a("el-table-column",{attrs:{prop:"areaId",label:"区域id"}}):e._e(),a("el-table-column",{attrs:{prop:"areaName",label:"区域名称"}}),e.show?a("el-table-column",{attrs:{prop:"areaCode",label:"区域编码"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"parentOrgId",label:"父组织id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"userOrgId",label:"用户-组织id"}}):e._e()],1)],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{ref:"table_print",staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"refPositionTable1",staticClass:"table-row-height",attrs:{data:e.positionTableData,"tooltip-effect":"dark",height:"200",size:"mini",border:""},on:{"selection-change":e.handleSelectionChangePosition1}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"职位主键"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"orgCode",label:"组织编码"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"orgName",label:"组织名称"}}):e._e(),a("el-table-column",{attrs:{prop:"jobName",label:"职位名称"}}),a("el-table-column",{attrs:{prop:"jobCode",label:"职位编码"}}),e.show?a("el-table-column",{attrs:{prop:"type",label:"职位类型id"}}):e._e(),a("el-table-column",{attrs:{prop:"typeName",label:"职位类型"}}),e.show?a("el-table-column",{attrs:{prop:"userOrgId",label:"用户组织id"}}):e._e()],1)],1)])])],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doublePositionBtnClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleUserPost},on:{click:e.singlePositionBtnClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnUserPost},on:{click:e.singlePositionCancelBtnClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doublePositionCancelBtnClick}})],1)],1),a("el-form",{staticClass:"zw-authorized-form pane-border",attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"所属职位"}})],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{ref:"table_print",staticStyle:{height:"100%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"refPositionTable2",staticClass:"table-row-height",attrs:{data:e.positionTableData2,"tooltip-effect":"dark",height:"200",size:"mini",border:""},on:{"selection-change":e.handleSelectionChangePosition2}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"职位主键"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"orgCode",label:"组织编码"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"orgName",label:"组织名称"}}):e._e(),a("el-table-column",{attrs:{prop:"jobName",label:"职位名称"}}),a("el-table-column",{attrs:{prop:"jobCode",label:"职位编码"}}),e.show?a("el-table-column",{attrs:{prop:"type",label:"职位类型id"}}):e._e(),a("el-table-column",{attrs:{prop:"typeName",label:"职位类型"}}),e.show?a("el-table-column",{attrs:{prop:"userOrgId",label:"用户组织id"}}):e._e()],1)],1)])])],1)],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"日志记录",visible:e.addLogFormVisible,width:"70%"},on:{"update:visible":function(t){e.addLogFormVisible=t}}},[a("el-form",{ref:"formLog",staticClass:"zw-authorized-form",attrs:{model:e.formLog}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"开始日期","label-width":"75px"}},[a("el-date-picker",{staticStyle:{width:"60%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择开始日期",editable:e.editable},model:{value:e.formLog.startTime,callback:function(t){e.$set(e.formLog,"startTime",t)},expression:"formLog.startTime"}})],1)],1),a("el-col",{attrs:{span:10,offset:1}},[a("el-form-item",{attrs:{label:"结束日期","label-width":"75px"}},[a("el-date-picker",{staticStyle:{width:"60%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择结束日期",editable:e.editable},model:{value:e.formLog.endTime,callback:function(t){e.$set(e.formLog,"endTime",t)},expression:"formLog.endTime"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.logSearchBtnClick}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.logTableData,"tooltip-effect":"dark",height:e.test,"row-class-name":"table-row-height",size:"mini",border:""}},[e.show?a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}):e._e(),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"主键id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"userId",label:"用户id"}}):e._e(),a("el-table-column",{attrs:{prop:"userName",label:"用户姓名"}}),a("el-table-column",{attrs:{prop:"userCode",label:"用户账号"}}),e.show?a("el-table-column",{attrs:{prop:"status",label:"用户状态id"}}):e._e(),a("el-table-column",{attrs:{prop:"statusName",label:"用户状态",width:"100px;"}}),e.show?a("el-table-column",{attrs:{prop:"isLocked",label:"是否锁定id"}}):e._e(),a("el-table-column",{attrs:{prop:"isLockedName",label:"是否锁定",width:"90"}}),a("el-table-column",{attrs:{prop:"serverIp",label:"服务器IP"}}),a("el-table-column",{attrs:{prop:"operateEvent",label:"操作事件"}}),a("el-table-column",{attrs:{prop:"clientIp",label:"客户端IP"}}),a("el-table-column",{attrs:{prop:"changeDate",label:"操作时间",width:"180px;"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:23}},[a("el-pagination",{staticClass:"f-r m-10",attrs:{background:"","page-sizes":[10,20,30,40],"page-size":100,"pager-count":5,layout:"total, sizes, prev, pager, next, jumper",small:"",total:e.totalsLog},on:{"size-change":e.handleSizeChangeHistory,"current-change":e.handleCurrentChangeHistory}})],1)],1)],1)],1)],1)],1)},Te=[],De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{value:e.valueTitle,clearable:e.clearable},on:{clear:e.clearHandle}},[a("el-option",{staticClass:"options",attrs:{value:e.valueTitle,label:e.valueTitle}},[a("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:e.accordion,data:e.options,props:e.props,"node-key":e.props.value,"default-expanded-keys":e.defaultExpandedKey},on:{"node-click":e.handleNodeClick}})],1)],1)},xe=[],Ue=(a("c5f6"),{name:"el-tree-select",props:{props:{type:Object,default:function(){return{value:"id",label:"title",children:"children"}}},options:{type:Array,default:function(){return[]}},value:{type:Number,default:function(){return null}},clearable:{type:Boolean,default:function(){return!0}},accordion:{type:Boolean,default:function(){return!1}}},data:function(){return{valueId:this.value,valueTitle:"",defaultExpandedKey:[]}},mounted:function(){this.initHandle()},methods:{initHandle:function(){this.valueId&&(this.valueTitle=this.$refs.selectTree.getNode(this.valueId).data[this.props.label],this.$refs.selectTree.setCurrentKey(this.valueId),this.defaultExpandedKey=[this.valueId]),this.initScroll()},initScroll:function(){this.$nextTick(function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin: 0px; max-height: none; overflow: hidden;",t.forEach(function(e){return e.style.width=0})})},handleNodeClick:function(e){this.valueTitle=e[this.props.label],this.valueId=e[this.props.value],this.$emit("getValue",this.valueId),this.defaultExpandedKey=[]},clearHandle:function(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null)},clearSelected:function(){var e=document.querySelectorAll("#tree-option .el-tree-node");e.forEach(function(e){return e.classList.remove("is-current")})}},watch:{value:function(){this.valueId=this.value,this.initHandle()}}}),Ne=Ue,$e=(a("61ea"),Object(l["a"])(Ne,De,xe,!1,null,"5827ae8e",null)),Se=$e.exports,ke=(a("7cdf"),function(e){return e&&"number"==typeof+e&&+e===+e?(e/666.6667).toFixed(2):(0).toFixed(2)}),Fe=function(e){return!!e&&!/([\u4e00-\u9fa5]+)|([!@\$%\^&\*\(\)\+`_={}\|\[\]\\:";'<>\?,\.\/·\cx\s]+)|([\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3008|\u3009|\u3010|\u3011|\u300e|\u300f|\u300c|\u300d|\ufe43|\ufe44|\u3014|\u3015|\u2026|\u2014|\uff5e|\ufe4f|\uffe5]+)/.test(e)},_e=function(e){return!/[!@\$%\^&\*\(\)\+`_={}\|\[\]\\:";'<>\?,\.\/·\cx\s]+/.test(e)},Ie=function(e){return!!/(^[1-9][0-9]{0,19}$)|(^0\d{2,3}[-|\s]?\d{7,8}$)/.test(e)},Ae={install:function(e){e.filter("formatNull",function(e,t){return"null"==e||"undefined"==e||"NaN"==e||"false"==e||" "==e||!1===e||null===e||e!==e||void 0===e?0:t&&"number"==typeof e?Number.isInteger(e)?e:e.toFixed(t):e}),e.filter("formatTime",function(e,t){return e?t?e.split(" ")[0]:e:0}),e.filter("filterArea",function(e){return ke(e)})}},Pe={name:"yhgl",components:{SelectTree:Se},data:function(){var e=function(e,t,a){/^[1-9][0-9]{0,19}$/.test(t)?a():a(new Error("请填合法数值"))},t=function(e,t,a){t&&Fe(t)?a():a(new Error("请填合法账号"))},a=function(e,t,a){t&&/[\u4e00-\u9fa5]+/.test(t)?a(new Error("请填合法账号")):a()},s=function(e,t,a){t?/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(t)?a():a(new Error("请填合法身份证号")):a()},r=function(e,t,a){t?/^[1-9][0-9]{4,10}$/.test(t)?a():a(new Error("请填合法QQ号")):a()},o=function(e,t,a){t?/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/.test(t)?a():a(new Error("请填合法微信号")):a()},i=function(e,t,a){t?/0\d{2,3}[-|\s]?\d{7,8}/.test(t)?a():a(new Error("请填合法电话号")):a()},n=function(e,t,a){t?/^0$|^\d+$/.test(t)?a():a(new Error("密码有效期必须为正整数")):a()},l=function(e,t,a){t&&_e(t)?a():a(new Error("请填合法姓名"))};return{baseUrl:this.GLOBAL.baseUrl,isClearable:!0,isAccordion:!0,valueId:0,props:{value:"id",label:"menuName",children:"children"},downloadurl:this.baseUrl+"fweb-fileservice/fileext/",list:[],fileList:[],fileList2:[],fileList3:[],fileList4:[],isUpdate:!0,uploadFlag1:"",uploadFlag2:"",userImg:"",qianmImg:"",show:!1,issingleUserRole:!0,issingleUnUserRole:!0,issingleUserMenu:!0,issingleUnUserMenu:!0,issingleUserPage:!0,issingleUnUserPage:!0,issingleUserOrgan:!0,issingleUnUserOrgan:!0,issingleUserPost:!0,issingleUnUserPost:!0,test:window.innerHeight>657?window.innerHeight-300>400?400:window.innerHeight-300:300,userTableHeight:window.innerHeight>657?window.innerHeight-245:400,addUserFormVisible:!1,addRoleFormVisible:!1,addMenuFormVisible:!1,addPageFormVisible:!1,addOrgainFormVisible:!1,addPositionFormVisible:!1,addLogFormVisible:!1,detailFormVisible:!1,editFormVisible:!1,gridData:"",userType:"",userTypeData:[],userState:"",ifLock:"",ifLockData:[],userTableDatas:[],currentRow:null,rowData:"",radio:"1",checked:!0,userHead:"",signatureImage:"",loading:!1,textarea:"",addLoading:!1,roleType2:"",roleType:"",rootNode:{},singleOrganDisable:!1,menuProps:{label:"menuName",children:"children"},pageProps:{label:"menuName",children:"children"},rowGridDetailData:"",treePropsOrgan:{label:"orgName",children:"children"},changeUserOrgan:[],matchOrganData:[],optionsModulePage:[],pageTreeData:[],userForm:{userName:"",userAccount:"",userType:"",ifLock:""},formRole1:{RoleType1:"",RoleName1:""},changeRolePositonUp:[],changeRolePositonDown:[],formMenu2:{sqsuoshuSystem:"",sqsuoshuModule:"",sqMenuName:""},optionsMenuData:[],formRole2:{RoleType2:"",RoleName2:""},formPage2:{pagesuoshuSystem:"",pagesuoshuModule:"",pagesuoshuMenu:"",pageFuncType:"",pageFuncName:""},selectionChangePage1:[],selectionChangePage2:[],pagesuoshuMenu:"",suoshuSystemData:[],suoshuMenuData:[],suoshuFuncData:[],organTreeData:[],formLog:{startTime:"",endTime:""},rowGridData:"",editable:!1,page:1,rows:10,totals:0,pageLog:1,rowsLog:10,totalsLog:0,addForm:{userAccountAdd:"",userNameAdd:"",userTypeAdd:"",passwdExpAdd:"",mobilePhoneAdd:"",emailAdd:"",qqAdd:"",wechatAdd:"",idCardAdd:"",isCertificationAdd:["是"],checked:!0,telAdd:"",sexAdd:"",descAdd:""},detailForm:{name:"",useraccount:"",faildIndex:""},loadtable:!1,editForm:{userAccountEdit:"",userNameEdit:"",userTypeEdit:"",passwdExpEdit:"",mobilePhoneEdit:"",emailEdit:"",qqEdit:"",wechatEdit:"",idCardEdit:"",isCertificationAdd:["是"],telEdit:"",sexEdit:"",descEdit:""},editFormData:"",editFormRules:{userAccountEdit:[{required:!0,trigger:"blur",validator:a}],userNameEdit:[{required:!0,message:"姓名不能为空",trigger:"blur"},{validator:l}],userTypeEdit:[{required:!0,message:"类型不能为空",trigger:"blur"}],passwdExpEdit:[{required:!0,type:"number",message:"密码有效期不能为空",trigger:"blur"},{validator:n}],mobilePhoneEdit:[{required:!0,trigger:"blur",validator:e}],emailEdit:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],qqEdit:[{trigger:"blur",validator:r}],wechatEdit:[{trigger:"blur",validator:o}],idCardEdit:[{trigger:"blur",validator:s}],telEdit:[{trigger:"blur",validator:i}]},addFormRules:{userAccountAdd:[{required:!0,trigger:"blur",validator:t}],userNameAdd:[{required:!0,message:"请输入用户姓名",trigger:"blur"},{validator:l}],userTypeAdd:[{required:!0,message:"请选择用户类型",trigger:"blur"}],passwdExpAdd:[{required:!0,type:"number",message:"请输入密码有效期",trigger:"blur"},{validator:n}],mobilePhoneAdd:[{required:!0,trigger:"blur",validator:e}],emailAdd:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],qqAdd:[{trigger:"blur",validator:r}],wechatAdd:[{trigger:"blur",validator:o}],idCardAdd:[{trigger:"blur",validator:s}],telAdd:[{trigger:"blur",validator:i}]},detailFormRules:{useraccount:[{required:!0}]},userDialogTablesData:[],userDialogTablesData2:[],organTableData:[],options2:[],optionsRole1:[],optionsRole2:[],menuTreeData:[],changeUserMenuUp:[],changeUserMenuDown:[],optionsMenu:[],typeValue:"",optionsModule:[],menuTableData1:[],menuTableData2:[],pageTableData1:[],pageTableData2:[],orgainTreeData:[],orgainTableData:[],positionTreeData:[],positionTableData:[],positionTableData2:[],changeUserPositon1:[],changeUserPositon2:[],logTableData:[]}},created:function(){},mounted:function(){var e=this;R.$on("resize",function(t){var a=t.height;t.width;e.test=a>657?a-300>400?400:a-300:300,e.userTableHeight=a>657?a-245:400}),console.log(window.innerHeight),this.loadUserTypeData(),this.loadUserIsIfLock();var t={userName:"",userCode:"",userType:"",isLocked:null};this.page=1,this.loadUserGridData(t),this.loadRoleTypeData1(),this.loadSuoShuSystem(),this.loadSuoShuSystem2(),this.loadFunctionType(),this.loadMenuName()},updated:function(){},methods:{loadWindowHeight:function(){var e=this;this.$nextTick(function(){window.innerHeight<657?e.userTableHeight=410:e.userTableHeight=window.innerHeight-225})},uploadFile1:function(e){var t=this;console.log(e);var a=new FormData;a.append("file",e),console.log(a),M()({method:"post",url:this.baseUrl+"fweb-fileservice/fileext",data:a}).then(function(e){if(e.data=null)return t.$message({type:"error",message:"用户图像上传失败！"}),!1;t.uploadFlag1=e.data.id,console.log(e)}).catch(function(e){console.log(e)})},uploadFile2:function(e){var t=this;console.log(e);var a=new FormData;a.append("file",e),console.log(a),M()({method:"post",url:this.baseUrl+"fweb-fileservice/fileext",data:a}).then(function(e){if(e.data=null)return t.$message({type:"error",message:"签名图片上传失败！"}),!1;t.uploadFlag2=e.data.id,console.log(e)}).catch(function(e){console.log(e)})},handleRemoveAdd1:function(e,t){console.log(e,t),this.fileList3=[]},handleRemoveAdd2:function(e,t){console.log(e,t),this.fileList4=[]},handleRemoveEdit1:function(e,t){console.log(e,t),this.editFormData.userAvatar="",this.fileList=[]},handleRemoveEdit2:function(e,t){console.log(e,t),this.editFormData.signaturePic="",this.fileList2=[]},addSubmit:function(e){this.$refs.upload1.submit(),this.$refs.upload2.submit(),this.addUserFunction()},addUserFunction:function(){var e=this;this.$refs.addForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a={userCode:e.addForm.userAccountAdd,userName:e.addForm.userNameAdd,userType:e.addForm.userTypeAdd,passwdExp:e.addForm.passwdExpAdd,mobilePhone:e.addForm.mobilePhoneAdd,email:e.addForm.emailAdd,qq:e.addForm.qqAdd,wechat:e.addForm.wechatAdd,idCard:e.addForm.idCardAdd,isCertification:"1",tel:e.addForm.telAdd,sex:e.radio,userAvatar:e.uploadFlag1,signaturePic:e.uploadFlag2,desc:e.addForm.descAdd,userPasswd:"",isLocked:"",birthday:"",fax:""};M()({method:"post",url:e.baseUrl+"fweb-security/user/adduserinfo",data:a}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.searchUserGridData(),e.addUserFormVisible=!1,e.$message({showClose:!0,message:t.data.message_,type:"success"})):e.$message({showClose:!0,message:"用户新增失败",type:"error"})}).catch(function(e){console.log(e)})})},handleSelectionChangeRoleUp:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUserRole=!1:this.issingleUserRole=!0,this.changeRolePositonUp=t},handleSelectionChangeRoleDown:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnUserRole=!1:this.issingleUnUserRole=!0,this.changeRolePositonDown=t},handleSelectionChangeMenu1:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUserMenu=!1:this.issingleUserMenu=!0,this.changeUserMenuUp=t},handleSelectionChangeMenu2:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnUserMenu=!1:this.issingleUnUserMenu=!0,this.changeUserMenuDown=t},handleSelectionChangeOrgan:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnUserOrgan=!1:this.issingleUnUserOrgan=!0,this.changeUserOrgan=t},handleSelectionChangePosition1:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUserPost=!1:this.issingleUserPost=!0,this.changeUserPositon1=t},handleSelectionChangePosition2:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnUserPost=!1:this.issingleUnUserPost=!0,this.changeUserPositon2=t},handleSelectionChangePage1:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUserPage=!1:this.issingleUserPage=!0,this.selectionChangePage1=t},handleSelectionChangePage2:function(e){console.log(e);for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnUserPage=!1:this.issingleUnUserPage=!0,this.selectionChangePage2=t},handlePreview:function(){},handleRemove:function(){},fileLister:function(){},addUserFunc:function(){this.fileList3=[],this.fileList4=[],this.addUserFormVisible=!0,this.$refs.addForm.resetFields(),this.uploadFlag1="",this.uploadFlag2=""},handleCheckedCitiesChange:function(){},handleNodeClickBtnOrgan:function(e){if(console.log(e),"0"==e.id)return this.$message({type:"error",message:"请选择一条非根节点数据进行操作"}),!1;this.loadOrganGridList()},indexMethod:function(e){return 10*(this.page-1)+(e+1)},loadOrganGridList:function(){var e=this,t={userId:this.gridData.id,authType:"1"};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserorglist",data:t}).then(function(t){console.log(t),e.orgainTableData=t.data.result.data_,e.matchOrganData=t.data.result.data_}).catch(function(e){console.log(e)})},loadOrganGridList2:function(){var e=this,t={userId:this.gridData.id,authType:"1"};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserorglist",data:t}).then(function(t){console.log(t),e.organTableData=t.data.result.data_,t.data.result.data_.length>0&&(e.$refs.refUserPosition.setCurrentRow(t.data.result.data_[0]),e.rowGridData=t.data.result.data_[0],e.loadOrganPositonGridListUp(),e.loadOrganPositionGridListDown())}).catch(function(e){console.log(e)})},loadOrganPositonGridListUp:function(){var e=this;console.log(this.rowGridData);var t={userOrgId:this.rowGridData.userOrgId,authType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserorgjoblist",data:t}).then(function(t){console.log(t),(t.data.statusCode="200")&&(e.positionTableData=t.data.result.data_)}).catch(function(e){console.log(e)})},loadOrganPositionGridListDown:function(){var e=this,t={userOrgId:this.rowGridData.userOrgId,authType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserorgjoblist",data:t}).then(function(t){console.log(t),(t.data.statusCode="200")&&(e.positionTableData2=t.data.result.data_)}).catch(function(e){console.log(e)})},selectClick:function(e,t,a){this.rowGridData=e,this.loadOrganPositonGridListUp(),this.loadOrganPositionGridListDown()},doubleUserPageBtnClick:function(){var e=this;this.$refs.refUserPageTable1.clearSelection(),this.$refs.refUserPageTable1.toggleAllSelection(),0==this.pageTableData1.length?this.$message({type:"error",message:"没有未授权页面数据！"}):this.$confirm("确认全部授权这些页面功能吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getPageAll()}).catch(function(e){console.log(e)})},getPageAll:function(){var e=this,t={userMenuIds:[this.$refs.treePageDialog.getCurrentNode().userMenuId],funcIds:this.selectionChangePage1,authType:"1",operationType:"1"};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenufunc",data:t}).then(function(t){if(console.log(t),"200"==t.data.statusCode){e.$message({message:"全部授权页面功能成功",type:"success"});var a=e.$refs.treePageDialog.getCurrentNode().userMenuId;e.loadPageGridDataUp(a),e.loadPageGridDataDown(a)}else e.$message({message:"全部授权页面功能失败",type:"error"})}).catch(function(e){console.log(e)})},singleUserPageBtnClick:function(){var e=this;this.$confirm("确认授权该页面功能吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getPageSingle()}).catch(function(e){console.log(e)})},getPageSingle:function(){var e=this;if(0==this.selectionChangePage1.length)return this.$message({type:"error",message:"请至少选择一条未授权页面功能数据进行操作"}),!1;var t=this.$refs.treePageDialog.getCurrentNode().funcGroupId;if(!t)return this.$message({type:"error",message:"请选择一条菜单叶子节点数据进行操作"}),!1;var a={userMenuIds:[this.$refs.treePageDialog.getCurrentNode().userMenuId],funcIds:this.selectionChangePage1,authType:"1",operationType:"1"};console.log(a),M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenufunc",data:a}).then(function(t){if(console.log(t),"200"==t.data.statusCode){e.$message({message:"页面功能授权成功",type:"success"});var a=e.$refs.treePageDialog.getCurrentNode().userMenuId;e.loadPageGridDataUp(a),e.loadPageGridDataDown(a)}else e.$message({message:"页面功能授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleUserPageCancelBtnClick:function(){var e=this;this.$confirm("确认取消授权该页面吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelPageSingle()}).catch(function(e){console.log(e)})},getCancelPageSingle:function(){var e=this;if(console.log(this.selectionChangePage2),0==this.selectionChangePage2.length)return this.$message({type:"error",message:"请至少选择一条未授权页面数据进行操作"}),!1;var t={userMenuIds:[this.$refs.treePageDialog.getCurrentNode().userMenuId],funcIds:this.selectionChangePage2,authType:"0",operationType:"1"};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenufunc",data:t}).then(function(t){if("200"==t.data.statusCode){e.$message({message:"页面功能取消授权成功",type:"success"});var a=e.$refs.treePageDialog.getCurrentNode().userMenuId;e.loadPageGridDataUp(a),e.loadPageGridDataDown(a)}else e.$message({message:"页面功能取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleUserPageCancelBtnClick:function(){var e=this;this.$refs.refUserPageTable2.clearSelection(),this.$refs.refUserPageTable2.toggleAllSelection(),0==this.pageTableData2.length?this.$message({type:"error",message:"没有已授权页面数据！"}):this.$confirm("确认全部取消授权这些页面功能吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelPageAll()}).catch(function(e){console.log(e)})},getCancelPageAll:function(){var e=this,t={userMenuIds:[this.$refs.treePageDialog.getCurrentNode().userMenuId],funcIds:this.selectionChangePage2,authType:"0",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenufunc",data:t}).then(function(t){if(console.log(t),"200"==t.data.statusCode){e.$message({message:"全部页面功能取消授权成功",type:"success"});var a=e.$refs.treePageDialog.getCurrentNode().userMenuId;e.loadPageGridDataUp(a),e.loadPageGridDataDown(a)}else e.$message({message:"全部页面功能取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doublePositionBtnClick:function(){var e=this;this.$refs.refPositionTable1.clearSelection(),this.$refs.refPositionTable1.toggleAllSelection(),0==this.positionTableData.length?this.$message({message:"没有未授权职位数据",type:"error"}):this.$confirm("确认全部授权这些职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getPositionAll()}).catch(function(e){console.log(e)})},getPositionAll:function(){var e=this,t={userOrgIds:[this.rowGridData.userOrgId],jobIds:this.changeUserPositon1,authType:"1",operationType:"1"};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserorgjob",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"全部职位授权成功",type:"success"}),e.loadOrganPositonGridListUp(),e.loadOrganPositionGridListDown()):e.$message({message:"全部职位授权失败",type:"error"})}).catch(function(e){console.log(e)})},singlePositionBtnClick:function(){var e=this;this.$confirm("确认授权该职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getPositionSingle()}).catch(function(e){console.log(e)})},getPositionSingle:function(){var e=this;if(0==this.changeUserPositon1.length)return this.$message({type:"error",message:"请至少选择一条未授权职位数据进行操作"}),!1;var t={userOrgIds:[this.rowGridData.userOrgId],jobIds:this.changeUserPositon1,authType:"1",operationType:"1"};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserorgjob",data:t}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.$message({message:"职位授权成功",type:"success"}),e.loadOrganPositonGridListUp(),e.loadOrganPositionGridListDown()):e.$message({message:"职位授权失败",type:"error"})}).catch(function(e){console.log(e)})},singlePositionCancelBtnClick:function(){var e=this;this.$confirm("确认取消授权该职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelPositionSingle()}).catch(function(e){console.log(e)})},getCancelPositionSingle:function(){var e=this;if(0==this.changeUserPositon2.length)return this.$message({type:"error",message:"请至少选择一条未授权职位数据进行操作"}),!1;var t={userOrgIds:[this.rowGridData.userOrgId],jobIds:this.changeUserPositon2,authType:"0",operationType:"1"};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserorgjob",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"职位取消授权成功",type:"success"}),e.loadOrganPositonGridListUp(),e.loadOrganPositionGridListDown()):e.$message({message:"职位取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doublePositionCancelBtnClick:function(){var e=this;this.$refs.refPositionTable2.clearSelection(),this.$refs.refPositionTable2.toggleAllSelection(),0==this.positionTableData2.length?this.$message({message:"没有已授权职位数据",type:"error"}):this.$confirm("确认全部取消授权这些职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelPositionAll()}).catch(function(e){console.log(e)})},getCancelPositionAll:function(){var e=this,t={userOrgIds:[this.rowGridData.userOrgId],jobIds:this.changeUserPositon2,authType:"0",operationType:"1"};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserorgjob",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"全部职位取消授权成功",type:"success"}),e.loadOrganPositonGridListUp(),e.loadOrganPositionGridListDown()):e.$message({message:"全部职位取消授权成功",type:"error"})}).catch(function(e){console.log(e)})},doubleOrganBtnClick:function(){var e=this;this.$confirm("确认授权全部组织吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){var a={userId:e.gridData.id,authType:"1"};M()({method:"post",url:e.baseUrl+"fweb-security/user/authalluserorg",data:a}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.$message({message:"全部组织授权成功",type:"success"}),e.loadOrganGridList()):e.$message({message:"全部组织授权失败",type:"error"})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},doubleCancelOrganBtnClick:function(){var e=this;this.$refs.refOrganTable.toggleAllSelection(),0==this.orgainTableData.length?this.$message({message:"没有已授权组织数据",type:"error"}):this.$confirm("确认取消授权全部组织吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){var a={userId:e.gridData.id,authType:"0"};M()({method:"post",url:e.baseUrl+"fweb-security/user/authalluserorg",data:a}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.$message({message:"全部组织取消授权成功",type:"success"}),e.loadOrganGridList()):e.$message({message:"全部组织取消授权失败",type:"error"})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},singleOrganBtnClick:function(){var e=this;this.$confirm("确认授权该组织吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getOrganSingle()}).catch(function(e){console.log(e)})},getOrganSingle:function(){var e=this;console.log(this.$refs.organtree.getCurrentNode());var t=this.$refs.organtree.getCurrentNode().id;if(!this.$refs.organtree.getCurrentNode())return this.$message({type:"error",message:"请选择一条未授权组织数据进行操作"}),!1;var a={userIds:[this.gridData.id],orgIds:[t],authType:"1",operationType:"1"};console.log(a),M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserorg",data:a}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.isUpdate=!1,e.$nextTick(function(t){e.isUpdate=!0}),e.$message({message:"组织授权成功",type:"success"}),e.loadOrganGridList()):e.$message({message:"组织授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleCancelOrganBtnClick:function(){var e=this;this.$confirm("确认取消授权该组织吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.cancelOrganSingle()}).catch(function(e){console.log(e)})},cancelOrganSingle:function(){var e=this;if(this.changeUserOrgan.length<=0)return this.$message({type:"error",message:"请选择一条未授权组织数据进行操作"}),!1;var t={userIds:[this.gridData.id],orgIds:this.changeUserOrgan,authType:"0",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserorg",data:t}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.$message({message:"组织取消授权成功",type:"success"}),e.loadOrganGridList()):e.$message({message:"组织取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},getValue:function(e){this.valueId=e,console.log(this.valueId)},shouquanPage:function(){var e=this;if(this.pageTableData1=[],this.pageTableData1=[],!this.gridData)return this.$message({type:"error",message:"请选择一条用户记录"}),!1;this.addPageFormVisible=!0,this.isUpdate=!1,this.$nextTick(function(t){e.isUpdate=!0})},loadFunctionType:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0007-02"}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.suoshuFuncData.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadMenuName:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/menu/querymenutree"}).then(function(t){console.log(t),e.recursiveTreeData(t.data.result.data_)}).catch(function(e){console.log(e)})},recursiveTreeData:function(e){for(var t=0;t<e.length;t++)e[t].orgName&&(e[t].id=e[t].id,e[t].parentId=e[t].parentAreaId,e[t].name=e[t].areaName),e[t].children.length>0&&this.recursiveTreeData(e[t].children);return this.list=e},loadSuoShuSystem:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sorttype/queryall",params:{}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.optionsMenuData.push({value:t.data.result.data_[a].id,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},getModuleList2:function(e){var t=this,a=this.formMenu2.sqsuoshuSystem;M()({method:"get",url:this.baseUrl+"fweb-security/sortitem/queryitembyparent",params:{parentId:a}}).then(function(e){if(console.log(e),void 0!=e.data.result&&""!=e.data.result&&"200"==e.data.statusCode)for(var a=0;a<e.data.result.data_.length;a++)t.optionsModule.push({value:e.data.result.data_[a].id,label:e.data.result.data_[a].name});else t.optionsModule=[]}).catch(function(e){console.log(e)})},loadSuoShuSystem2:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sorttype/queryall",params:{}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.suoshuSystemData.push({value:t.data.result.data_[a].id,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},getModuleList3:function(e){var t=this,a=this.formPage2.pagesuoshuSystem;M()({method:"get",url:this.baseUrl+"fweb-security/sortitem/queryitembyparent",params:{parentId:a}}).then(function(e){if(console.log(e),void 0!=e.data.result&&""!=e.data.result&&"200"==e.data.statusCode)for(var a=0;a<e.data.result.data_.length;a++)t.optionsModulePage.push({value:e.data.result.data_[a].id,label:e.data.result.data_[a].name});else t.optionsModulePage=[]}).catch(function(e){console.log(e)})},handleNodeClickBtnMenu:function(){console.log(this.$refs.treeMenuDialog.getCurrentNode());var e=this.$refs.treeMenuDialog.getCurrentNode().id;this.loadMenuGridDataUp(e),this.loadMenuGridDataDown(e)},loadMenuGridDataUp:function(e){var t=this,a={userId:this.gridData.id,authType:"0",sysId:"",moduleId:"",menuName:"",parentMenuId:e};console.log(a),M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserleafmenulist",data:a}).then(function(e){console.log(e),t.menuTableData1=e.data.result.data_}).catch(function(e){console.log(e)})},loadMenuGridDataDown:function(e){var t=this,a={userId:this.gridData.id,authType:"1",sysId:this.formMenu2.sqsuoshuSystem,moduleId:this.formMenu2.sqsuoshuModule,menuName:this.formMenu2.sqMenuName,parentMenuId:e};console.log(a),M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserleafmenulist",data:a}).then(function(e){console.log(e),t.menuTableData2=e.data.result.data_}).catch(function(e){console.log(e)})},getOrgListMenu:function(e,t){if(0==e.data.length)return e["data"]={id:"0",menuName:"菜单根目录"},t([e.data]);M()({method:"get",url:this.baseUrl+"fweb-security/menu/querymenubyparent",params:{parentMenuId:e.data.id}}).then(function(e){console.log(e);var a=[];if(void 0==e.data.result||e.data.result==[]||"200"!=e.data.statusCode)return!1;e.data.result.data_.forEach(function(e){a.push(e)}),t(a)}).catch(function(e){t([])})},getOrgListPage:function(e,t){if(0==e.data.length)return e["data"]={id:"0",menuName:"菜单根目录"},t([e.data]);M()({method:"post",url:this.baseUrl+"fweb-security/user/queryusermenutree",data:{userId:this.gridData.id,parentMenuId:e.data.id,authType:"1"}}).then(function(e){console.log(e);var a=[];if(void 0==e.data.result||e.data.result==[]||"200"!=e.data.statusCode)return!1;e.data.result.data_.forEach(function(e){a.push(e)}),t(a)}).catch(function(e){t([])})},handleNodeClickBtnPage:function(){console.log(this.$refs.treePageDialog.getCurrentNode());var e=this.$refs.treePageDialog.getCurrentNode().userMenuId;if("0"==e)return this.$message({type:"error",message:"请选择一条菜单非根节点数据进行操作"}),!1;this.loadPageGridDataUp(e),this.loadPageGridDataDown(e)},loadPageGridDataUp:function(e){var t=this,a=this.$refs.treePageDialog.getCurrentNode().funcGroupId;if(!a)return this.$message({type:"error",message:"请选择一条菜单叶子节点数据进行操作"}),!1;var s={userMenuId:e,authType:"0",funcGroupId:a};M()({method:"post",url:this.baseUrl+"fweb-security/user/queryusermenufunclist",data:s}).then(function(e){console.log(e),t.pageTableData1=e.data.result.data_}).catch(function(e){console.log(e)}),console.log(a)},loadPageGridDataDown:function(e){var t=this,a=this.$refs.treePageDialog.getCurrentNode().funcGroupId;if(!a)return this.$message({type:"error",message:"请选择一条菜单叶子节点数据进行操作"}),!1;var s={userMenuId:e,authType:"1",funcGroupId:a,sysId:this.formPage2.pagesuoshuSystem,moduleId:this.formPage2.pagesuoshuModule,funcTypeId:this.formPage2.pageFuncType,funcName:this.formPage2.pageFuncName};console.log(s),M()({method:"post",url:this.baseUrl+"fweb-security/user/queryusermenufunclist",data:s}).then(function(e){console.log(e),t.pageTableData2=e.data.result.data_}).catch(function(e){console.log(e)})},userPageSearchBtnClick:function(){var e=this.$refs.treePageDialog.getCurrentNode().userMenuId;this.loadPageGridDataDown(e)},getOrgListOrgan:function(e,t){var a=this;void 0!=this.$refs.tree&&(this.checkedKeys=this.$refs.tree.getCheckedKeys()),void 0==e.data&&(e["data"]={id:"-1",areaName:"根节点"}),M()({method:"post",url:this.baseUrl+"fweb-security/org/listinfo",data:{parentOrgId:e.data.id,authType:"2"}}).then(function(s){return console.log(s),void 0!=s.data.result&&""!=s.data.result&&"200"==s.data.statusCode?(a.rootNode=s.data.result.data_[0],0==e.level?t([a.rootNode]):(console.log(s.data.result),t(s.data.result.data_))):t([])}).catch(function(e){return t([])}),void 0!=this.$refs.tree&&this.$refs.tree.setCheckedKeys(this.checkedKeys)},handleNodeOrganBtnClick:function(){this.loadOrganGridList(),this.singleOrganDisable=!1,console.log(this.$refs.organtree.getCurrentNode()),console.log(this.matchOrganData);var e=this.$refs.organtree.getCurrentNode().id;this.issingleUserOrgan="0"==e;for(var t=0;t<this.matchOrganData.length;t++)if(0==this.matchOrganData[t].id.indexOf(e)){this.singleOrganDisable=!0;break}},userMenuSearchBtnClick:function(){if(null==this.$refs.treeMenuDialog.getCurrentNode())this.$message({message:"请选择一条菜单树数据",type:"error"});else{var e=this.$refs.treeMenuDialog.getCurrentNode().id;this.loadMenuGridDataDown(e)}},doubleMenuBtnClick:function(){var e=this;this.$refs.menuTableRef1.clearSelection(),this.$refs.menuTableRef1.toggleAllSelection(),0==this.menuTableData1.length?this.$message({type:"error",message:"没有未授权菜单数据！"}):this.$confirm("确认授权全部菜单吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getMenuDouble()}).catch(function(e){console.log(e)})},getMenuDouble:function(){var e=this,t={userIds:[this.gridData.id],menuIds:this.changeUserMenuUp,authType:"1",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenu",data:t}).then(function(t){if(console.log(t),"200"==t.data.statusCode){e.$message({message:"全部菜单授权成功",type:"success"});var a=e.$refs.treeMenuDialog.getCurrentNode().id;e.loadMenuGridDataUp(a),e.loadMenuGridDataDown(a)}else e.$message({message:"全部菜单授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleMenuBtnClick:function(){var e=this;this.$confirm("确认授权该菜单吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getMenuSingle()}).catch(function(e){console.log(e)})},getMenuSingle:function(){var e=this;if(console.log(this.changeUserMenuUp.length),0==this.changeUserMenuUp.length)return this.$message({type:"error",message:"请至少选择一条未授权菜单数据进行操作"}),!1;var t={userIds:[this.gridData.id],menuIds:this.changeUserMenuUp,authType:"1",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenu",data:t}).then(function(t){if(console.log(t),"200"==t.data.statusCode){e.$message({message:"菜单授权成功",type:"success"});var a=e.$refs.treeMenuDialog.getCurrentNode().id;e.loadMenuGridDataUp(a),e.loadMenuGridDataDown(a)}else e.$message({message:"菜单授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleCancelMenuBtnClick:function(){var e=this;this.$confirm("确认取消授权该菜单吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.cancelMenuSingle()}).catch(function(e){console.log(e)})},cancelMenuSingle:function(){var e=this;if(this.changeUserMenuDown.length<=0)return this.$message({type:"error",message:"请至少选择一条已授权菜单数据进行操作"}),!1;var t={userIds:[this.gridData.id],menuIds:this.changeUserMenuDown,authType:"0",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenu",data:t}).then(function(t){if(console.log(t),"200"==t.data.statusCode){e.$message({message:"菜单取消授权成功",type:"success"});var a=e.$refs.treeMenuDialog.getCurrentNode().id;e.loadMenuGridDataUp(a),e.loadMenuGridDataDown(a)}else e.$message({message:"菜单取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleCancelMenuBtnClick:function(){var e=this;this.$refs.menuTableRef2.clearSelection(),this.$refs.menuTableRef2.toggleAllSelection(),console.log(this.$refs.menuTableRef2.toggleAllSelection()),console.log(this.menuTableData2.length),0==this.menuTableData2.length?this.$message({type:"error",message:"没有已授权菜单数据！"}):this.$confirm("确认取消授权全部菜单吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.cancelMenuDouble()}).catch(function(e){console.log(e)})},cancelMenuDouble:function(){var e=this,t={userIds:[this.gridData.id],menuIds:this.changeUserMenuDown,authType:"0",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenu",data:t}).then(function(t){if(console.log(t),"200"==t.data.statusCode){e.$message({message:"全部菜单取消授权成功",type:"success"});var a=e.$refs.treeMenuDialog.getCurrentNode().id;e.loadMenuGridDataUp(a),e.loadMenuGridDataDown(a)}else e.$message({message:"全部菜单取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleRoleClick:function(){var e=this;this.$refs.rolePostionTableUp.clearSelection(),this.$refs.rolePostionTableUp.toggleAllSelection(),this.$confirm("确认授权全部角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getRoleDouble()}).catch(function(e){console.log(e)})},getRoleDouble:function(){var e=this,t={userIds:[this.gridData.id],roleIds:this.changeRolePositonUp,authType:1,operationType:1};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserrole",data:t}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.$message({message:"全部角色授权成功",type:"success"}),e.loadRoleGridData1({userId:e.gridData.id,authType:0,roleType:e.formRole1.RoleType1,roleName:e.formRole1.RoleName1}),e.loadRoleGridData2({userId:e.gridData.id,authType:1,roleType:e.formRole2.RoleType2,roleName:e.formRole2.RoleName2})):e.$message({message:"全部角色授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleRoleClick:function(){var e=this;this.$confirm("确认授权该角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getRoleSingle()}).catch(function(e){console.log(e)})},getRoleSingle:function(){var e=this;if(this.changeRolePositonUp.length<=0)return this.$message({type:"error",message:"请至少选择一条未授权角色数据进行操作"}),!1;var t={userIds:[this.gridData.id],roleIds:this.changeRolePositonUp,authType:1,operationType:1};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserrole",data:t}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.$message({message:"角色授权成功",type:"success"}),e.loadRoleGridData1({userId:e.gridData.id,authType:0,roleType:e.formRole1.RoleType1,roleName:e.formRole1.RoleName1}),e.loadRoleGridData2({userId:e.gridData.id,authType:1,roleType:e.formRole2.RoleType2,roleName:e.formRole2.RoleName2})):e.$message({message:"角色授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleRoleCancelClick:function(){var e=this;this.$confirm("确认取消授权该角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.cancelRoleSingle()}).catch(function(e){console.log(e)})},cancelRoleSingle:function(){var e=this;if(this.changeRolePositonDown.length<=0)return this.$message({type:"error",message:"请至少选择一条已授权角色数据进行操作"}),!1;var t={userIds:[this.gridData.id],roleIds:this.changeRolePositonDown,authType:0,operationType:1};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserrole",data:t}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.$message({message:"角色取消授权成功",type:"success"}),e.loadRoleGridData1({userId:e.gridData.id,authType:0,roleType:e.formRole1.RoleType1,roleName:e.formRole1.RoleName1}),e.loadRoleGridData2({userId:e.gridData.id,authType:1,roleType:e.formRole2.RoleType2,roleName:e.formRole2.RoleName2})):e.$message({message:"角色取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleRoleCancelClick:function(){var e=this;this.$refs.rolePostionTableDown.clearSelection(),this.$refs.rolePostionTableDown.toggleAllSelection(),this.$confirm("确认取消授权全部角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.cancelRoleDouble()}).catch(function(e){console.log(e)})},cancelRoleDouble:function(){var e=this,t={userIds:[this.gridData.id],roleIds:this.changeRolePositonDown,authType:0,operationType:1};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserrole",data:t}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.$message({message:"全部角色取消授权成功",type:"success"}),e.loadRoleGridData1({userId:e.gridData.id,authType:0,roleType:e.formRole1.RoleType1,roleName:e.formRole1.RoleName1}),e.loadRoleGridData2({userId:e.gridData.id,authType:1,roleType:e.formRole2.RoleType2,roleName:e.formRole2.RoleName2})):e.$message({message:"全部角色授权失败",type:"error"})}).catch(function(e){console.log(e)})},roleSearchBtnClick:function(){var e={userId:this.gridData.id,authType:0,roleType:this.formRole1.RoleType1,roleName:this.formRole1.RoleName1};console.log(e),this.loadRoleGridData1(e)},roleSearchBtnClick2:function(){var e={userId:this.gridData.id,authType:1,roleType:this.formRole2.RoleType2,roleName:this.formRole2.RoleName2};this.loadRoleGridData2(e)},loadRoleGridData1:function(e){var t=this;console.log(e),M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserrolelist",data:e}).then(function(e){console.log(e),"200"==e.data.statusCode&&(t.userDialogTablesData=e.data.result.data_)}).catch(function(e){console.log(e)})},loadRoleGridData2:function(e){var t=this;console.log(e),M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserrolelist",data:e}).then(function(e){console.log(e),"200"==e.data.statusCode&&(t.userDialogTablesData2=e.data.result.data_)}).catch(function(e){console.log(e)})},loadRoleTypeData1:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0002-01"}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.optionsRole1.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name}),e.optionsRole2.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadRoleTypeData2:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0002-01"}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.optionsRole2.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},getUserGridDetails:function(e){console.log(e),this.gridData=e},loadUserTypeData:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0001-01"}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.userTypeData.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadUserIsIfLock:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0001-04"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.ifLockData.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadUserGridData:function(e){var t=this;this.loadtable=!0,M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserlist?page="+this.page+"&rows="+this.rows,data:e}).then(function(e){console.log(e),"200"==e.data.statusCode&&(t.userTableDatas=e.data.result.data_,t.totals=e.data.result.rowsCnt),t.loadtable=!1}).catch(function(e){console.log(e)})},handleCurrentChange:function(e){this.currentRow=e},getRowDatas:function(e){this.rowData=e},shouquanRole:function(){if(!this.gridData)return this.$message({type:"error",message:"请选择一条用户记录"}),!1;this.addRoleFormVisible=!0;var e={userId:this.gridData.id,authType:0},t={userId:this.gridData.id,authType:1};this.loadRoleGridData1(e),this.loadRoleGridData2(t),console.log(this.gridData)},shouquanMenu:function(){var e=this;if(this.menuTableData1=[],this.menuTableData2=[],!this.gridData)return this.$message({type:"error",message:"请选择一条用户记录"}),!1;this.addMenuFormVisible=!0,this.isUpdate=!1,this.$nextTick(function(t){e.isUpdate=!0})},suoshuOrgan:function(){var e=this;if(!this.gridData)return this.$message({type:"error",message:"请选择一条用户记录"}),!1;this.addOrgainFormVisible=!0,this.loadOrganGridList(),this.isUpdate=!1,this.$nextTick(function(t){e.isUpdate=!0})},suoshuPosition:function(){if(!this.gridData)return this.$message({type:"error",message:"请选择一条用户记录"}),!1;this.addPositionFormVisible=!0,this.loadOrganGridList2()},loadPositionGridData:function(e){M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserorglist",data:e}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},shouquanHistory:function(){if(!this.gridData)return this.$message({type:"error",message:"请选择一条用户记录"}),!1;this.addLogFormVisible=!0,this.formLog.startTime="",this.formLog.endTime="";var e={userId:this.gridData.id,startTime:this.formLog.startTime,endTime:this.formLog.endTime};this.loadHistoryGridData(e)},loadHistoryGridData:function(e){var t=this;console.log(e),M()({method:"post",url:this.baseUrl+"fweb-security/user/queryuserhislist?page="+this.pageLog+"&rows="+this.rowsLog,data:e}).then(function(e){console.log(e),t.logTableData=e.data.result.data_,t.totalsLog=e.data.result.rowsCnt}).catch(function(e){console.log(e)})},startTimeChange:function(){""!=this.formLog.startTime&&""!=this.formLog.endTime&&this.formLog.startTime>this.formLog.endTime&&(this.formLog.startTime=this.formLog.endTime)},endTimeChange:function(){""!=this.formLog.endTime&&""!=this.formLog.startTime&&this.formLog.endTime<this.formLog.startTime&&(this.formLog.endTime=this.formLog.startTime)},logSearchBtnClick:function(){if(this.formLog.startTime>this.formLog.endTime)this.$message({message:"开始日期不能大于结束日期",type:"error"});else{var e={userId:this.gridData.id,startTime:this.formLog.startTime,endTime:this.formLog.endTime};console.log(e),this.pageLog=1,this.totalsLog=0,this.loadHistoryGridData(e)}},handleSizeChangeHistory:function(e){this.rowsLog=e,this.loadHistoryGridData({userId:this.gridData.id,startTime:this.formLog.startTime,endTime:this.formLog.endTime})},handleCurrentChangeHistory:function(e){this.pageLog=e,this.loadHistoryGridData({userId:this.gridData.id,startTime:this.formLog.startTime,endTime:this.formLog.endTime})},searchUserGridData:function(){this.page=1,this.totals=0;var e={userName:this.userForm.userName,userCode:this.userForm.userAccount,userType:this.userForm.userType,isLocked:this.userForm.ifLock};console.log(e),this.loadUserGridData(e)},currChange:function(e){this.page=e;var t={userName:this.userForm.userName,userCode:this.userForm.userAccount,userType:this.userForm.userType,isLocked:this.userForm.ifLock};this.loadUserGridData(t)},SizeChange:function(e){this.rows=e,this.searchUserGridData()},handleDel:function(e,t){var a=this,s={id:t.id};this.$confirm("确认删除该用户吗？","删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(e){M()({method:"post",url:a.baseUrl+"fweb-security/user/deleteuserinfo",data:s}).then(function(e){if("200"==e.data.statusCode){var t={userName:a.userForm.userName,userCode:a.userForm.userAccount,userType:a.userForm.userType,isLocked:a.userForm.ifLock};a.loadUserGridData(t),a.$message({showClose:!0,message:e.data.message_,type:"success"})}}).catch(function(e){console.log(e)})})},lockBtnClick:function(e,t){var a=this;console.log(t);var s={id:t.id,isLocked:"1"};this.$confirm("确认锁定该用户吗？","锁定？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(e){M()({method:"post",url:a.baseUrl+"fweb-security/user/lockuserinfo",data:s}).then(function(e){if(console.log(e),"200"==e.data.statusCode){var t={userName:a.userForm.userName,userCode:a.userForm.userAccount,userType:a.userForm.userType,isLocked:a.userForm.ifLock};a.loadUserGridData(t)}}).catch(function(e){console.log(e)})})},unlockBtnClick:function(e,t){var a=this,s={id:t.id,isLocked:"0"};this.$confirm("确认解锁该用户吗？","解锁？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(e){M()({method:"post",url:a.baseUrl+"fweb-security/user/lockuserinfo",data:s}).then(function(e){if(console.log(e),"200"==e.data.statusCode){var t={userName:a.userForm.userName,userCode:a.userForm.userAccount,userType:a.userForm.userType,isLocked:a.userForm.ifLock};a.loadUserGridData(t)}}).catch(function(e){console.log(e)})})},lockDataFormat:function(e,t){return"1"==e.iflock?"是":"否"},resetPassword:function(e,t){var a=this;this.$confirm("确认重置该用户密码？","重置？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(e){M()({method:"post",url:a.baseUrl+"fweb-security/user/updatepasswd",data:{userCode:t.userCode,isReset:!0}}).then(function(e){console.log(e),"10200"==e.data.status&&a.$message({type:"success",message:"重置密码完成(初始密码：123456)"})}).catch(function(e){console.log(e)})})},handleDetail:function(e,t){console.log(t),this.rowGridDetailData=t,t.userAvatar?this.userImg=t.userAvatar.substring(8,t.userAvatar.length):this.userImg="",t.signaturePic?this.qianmImg=t.signaturePic.substring(8,t.signaturePic.length):this.qianmImg="",this.detailFormVisible=!0,this.detailForm=Object.assign({},t)},handleEdit:function(e,t){this.fileList=[],this.fileList2=[],this.editUserFormVisible=!0,console.log(t),this.editFormVisible=!0,this.editFormData=t,this.editFormData.userAvatar||(this.editFormData.userAvatar=""),this.editFormData.signaturePic||(this.editFormData.signaturePic=""),this.editForm.userAccountEdit=t.userCode,this.editForm.userNameEdit=t.userName,this.editForm.userTypeEdit=String(t.userType),this.editForm.passwdExpEdit=t.passwdExp,this.editForm.mobilePhoneEdit=t.mobilePhone,this.editForm.emailEdit=t.email,this.editForm.qqEdit=t.qq,this.editForm.wechatEdit=t.wechat,this.editForm.idCardEdit=t.idCard,this.editForm.isCertificationAdd=t.isCertificationName,this.editForm.telEdit=t.tel,this.editForm.sexEdit=t.sex,this.editForm.descEdit=t.desc,t.userAvatar&&(this.fileList=[],this.fileList.push({name:t.userAvatar.substring(8,t.userAvatar.length),url:this.baseUrl+"fweb-fileservice/fileext/"+t.userAvatar})),t.signaturePic&&(this.fileList2=[],this.fileList2.push({name:t.signaturePic.substring(8,t.signaturePic.length),url:this.baseUrl+"fweb-fileservice/fileext/"+t.userAvatar}))},editSubmit:function(e){var t=this;console.log(this.uploadFlag1),console.log(this.uploadFlag2),this.$refs.editForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;var a={id:t.gridData.id,userName:t.editForm.userNameEdit,userPasswd:"",userType:t.editForm.userTypeEdit,passwdExp:t.editForm.passwdExpEdit,email:t.editForm.emailEdit,tel:t.editForm.telEdit,qq:t.editForm.qqEdit,wechat:t.editForm.wechatEdit,idCard:t.editForm.idCardEdit,isCertification:"1",isLocked:"",desc:t.editForm.descEdit,mobilePhone:t.editForm.mobilePhoneEdit,sex:t.radio,userAvatar:t.uploadFlag1,signaturePic:t.uploadFlag2,birthday:"",fax:""};console.log(a),t.editSubmitFunc(a)})},editSubmitFunc:function(e){var t=this;M()({method:"post",url:this.baseUrl+"fweb-security/user/updateuserinfo",data:e}).then(function(e){console.log(e),"200"==e.data.statusCode&&(t.$message({message:"修改成功！",type:"success"}),t.searchUserGridData(),t.editFormVisible=!1)}).catch(function(e){console.log(e)})},tableHeaderColor:function(e){e.row,e.rowIndex;return"background-color: #e1edf8;color:black;text-align:center"},handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))}}},Me=Pe,Be=(a("d802"),Object(l["a"])(Me,Ce,Te,!1,null,"68d4d70c",null)),Re=Be.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"h-100",attrs:{gutter:5}},[a("el-col",{staticClass:"h-100",attrs:{span:6}},[a("el-card",{staticClass:"h-99"},[a("el-form",{staticClass:"zw-unauthor-form",attrs:{inline:!0}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"组织列表"}})],1),a("div",{staticClass:"tree-scroll",staticStyle:{border:"1px solid #ddd"},style:{height:e.treeHeight+"px"}},[e.isUpdate?a("el-tree",{ref:"tree",attrs:{props:e.treeProps,"node-key":"id",draggable:"","highlight-current":e.highLightValue,load:e.getOrgList,"expand-on-click-node":!1,lazy:"",data:e.organTreeData},on:{"node-drag-start":e.handleDragStart,"node-drag-end":e.handleDragEnd,"node-click":e.handleNodeClickBtn},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(s.label))]),s.level>=2?a("span",[a("a",{staticClass:"my-cursor",staticStyle:{color:"#606266"},attrs:{href:"javascript:;"},on:{click:function(){return e.remove(s,r)}}},[a("i",{staticClass:"el-icon-delete",attrs:{title:"删除"}})])]):e._e()])}}],null,!1,252976017)}):e._e()],1),a("hr",{staticStyle:{"margin-top":"5px","border-top":"none","border-bottom":"1px dashed #ccc"}}),a("el-col",{staticStyle:{"margin-top":"2px"},attrs:{span:24}},[a("div",{staticClass:"form-item",style:{"max-height":e.treeHeight+100+"px"}},[a("el-form",{ref:"organFormDown",attrs:{"label-width":"107px",model:e.organFormDown,disabled:e.formDisabled,rules:e.organFormRule}},[a("p",{staticClass:"fs-14 fw-b",staticStyle:{"margin-bottom":"10px","padding-top":"10px"}},[e._v("组织新增/修改/详情")]),a("el-form-item",{attrs:{label:"组织名称",prop:"organName"}},[a("el-input",{attrs:{placeholder:"组织名称",clearable:"",maxlength:"150",size:"mini"},model:{value:e.organFormDown.organName,callback:function(t){e.$set(e.organFormDown,"organName",t)},expression:"organFormDown.organName"}})],1),a("el-form-item",{attrs:{label:"组织编码",prop:"organCode"}},[a("el-input",{attrs:{placeholder:"组织编码",clearable:"",maxlength:"60",size:"mini"},on:{blur:e.orgCodeRex},model:{value:e.organFormDown.organCode,callback:function(t){e.$set(e.organFormDown,"organCode",t)},expression:"organFormDown.organCode"}})],1),a("el-form-item",{attrs:{label:"组织类型",prop:"organType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.organFormDown.organType,callback:function(t){e.$set(e.organFormDown,"organType",t)},expression:"organFormDown.organType"}},e._l(e.organTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"组织负责人",prop:"organHeader"}},[a("el-input",{attrs:{size:"mini",clearable:"",maxlength:"60"},model:{value:e.organFormDown.organHeader,callback:function(t){e.$set(e.organFormDown,"organHeader",t)},expression:"organFormDown.organHeader"}})],1),a("el-form-item",{attrs:{label:"联系人",prop:"organContact"}},[a("el-input",{attrs:{size:"mini",clearable:"",maxlength:"100"},model:{value:e.organFormDown.organContact,callback:function(t){e.$set(e.organFormDown,"organContact",t)},expression:"organFormDown.organContact"}})],1),a("el-form-item",{attrs:{label:"监督电话",prop:"organPhone"}},[a("el-input",{attrs:{size:"mini",clearable:"",maxlength:"100"},model:{value:e.organFormDown.organPhone,callback:function(t){e.$set(e.organFormDown,"organPhone",t)},expression:"organFormDown.organPhone"}})],1),a("el-form-item",{attrs:{label:"投诉电话",prop:"organTel"}},[a("el-input",{attrs:{size:"mini",clearable:"",maxlength:"100"},model:{value:e.organFormDown.organTel,callback:function(t){e.$set(e.organFormDown,"organTel",t)},expression:"organFormDown.organTel"}})],1),a("el-form-item",{attrs:{label:"是否虚拟组织",prop:"organIsIfVirtual"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.organFormDown.organIsIfVirtual,callback:function(t){e.$set(e.organFormDown,"organIsIfVirtual",t)},expression:"organFormDown.organIsIfVirtual"}},e._l(e.isIfVirtualData,function(e){return a("el-option",{key:e.dictCode,attrs:{label:e.name,value:e.dictCode}})}),1)],1),a("el-form-item",{attrs:{label:"所属区域",prop:"suoshuArea"}},[a("SelectTree",{staticStyle:{width:"100%"},attrs:{props:e.props,options:e.list,value:e.valueId,clearable:e.isClearable,accordion:e.isAccordion},on:{getValue:function(t){return e.getValue(t)}}})],1),a("el-form-item",{attrs:{label:"备注",prop:"organMark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"",rows:2,maxlength:"250",size:"mini"},model:{value:e.organFormDown.organMark,callback:function(t){e.$set(e.organFormDown,"organMark",t)},expression:"organFormDown.organMark"}})],1)],1),a("div",{staticClass:"ta-c"},[a("el-button",{staticStyle:{margin:"8px 0"},attrs:{type:"success",size:"mini",disabled:e.isDisabled},on:{click:function(t){return e.addForm("organFormDown")}}},[e._v(e._s(e.isNewBtn))]),a("el-button",{staticStyle:{margin:"8px 0 8px 5px"},attrs:{type:"primary",size:"mini",disabled:e.isDisabled},on:{click:function(t){return e.changeForm("organFormDown")}}},[e._v(e._s(e.isEditBtn))])],1)],1)])],1)],1),a("el-col",{staticClass:"h-100",attrs:{span:18}},[a("el-card",{staticClass:"h-99"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"授权职位",name:"first"}},[a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formPosition",staticClass:"js-unauthor-form",attrs:{"label-position":e.labelPosition,model:e.organPositForm1}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权职位","label-width":"85px"}})],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"职位类型","label-width":"100px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},on:{change:e.positionType1Get},model:{value:e.organPositForm1.positionType1,callback:function(t){e.$set(e.organPositForm1,"positionType1",t)},expression:"organPositForm1.positionType1"}},e._l(e.positionTypeData1,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"职位名称","label-width":"100px"}},[a("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.organPositForm1.positionNameSearch,callback:function(t){e.$set(e.organPositForm1,"positionNameSearch",t)},expression:"organPositForm1.positionNameSearch"}})],1)],1),a("el-col",{attrs:{span:2,offset:3}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.positionSearch1}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"organPostionTableUp",staticClass:"table-row-height",attrs:{data:e.organPositionData1,border:"",height:e.noHeight,size:"mini","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"职位id",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"职位名称",prop:"jobName"}}),a("el-table-column",{attrs:{label:"职位编码",prop:"jobCode"}}),e.show?a("el-table-column",{attrs:{label:"是否虚拟职位",prop:"isVirtualPosition"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"修改时间",prop:"updateTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"备注",prop:"desc"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"分类",prop:"type"}}):e._e(),a("el-table-column",{attrs:{label:"职位类型",prop:"typeName"}})],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doubleAuthorClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleOrganPost},on:{click:e.singleAuthorClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnOrganPost},on:{click:e.singleCancelAuthorClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doubleCancelAuthorClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formPosition2",staticClass:"js-authorized-form",attrs:{model:e.formOrgan,"label-position":e.labelPosition}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权职位","label-width":"85px"}})],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"职位类型","label-width":"100px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formOrgan.positionType2,callback:function(t){e.$set(e.formOrgan,"positionType2",t)},expression:"formOrgan.positionType2"}},e._l(e.positionTypeData2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"职位名称","label-width":"100px"}},[a("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.formOrgan.positionNameSearch2,callback:function(t){e.$set(e.formOrgan,"positionNameSearch2",t)},expression:"formOrgan.positionNameSearch2"}})],1)],1),a("el-col",{attrs:{span:2,offset:3}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.positionSearch2}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"organPostionTableDown",staticClass:"table-row-height",attrs:{data:e.organPositionData2,border:"",height:e.organHeightDown,size:"mini","highlight-current-row":""},on:{"selection-change":e.handleSelectionChangeDown}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"职位id",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"职位名称",prop:"jobName"}}),a("el-table-column",{attrs:{label:"职位编码",prop:"jobCode"}}),e.show?a("el-table-column",{attrs:{label:"是否虚拟职位",prop:"isVirtualPosition"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"修改时间",prop:"updateTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"备注",prop:"desc"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"分类",prop:"type"}}):e._e(),a("el-table-column",{attrs:{label:"职位类型",prop:"typeName"}})],1)],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"授权用户",name:"second"}},[a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formUser",staticClass:"js-unauthor-form",attrs:{model:e.formUser}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权用户","label-width":"85px"}})],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户姓名","label-width":"70px"}},[a("el-input",{attrs:{size:"mini",prop:"userName",clearable:""},model:{value:e.formUser.userNameSearch,callback:function(t){e.$set(e.formUser,"userNameSearch",t)},expression:"formUser.userNameSearch"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户账号","label-width":"70px"}},[a("el-input",{attrs:{size:"mini",prop:"userAccount",clearable:""},model:{value:e.formUser.userAccountSearch,callback:function(t){e.$set(e.formUser,"userAccountSearch",t)},expression:"formUser.userAccountSearch"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户类型","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser.userType,callback:function(t){e.$set(e.formUser,"userType",t)},expression:"formUser.userType"}},e._l(e.organuserTypeDataUp,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否锁定","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser.shifouLock,callback:function(t){e.$set(e.formUser,"shifouLock",t)},expression:"formUser.shifouLock"}},e._l(e.organshifouLock1,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:1,offset:1}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.userSearch1}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"organUserTableUp",staticClass:"table-row-height",attrs:{data:e.organUserData1,border:"",height:e.noHeight,size:"mini","highlight-current-row":""},on:{"selection-change":e.handleSelectionChangeUser}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"主键",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"用户姓名",prop:"userName",width:"80"}}),a("el-table-column",{attrs:{label:"用户账号",prop:"userCode"}}),a("el-table-column",{attrs:{label:"登录失败次数",prop:"failedLoginTimes",width:"95"}}),e.show?a("el-table-column",{attrs:{label:"用户类型id",prop:"userType"}}):e._e(),a("el-table-column",{attrs:{label:"用户类型",prop:"userTypeName","min-width":"100"}}),a("el-table-column",{attrs:{label:"密码有效期",prop:"passwdExp",width:"85"}}),e.show?a("el-table-column",{attrs:{label:"是否锁定id",prop:"isLocked"}}):e._e(),a("el-table-column",{attrs:{label:"是否锁定",prop:"isLockedName",width:"70"}}),a("el-table-column",{attrs:{label:"解锁时间",prop:"unlockDate","min-width":"120"}}),a("el-table-column",{attrs:{label:"最近登录时间",prop:"latestLoginTime","min-width":"120"}}),e.show?a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"是否实名制",prop:"isCertification"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"允许访问结束时间",prop:"loginEndTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"允许访问开始时间",prop:"loginStartTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"性别",prop:"sex"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"状态",prop:"status"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"更新时间",prop:"updateTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"密码",prop:"userPasswd"}}):e._e()],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doubleUserClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleOrganUser},on:{click:e.singleUserClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnOrganUser},on:{click:e.singleCancelUserClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doubleCancelUserClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formUser2",staticClass:"js-authorized-form",attrs:{model:e.formUser2}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权用户","label-width":"85px"}})],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户姓名","label-width":"70px"}},[a("el-input",{attrs:{size:"mini",prop:"userName2",clearable:""},model:{value:e.formUser2.userNameSearch2,callback:function(t){e.$set(e.formUser2,"userNameSearch2",t)},expression:"formUser2.userNameSearch2"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户账号","label-width":"70px"}},[a("el-input",{attrs:{size:"mini",prop:"userAccount2",clearable:""},model:{value:e.formUser2.userAccountSearch2,callback:function(t){e.$set(e.formUser2,"userAccountSearch2",t)},expression:"formUser2.userAccountSearch2"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户类型","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser2.userType2,callback:function(t){e.$set(e.formUser2,"userType2",t)},expression:"formUser2.userType2"}},e._l(e.organuserTypeDataDown,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否锁定","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser2.shifouLock2,callback:function(t){e.$set(e.formUser2,"shifouLock2",t)},expression:"formUser2.shifouLock2"}},e._l(e.optionshifouLock2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:1,offset:1}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.userSearch2}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"organUserTableDown",staticClass:"table-row-height",attrs:{data:e.organUserData2,border:"",height:e.organHeightDown,size:"mini","highlight-current-row":""},on:{"selection-change":e.handleSelectionChangeUser2}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"主键",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"用户姓名",prop:"userName",width:"80"}}),a("el-table-column",{attrs:{label:"用户账号",prop:"userCode"}}),a("el-table-column",{attrs:{label:"登录失败次数",prop:"failedLoginTimes",width:"95"}}),e.show?a("el-table-column",{attrs:{label:"用户类型id",prop:"userType"}}):e._e(),a("el-table-column",{attrs:{label:"用户类型",prop:"userTypeName","min-width":"100"}}),a("el-table-column",{attrs:{label:"密码有效期",prop:"passwdExp",width:"85"}}),e.show?a("el-table-column",{attrs:{label:"是否锁定id",prop:"isLocked"}}):e._e(),a("el-table-column",{attrs:{label:"是否锁定",prop:"isLockedName",width:"70"}}),a("el-table-column",{attrs:{label:"解锁时间",prop:"unlockDate","min-width":"120"}}),a("el-table-column",{attrs:{label:"最近登录时间",prop:"latestLoginTime","min-width":"120"}}),e.show?a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"是否实名制",prop:"isCertification"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"允许访问结束时间",prop:"loginEndTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"允许访问开始时间",prop:"loginStartTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"性别",prop:"sex"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"状态",prop:"status"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"更新时间",prop:"updateTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"密码",prop:"userPasswd"}}):e._e()],1)],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"组织历史变更",name:"third"}},[a("el-form",{ref:"formLog",staticClass:"zw-authorized-form",attrs:{inline:!0,model:e.libgTimeForm}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"开始日期","label-width":"70px"}},[a("el-date-picker",{staticStyle:{width:"70%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",editable:e.editable},model:{value:e.libgTimeForm.startTime,callback:function(t){e.$set(e.libgTimeForm,"startTime",t)},expression:"libgTimeForm.startTime"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"结束日期","label-width":"70px"}},[a("el-date-picker",{staticStyle:{width:"70%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",editable:e.editable},model:{value:e.libgTimeForm.endTime,callback:function(t){e.$set(e.libgTimeForm,"endTime",t)},expression:"libgTimeForm.endTime"}})],1)],1),a("el-col",{attrs:{span:2,offset:1}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.historyDataClick}},[e._v("查 询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticClass:"table-row-height",attrs:{data:e.organHistoryData,border:"",height:e.historyHeight,size:"mini","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",width:"50px;",type:"index",index:e.indexMethod}}),e.show?a("el-table-column",{attrs:{label:"id",prop:"记录id"}}):e._e(),a("el-table-column",{attrs:{label:"用户姓名",prop:"userName",width:"120px;"}}),a("el-table-column",{attrs:{label:"用户账号",prop:"userCode"}}),a("el-table-column",{attrs:{label:"组织名称",prop:"orgName"}}),a("el-table-column",{attrs:{label:"组织编码",prop:"orgCode"}}),a("el-table-column",{attrs:{label:"变更时间",prop:"changeDate",width:"200px;"}}),a("el-table-column",{attrs:{label:"描述",prop:"desc1"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:23}},[a("el-pagination",{staticClass:"f-r m-10 center-box",staticStyle:{"margin-top":"10px"},attrs:{background:"",small:"","page-sizes":[10,20,50],"page-size":e.rows,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"current-change":e.currChange,"size-change":e.SizeChange}})],1)],1)],1)],1)],1)],1)],1)],1)},Oe=[],Le=a("17fb"),ze=a.n(Le),qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{value:e.valueTitle,clearable:e.clearable},on:{clear:e.clearHandle}},[a("el-option",{staticClass:"options",attrs:{value:e.valueTitle,label:e.valueTitle}},[a("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:e.accordion,data:e.options,props:e.props,"node-key":e.props.value,"default-expanded-keys":e.defaultExpandedKey},on:{"node-click":e.handleNodeClick}})],1)],1)},Ge=[],je={name:"el-tree-select",props:{props:{type:Object,default:function(){return{value:"id",label:"title",children:"children"}}},options:{type:Array,default:function(){return[]}},value:{type:Number,default:function(){return null}},clearable:{type:Boolean,default:function(){return!0}},accordion:{type:Boolean,default:function(){return!1}}},data:function(){return{valueId:this.value,valueTitle:"",defaultExpandedKey:[]}},mounted:function(){this.initHandle()},methods:{initHandle:function(){this.valueId&&(this.valueTitle=this.$refs.selectTree.getNode(this.valueId).data[this.props.label],this.$refs.selectTree.setCurrentKey(this.valueId),this.defaultExpandedKey=[this.valueId]),this.initScroll()},initScroll:function(){this.$nextTick(function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin: 0px; max-height: none; overflow: hidden;",t.forEach(function(e){return e.style.width=0})})},handleNodeClick:function(e){this.valueTitle=e[this.props.label],this.valueId=e[this.props.value],this.$emit("getValue",this.valueId),this.defaultExpandedKey=[]},clearHandle:function(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null)},clearSelected:function(){var e=document.querySelectorAll("#tree-option .el-tree-node");e.forEach(function(e){return e.classList.remove("is-current")})}},watch:{value:function(){this.valueId=this.value,this.initHandle()}}},He=je,Ve=(a("2bd2"),Object(l["a"])(He,qe,Ge,!1,null,"6a255752",null)),Ke=Ve.exports,Je={name:"zzgl",components:{SelectTree:Ke},data:function(){var e,t=this,a=function(e,t,a){t&&_e(t)?a():a(new Error("请填合法字符"))},s=function(e,a,s){new RegExp("^[\\u4E00-\\u9FA5]+$");Fe(a)?s():s(new Error("请填合法字符"));var r=t.codeFlag;console.log(r),r?s():s(new Error("组织编码重复，请重新输入"))},r=function(e,t,a){t?Ie(t)?a():a(new Error("请填合法号码")):a()};return e={baseUrl:this.GLOBAL.baseUrl,treeHeight:window.innerHeight>657?window.innerHeight/2-150:180,noHeight:window.innerHeight>657?window.innerHeight/2-165:175,organHeightDown:window.innerHeight>657?window.innerHeight/2-150:175,historyHeight:window.innerHeight>657?window.innerHeight-270:400,labelPosition:"right",highLightValue:!0,isClearable:!0,isAccordion:!0,isUpdate:!0,valueId:0,props:{value:"id",label:"areaName",children:"children"},list:[],organHeightUp:(window.innerHeight-375)/2,userHeightUp:(window.innerHeight-375)/2,userHeightDown:(window.innerHeight-280)/2,organHistoryHeight:window.innerHeight-290,issingleOrganPost:!0,issingleUnOrganPost:!0,issingleOrganUser:!0,issingleUnOrganUser:!0,activeName:"first",formDisabled:!0,isDisabled:!1,expandAll:!1,isEditBtn:"编 辑",isNewBtn:"新 增",rootNode:{},treeProps:{label:"orgName",children:"children"},libgTimeForm:{startTime:"",endTime:""},organFormDown:{organName:"",organCode:"",organType:"",organHeader:"",organContact:"",organPhone:"",organTel:"",organIsIfVirtual:"",suoshuArea:"",organMark:""},formOrgan:{positionType2:"",positionNameSearch2:""},formUser:{userNameSearch:"",userAccountSearch:"",userType:"",shifouLock:""},formUser2:{userNameSearch2:"",userAccountSearch2:"",userType2:"",shifouLock2:""},orderByitemFrom:{id:"",beOrgSort:"",parentOrgId:""},editable:!1,userNameSearch:"",userAccountSearch:"",userNameSearch2:"",userAccountSearch2:"",show:!1,organPositForm1:{positionNameSearch:"",positionType1:""},positionNameSearch:"",positionNameSearch2:"",organType:"",organTypeData:[],organIsIfVirtual:"",isIfVirtualData:[],positionType1:"",positionType2:"",positionTypeData1:[],positionTypeData2:[]},Object(ie["a"])(e,"positionTypeData2",[]),Object(ie["a"])(e,"page",1),Object(ie["a"])(e,"rows",10),Object(ie["a"])(e,"totals",0),Object(ie["a"])(e,"suoshuArea",""),Object(ie["a"])(e,"suoshuAreaData",[]),Object(ie["a"])(e,"userType",""),Object(ie["a"])(e,"organuserTypeDataUp",[]),Object(ie["a"])(e,"shifouLock",""),Object(ie["a"])(e,"organshifouLock1",[]),Object(ie["a"])(e,"userType2",""),Object(ie["a"])(e,"organuserTypeDataDown",[]),Object(ie["a"])(e,"shifouLock2",""),Object(ie["a"])(e,"optionshifouLock2",[]),Object(ie["a"])(e,"organUserData1",[]),Object(ie["a"])(e,"organUserData2",[]),Object(ie["a"])(e,"changeAuthorUserUp",[]),Object(ie["a"])(e,"changeAuthorUserDown",[]),Object(ie["a"])(e,"organshifouLock2",[]),Object(ie["a"])(e,"changeAuthorPositonDown",[]),Object(ie["a"])(e,"organHistoryData",[]),Object(ie["a"])(e,"organTreeData",[]),Object(ie["a"])(e,"organPositionData1",[]),Object(ie["a"])(e,"organPositionData2",[]),Object(ie["a"])(e,"codeFlag",!0),Object(ie["a"])(e,"organFormRule",{organName:[{required:!0,message:"请输入组织名称",trigger:"blur"},{validator:a}],organCode:[{required:!0,message:"请输入组织编码",trigger:"blur"},{validator:s}],organIsIfVirtual:[{required:!0,message:"是否虚拟组织不能为空",trigger:"blur"}],organPhone:[{trigger:"blur",validator:r}],organTel:[{trigger:"blur",validator:r}]}),Object(ie["a"])(e,"isexpand",!1),e},created:function(){this.loadOrganTypeData(),this.loadUserTypeData(),this.loadIsIfLock(),this.loadUserTypeData2(),this.loadIsIfLock2(),this.loadOrganisIfVirtualData(),this.loadOrganPositionTypeData(),this.loadOrganAreaData()},computed:{optionData:function(){}},mounted:function(){var e=this;R.$on("resize",function(t){var a=t.height;t.width;e.treeHeight=a>657?a/2-150:180,e.noHeight=a>657?a/2-165:175,e.organHeightDown=a>657?a/2-150:175,e.historyHeight=a>657?a-270:400}),window.addEventListener("resize",function(){e.loadWindowHeight()}),console.log(window.innerHeight),this.$refs.organDiv.style.height=(window.innerHeight-200)/3+"px",this.$refs.organDiv2.style.height=(window.innerHeight-250)/3*2+"px";this.positionType1,this.organPositForm1.positionNameSearch,this.positionType2,this.positionNameSearch2,this.userNameSearch,this.userAccountSearch,this.userType,this.shifouLock,this.userNameSearch2,this.userAccountSearch2,this.userType2,this.shifouLock2},methods:{loadWindowHeight:function(){var e=this;this.$nextTick(function(){e.organHeightUp=(window.innerHeight-375)/2,e.organHeightDown=(window.innerHeight-280)/2,e.userHeightUp=(window.innerHeight-375)/2,e.userHeightDown=(window.innerHeight-280)/2,e.organHistoryHeight=window.innerHeight-290,e.$refs.organDiv.style.height=(window.innerHeight-200)/3+"px",e.$refs.organDiv2.style.height=(window.innerHeight-250)/3*2+"px"})},getValue:function(e){this.valueId=e,console.log(this.valueId)},handleSelectionChange:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleOrganPost=!1:this.issingleOrganPost=!0,this.changeAuthorPositon=t},handleSelectionChangeDown:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnOrganPost=!1:this.issingleUnOrganPost=!0,this.changeAuthorPositonDown=t},handleSelectionChangeUser:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleOrganUser=!1:this.issingleOrganUser=!0,this.changeAuthorUserUp=t},handleSelectionChangeUser2:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnOrganUser=!1:this.issingleUnOrganUser=!0,this.changeAuthorUserDown=t},orgCodeRex:function(){var e=this;M()({method:"post",url:this.baseUrl+"fweb-security/org/checkorgbycode",data:{orgCode:this.organFormDown.organCode}}).then(function(t){console.log(t),"200"==t.data.statusCode&&(e.codeFlag=t.data.orgCodeFlag)}).catch(function(e){console.log(e)})},getOrgList:function(e,t){var a=this;void 0!=this.$refs.tree&&(this.checkedKeys=this.$refs.tree.getCheckedKeys()),void 0==e.data&&(e["data"]={id:"-1",areaName:"根节点"}),M()({method:"post",url:this.baseUrl+"fweb-security/org/listinfo",data:{parentOrgId:e.data.id,authType:"2"}}).then(function(s){return console.log(s),void 0!=s.data.result&&""!=s.data.result&&"200"==s.data.statusCode?(a.rootNode=s.data.result.data_[0],0==e.level?t([a.rootNode]):(console.log(s.data.result),t(s.data.result.data_))):t([])}).catch(function(e){return t([])}),void 0!=this.$refs.tree&&this.$refs.tree.setCheckedKeys(this.checkedKeys)},handleNodeClickBtn:function(e){if(console.log(this.$refs.tree.getCurrentNode()),this.$refs.organFormDown.resetFields(),this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0,this.libgTimeForm.startTime="",this.libgTimeForm.endTime="",this.formUser.userNameSearch="",this.formUser.userAccountSearch="",this.formUser.userType="",this.formUser.shifouLock="",this.formUser2.userNameSearch2="",this.formUser2.userAccountSearch2="",this.formUser2.userType2="",this.formUser2.shifouLock2="",this.organPositForm1.positionNameSearch="",this.organPositForm1.positionType1="",this.formOrgan.positionType2="",this.formOrgan.positionNameSearch2="",this.setOrganFormData(),this.page=1,"0"==this.$refs.tree.getCurrentNode().id)this.organPositionData1=[],this.organPositionData2=[],this.organUserData1=[],this.organUserData2=[],this.organHistoryData=[];else{var t={authType:"0",orgId:e.id,type:this.positionType1,jobName:this.organPositForm1.positionNameSearch},a={authType:"1",orgId:e.id,type:this.positionType2,jobName:this.positionNameSearch2},s={authType:"0",orgId:e.id,userName:this.userNameSearch,userCode:this.userAccountSearch,userType:this.userType,isLocked:this.shifouLock},r={authType:"1",orgId:e.id,userName:this.userNameSearch2,userCode:this.userAccountSearch2,userType:this.userType2,isLocked:this.shifouLock2};this.organPositionData1=[],this.organPositionData2=[],this.organUserData1=[],this.organUserData1=[],this.loadOrganPositonGridDataUp(t),this.loadOrganPositonGridDataDown(a),this.loadOrganUserGridDataUp(s),this.loadOrganUserGridDataDown(r),this.historyDataClick()}},handleDragStart:function(e,t){console.log(e),this.orderByitemFrom.id=e.data.id},handleDragEnd:function(e,t,a,s){var r=this;console.log(e),console.log(t),this.orderByitemFrom.parentOrgId=t.data.id,this.orderByitemFrom.beOrgSort=t.data.orgSort,null!=a&&"-1"!=t.data.parentOrgId?this.orderByitem():(this.$message({message:"该节点已在根节点下",type:"error"}),this.isUpdate=!1,this.$nextTick(function(e){r.isUpdate=!0}))},orderByitem:function(){var e=this;M()({method:"post",url:this.baseUrl+"fweb-security/org/oderbyorg",data:this.orderByitemFrom}).then(function(t){"200"===t.data.statusCode?e.$message({type:"success",message:t.data.message_}):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},findIndex:function(e,t){for(var a=0;a<e.length;a++)if(e[a].key===t)return a},remove:function(e,t){var a=this;this.$confirm("确认删除这条组织吗？","删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(s){console.log(s),console.log(t.id),M()({method:"post",url:a.baseUrl+"fweb-security/org/delete",data:{id:t.id}}).then(function(s){if("200"==s.data.statusCode){a.$message({type:"success",message:s.data.message_});var r=e.parent,o=r.childNodes,i=a.findIndex(e.parent.childNodes,t.id);o.splice(i,1),a.organPositionData1=[],a.organPositionData2=[],a.organUserData1=[],a.organUserData2=[],a.organHistoryData=[],a.$refs.organFormDown.resetFields()}else a.$message({type:"error",message:s.data.message_})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},addForm:function(e){var t=this;console.log(e),"新 增"==this.isNewBtn?null==this.$refs.tree.getCurrentNode()?this.$message({type:"error",message:"请选择一条组织记录"}):(this.$refs[e].resetFields(),this.organFormDown.organHeader="",this.organFormDown.organContact="",this.organFormDown.organPhone="",this.organFormDown.organTel="",this.isNewBtn="保 存",this.isEditBtn="取 消",this.formDisabled=!1):"保 存"==this.isNewBtn?this.$refs[e].validate(function(e){if(!e)return!1;t.getAddOrgan(),t.isNewBtn="新 增",t.isEditBtn="编 辑",t.formDisabled=!0}):(this.getUpdateOrgan(),this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0)},getAddOrgan:function(){var e=this;if(console.log(this.$refs.tree.getCurrentNode()),!this.$refs.tree.getCurrentNode())return this.$message({type:"error",message:"请选择一条组织记录"}),!1;var t={orgName:this.organFormDown.organName,orgCode:this.organFormDown.organCode,orgTypeId:this.organFormDown.organType,leader:this.organFormDown.organHeader,contactPerson:this.organFormDown.organContact,superviseTel:this.organFormDown.organPhone,complaintsTel:this.organFormDown.organTel,isVirtualOrg:this.organFormDown.organIsIfVirtual,areaId:this.valueId,desc:this.organFormDown.organMark,parentOrgId:this.$refs.tree.getCurrentNode().id};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/org/insert",data:t}).then(function(a){console.log(a),"200"==a.data.statusCode?(e.$message({showClose:!0,message:a.data.message_,type:"success"}),t.id=a.data.id,e.append(e.$refs.tree.getCurrentNode(),t),e.$refs.tree.store.nodesMap[e.$refs.tree.getCurrentNode().id].expanded=!0):e.$message({showClose:!0,message:a.data.message_,type:"error"}),console.log(a)}).catch(function(e){console.log(e)});for(var a=0;a<this.$refs.tree.store._getAllNodes().length;a++)this.$refs.tree.store._getAllNodes()[a].expanded=this.isexpand,console.log(a)},append:function(e,t){var a=this.$refs.tree.getNode(e.id);console.log(a),this.$refs.tree.append(t,a)},changeForm:function(e){return console.log(e),null==this.$refs.tree.getCurrentNode()?(this.$message({type:"error",message:"请至少选择一条组织记录进行操作"}),!1):"0"==this.$refs.tree.getCurrentNode().id?(this.$message({type:"error",message:"请选择一条非根节点记录进行操作"}),!1):void("编 辑"==this.isEditBtn?(this.setOrganFormData(),this.isNewBtn="修 改",this.isEditBtn="取 消",this.formDisabled=!1):(this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0))},setOrganFormData:function(){console.log(this.$refs.tree.getCurrentNode()),this.$refs.tree.getCurrentNode().leader||(this.$refs.tree.getCurrentNode().leader=""),this.$refs.tree.getCurrentNode().contactPerson||(this.$refs.tree.getCurrentNode().contactPerson=""),this.$refs.tree.getCurrentNode().superviseTel||(this.$refs.tree.getCurrentNode().superviseTel=""),this.$refs.tree.getCurrentNode().complaintsTel||(this.$refs.tree.getCurrentNode().complaintsTel=""),this.$refs.tree.getCurrentNode().desc||(this.$refs.tree.getCurrentNode().desc=""),this.organFormDown.organName=this.$refs.tree.getCurrentNode().orgName,this.organFormDown.organCode=this.$refs.tree.getCurrentNode().orgCode,this.organFormDown.organType=this.$refs.tree.getCurrentNode().orgTypeId,this.organFormDown.organHeader=this.$refs.tree.getCurrentNode().leader,this.organFormDown.organContact=this.$refs.tree.getCurrentNode().contactPerson,this.organFormDown.organPhone=this.$refs.tree.getCurrentNode().superviseTel,this.organFormDown.organTel=this.$refs.tree.getCurrentNode().complaintsTel,this.organFormDown.organIsIfVirtual=this.$refs.tree.getCurrentNode().isVirtualOrg,this.valueId=this.$refs.tree.getCurrentNode().areaId,this.organFormDown.organMark=this.$refs.tree.getCurrentNode().desc},getUpdateOrgan:function(){var e=this;console.log(this.$refs.tree.getCurrentNode());var t={id:this.$refs.tree.getCurrentNode().id,orgName:this.organFormDown.organName,orgCode:this.organFormDown.organCode,orgTypeId:this.organFormDown.organType,leader:this.organFormDown.organHeader,contactPerson:this.organFormDown.organContact,superviseTel:this.organFormDown.organPhone,complaintsTel:this.organFormDown.organTel,isVirtualOrg:this.organFormDown.organIsIfVirtual,areaId:this.valueId,desc:this.organFormDown.organMark,parentOrgId:this.$refs.tree.getCurrentNode().parentOrgId};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/org/update",data:t}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.$message({showClose:!0,message:t.data.message_,type:"success"}),console.log(e.organFormDown),e.$refs.tree.getCurrentNode().orgName=e.organFormDown.organName,e.$refs.tree.getCurrentNode().orgCode=e.organFormDown.organCode,e.$refs.tree.getCurrentNode().orgTypeId=e.organFormDown.organType,e.$refs.tree.getCurrentNode().leader=e.organFormDown.organHeader,e.$refs.tree.getCurrentNode().contactPerson=e.organFormDown.organContact,e.$refs.tree.getCurrentNode().superviseTel=e.organFormDown.organPhone,e.$refs.tree.getCurrentNode().complaintsTel=e.organFormDown.organTel,e.$refs.tree.getCurrentNode().isVirtualOrg=e.organFormDown.organIsIfVirtual,e.$refs.tree.getCurrentNode().areaId=e.organFormDown.suoshuArea,e.$refs.tree.getCurrentNode().desc=e.organFormDown.organMark):e.$message({showClose:!0,message:t.data.message_,type:"error"})}).catch(function(e){console.log(e)})},loadOrganAreaData:function(){var e=this;M()({method:"post",url:this.baseUrl+"fweb-security/area/querytreeinfo",data:{areaId:"0"}}).then(function(t){console.log(t),e.recursiveTreeData(t.data.result.data_)}).catch(function(e){console.log(e)})},recursiveTreeData:function(e){for(var t=0;t<e.length;t++)e[t].orgName&&(e[t].id=e[t].id,e[t].parentId=e[t].parentAreaId,e[t].name=e[t].areaName),e[t].children.length>0&&this.recursiveTreeData(e[t].children);return this.list=e},singleAuthorClick:function(){var e=this;this.$confirm("确认授权这些职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getAuthoredSingle()}).catch(function(e){console.log(e)})},getAuthoredSingle:function(){var e=this;if(this.changeAuthorPositon.length<=0)return this.$message({type:"error",message:"请至少选择一条未授权职位数据进行操作"}),!1;if(!this.$refs.tree.getCurrentNode())return this.$message({type:"error",message:"请选择一条组织记录"}),!1;var t={orgId:[this.$refs.tree.getCurrentNode().id],jobId:this.changeAuthorPositon};M()({method:"post",url:this.baseUrl+"fweb-security/org/mapping/insert",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"职位授权成功",type:"success"}),e.loadOrganPositonGridDataUp({authType:"0",orgId:e.$refs.tree.getCurrentNode().id}),e.loadOrganPositonGridDataDown({authType:"1",orgId:e.$refs.tree.getCurrentNode().id})):e.$message({message:"职位授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleCancelAuthorClick:function(){var e=this;this.$confirm("确认取消授权该职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.singleCancelAuthor()}).catch(function(e){console.log(e)})},singleCancelAuthor:function(){var e=this;if(this.changeAuthorPositonDown.length<=0)return this.$message({type:"error",message:"请至少选择一条已授权职位数据进行操作"}),!1;if(!this.$refs.tree.getCurrentNode())return this.$message({type:"error",message:"请选择一条组织记录"}),!1;var t={orgId:[this.$refs.tree.getCurrentNode().id],jobId:this.changeAuthorPositonDown};M()({method:"post",url:this.baseUrl+"fweb-security/org/mapping/delete",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"职位取消授权成功",type:"success"}),e.loadOrganPositonGridDataUp({authType:"0",orgId:e.$refs.tree.getCurrentNode().id}),e.loadOrganPositonGridDataDown({authType:"1",orgId:e.$refs.tree.getCurrentNode().id})):e.$message({message:"职位取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleCancelAuthorClick:function(){var e=this;this.$refs.organPostionTableDown.clearSelection(),this.$refs.organPostionTableDown.toggleAllSelection(),0==this.organPositionData2.length?this.$message({message:"没有已授权职位数据",type:"error"}):this.$confirm("确认全部取消授权这些职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){if(!e.$refs.tree.getCurrentNode())return e.$message({type:"error",message:"请选择一条组织记录操作"}),!1;var a=e.$refs.tree.getCurrentNode().id;e.doubleCancelAuthorFunction(a)}).catch(function(e){console.log(e)})},doubleCancelAuthorFunction:function(e){var t=this,a={orgId:[e],jobId:this.changeAuthorPositonDown};M()({method:"post",url:this.baseUrl+"fweb-security/org/mapping/delete",data:a}).then(function(a){"200"==a.data.statusCode?(t.$message({message:"全部职位取消授权成功",type:"success"}),t.loadOrganPositonGridDataUp({authType:"0",orgId:e}),t.loadOrganPositonGridDataDown({authType:"1",orgId:e})):t.$message({message:"全部职位取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleAuthorClick:function(){var e=this;this.$refs.organPostionTableUp.clearSelection(),this.$refs.organPostionTableUp.toggleAllSelection(),0==this.organPositionData1.length?this.$message({message:"没有未授权职位数据",type:"error"}):this.$confirm("确认全部授权这些职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){if(!e.$refs.tree.getCurrentNode())return e.$message({type:"error",message:"请选择一条组织记录操作"}),!1;var a=e.$refs.tree.getCurrentNode().id;e.getAuthoredAll(a)}).catch(function(e){console.log(e)})},getAuthoredAll:function(e){var t=this,a={orgId:[e],jobId:this.changeAuthorPositon};M()({method:"post",url:this.baseUrl+"fweb-security/org/mapping/insert",data:a}).then(function(a){"200"==a.data.statusCode?(t.$message({message:"全部职位授权成功",type:"success"}),t.loadOrganPositonGridDataUp({authType:"0",orgId:e}),t.loadOrganPositonGridDataDown({authType:"1",orgId:e})):t.$message({message:"全部职位授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleUserClick:function(){var e=this;this.$confirm("确认授权该用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getUserSingle()}).catch(function(e){console.log(e)})},getUserSingle:function(){var e=this;if(this.changeAuthorUserUp.length<=0)return this.$message({type:"error",message:"请至少选择一条未授权用户数据进行操作"}),!1;if(!this.$refs.tree.getCurrentNode())return this.$message({type:"error",message:"请至少选择一条组织记录"}),!1;var t={userIds:this.changeAuthorUserUp,orgIds:[this.$refs.tree.getCurrentNode().id],authType:"1",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserorg",data:t}).then(function(t){e.historyDataClick(),"200"==t.data.statusCode?(e.$message({message:"用户授权成功",type:"success"}),e.loadOrganUserGridDataUp({authType:"0",orgId:e.$refs.tree.getCurrentNode().id}),e.loadOrganUserGridDataDown({authType:"1",orgId:e.$refs.tree.getCurrentNode().id})):e.$message({message:"用户授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleCancelUserClick:function(){var e=this;this.$confirm("确认取消授权该用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.singleCancelUser()}).catch(function(e){console.log(e)})},singleCancelUser:function(){var e=this;if(this.changeAuthorUserDown.length<=0)return this.$message({type:"error",message:"请选择一条已授权用户数据进行操作"}),!1;if(!this.$refs.tree.getCurrentNode())return this.$message({type:"error",message:"请选择一条组织记录"}),!1;var t={userIds:this.changeAuthorUserDown,orgIds:[this.$refs.tree.getCurrentNode().id],authType:"0",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserorg",data:t}).then(function(t){e.historyDataClick(),"200"==t.data.statusCode?(e.$message({message:"用户取消授权成功",type:"success"}),e.loadOrganUserGridDataUp({authType:"0",orgId:e.$refs.tree.getCurrentNode().id}),e.loadOrganUserGridDataDown({authType:"1",orgId:e.$refs.tree.getCurrentNode().id})):e.$message({message:"用户取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleUserClick:function(){var e=this;this.$refs.organUserTableUp.clearSelection(),this.$refs.organUserTableUp.toggleAllSelection(),0==this.organUserData1.length?this.$message({message:"没有未授权用户数据",type:"error"}):(console.log(this.changeAuthorUserUp),this.$confirm("确认全部授权这些用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){if(!e.$refs.tree.getCurrentNode())return e.$message({type:"error",message:"请选择一条组织记录操作"}),!1;var a=e.$refs.tree.getCurrentNode().id;e.doubleUser(a)}).catch(function(e){console.log(e)}))},doubleUser:function(e){var t=this,a={userIds:this.changeAuthorUserUp,orgIds:[e],authType:"1",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserorg",data:a}).then(function(a){t.historyDataClick(),"200"==a.data.statusCode?(t.$message({message:"全部用户授权成功",type:"success"}),t.loadOrganUserGridDataUp({authType:"0",orgId:e}),t.loadOrganUserGridDataDown({authType:"1",orgId:e})):t.$message({message:"全部用户授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleCancelUserClick:function(){var e=this;this.$refs.organUserTableDown.clearSelection(),this.$refs.organUserTableDown.toggleAllSelection(),0==this.organUserData2.length?this.$message({message:"没有已授权用户数据",type:"error"}):this.$confirm("确认全部授权这些用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){if(!e.$refs.tree.getCurrentNode())return e.$message({type:"error",message:"请选择一条组织记录操作"}),!1;var a=e.$refs.tree.getCurrentNode().id;e.doubleCancelUser(a)}).catch(function(e){console.log(e)})},doubleCancelUser:function(e){var t=this,a={userIds:this.changeAuthorUserDown,orgIds:[e],authType:"0",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserorg",data:a}).then(function(a){t.historyDataClick(),"200"==a.data.statusCode?(t.$message({message:"全部用户取消授权成功",type:"success"}),t.loadOrganUserGridDataUp({authType:"0",orgId:e}),t.loadOrganUserGridDataDown({authType:"1",orgId:e})):t.$message({message:"全部用户取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},getCurrentNode:function(e){},positionSearch1:function(){var e=this.$refs.tree.getCurrentNode();if(e){var t={authType:"0",orgId:e.id,type:this.positionType1,jobName:this.organPositForm1.positionNameSearch};this.loadOrganPositonGridDataUp(t)}else this.$message({type:"error",message:"请选择一条组织记录"})},positionSearch2:function(){var e=this.$refs.tree.getCurrentNode();if(e){var t={authType:"1",orgId:e.id,type:this.positionType2,jobName:this.formOrgan.positionNameSearch2};this.loadOrganPositonGridDataDown(t)}else this.$message({type:"error",message:"请选择一条组织记录"})},userSearch1:function(){var e=this.$refs.tree.getCurrentNode();if(e){var t={authType:"0",orgId:e.id,userName:this.formUser.userNameSearch,userCode:this.formUser.userAccountSearch,userType:this.formUser.userType,isLocked:this.formUser.shifouLock};this.loadOrganUserGridDataUp(t)}else this.$message({type:"error",message:"请选择一条组织记录"})},userSearch2:function(){var e=this.$refs.tree.getCurrentNode();if(e){var t={authType:"1",orgId:e.id,userName:this.formUser2.userNameSearch2,userCode:this.formUser2.userAccountSearch2,userType:this.formUser2.userType2,isLocked:this.formUser2.shifouLock2};this.loadOrganUserGridDataDown(t)}else this.$message({type:"error",message:"请选择一条组织记录"})},loadOrganTreeData:function(){var e=this;M()({method:"post",url:this.baseUrl+"fweb-security/org/listinfo",data:{authType:"2"}}).then(function(t){""!=t.data.result&&void 0!=t.data.result&&"200"==t.data.statusCode&&e.recursiveTreeData(t.data.result.data_)}).catch(function(e){})},loadOrganTypeData:function(){var e=this;return M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0004-01"}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.organTypeData.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadOrganisIfVirtualData:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0003-01"}}).then(function(t){console.log(t),"200"==t.data.statusCode?e.isIfVirtualData=t.data.result.data_:e.isIfVirtualData=[]})},loadOrganPositionTypeData:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0003-02"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.positionTypeData1.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name}),e.positionTypeData2.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})})},loadUserTypeData:function(){var e=this;return M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0001-01"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.organuserTypeDataUp.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadIsIfLock:function(){var e=this;return M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0001-04"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.organshifouLock1.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadUserTypeData2:function(){var e=this;return M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0001-01"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.organuserTypeDataDown.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadIsIfLock2:function(){var e=this;return M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0001-04"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.optionshifouLock2.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},positionType1Get:function(e){console.log(e)},loadOrganPositonGridDataUp:function(e){var t=this;M()({method:"post",url:this.baseUrl+"fweb-security/org/findauthorized",data:e}).then(function(e){(e.data.statusCode="200")&&(e.data.result?t.organPositionData1=e.data.result.data_:t.organPositionData1=[])}).catch(function(e){console.log(e)})},loadOrganPositonGridDataDown:function(e){var t=this;M()({method:"post",url:this.baseUrl+"fweb-security/org/findauthorized",data:e}).then(function(e){"200"==e.data.statusCode&&(e.data.result?t.organPositionData2=e.data.result.data_:t.organPositionData2=[])}).catch(function(e){console.log(e)})},loadOrganUserGridDataUp:function(e){var t=this;M()({method:"post",url:this.baseUrl+"fweb-security/org/getuserauthorized",data:e}).then(function(e){"200"==e.data.statusCode&&(e.data.result?t.organUserData1=e.data.result.data_:t.organUserData1=[])}).catch(function(e){console.log(e)})},loadOrganUserGridDataDown:function(e){var t=this;M()({method:"post",url:this.baseUrl+"fweb-security/org/getuserauthorized",data:e}).then(function(e){"200"==e.data.statusCode&&(e.data.result?t.organUserData2=e.data.result.data_:t.organUserData2=[])}).catch(function(e){console.log(e)})},indexMethod:function(e){return 10*(this.page-1)+(e+1)},currChange:function(e){if(!this.$refs.tree.getCurrentNode())return this.$message({type:"error",message:"请选择一条组织记录"}),!1;this.page=e;var t={id:this.$refs.tree.getCurrentNode().id,startTime:this.startTime,endTime:this.endTime};this.loadOrganHistorGridData(t)},SizeChange:function(e){if(!this.$refs.tree.getCurrentNode())return this.$message({type:"error",message:"请选择一条组织记录"}),!1;this.rows=e;var t={id:this.$refs.tree.getCurrentNode().id,startTime:this.startTime,endTime:this.endTime};this.loadOrganHistorGridData(t)},startTimeChange:function(){""!=this.libgTimeForm.endTime&&this.libgTimeForm.startTime>this.libgTimeForm.endTime&&(this.libgTimeForm.startTime="",this.$message({message:"开始日期不能大于结束日期",type:"error"}))},endTimeChange:function(){""!=this.libgTimeForm.startTime&&this.libgTimeForm.endTime<this.libgTimeForm.startTime&&(this.libgTimeForm.endTime="",this.$message({message:"开始日期不能大于结束日期",type:"error"}))},loadOrganHistorGridData:function(e){var t=this;M()({method:"post",url:this.baseUrl+"/fweb-security/org/findpage?page="+this.page+"&rows="+this.rows,data:e}).then(function(e){"200"==e.data.statusCode&&(e.data.result?(t.organHistoryData=e.data.result.data_,t.totals=e.data.result.rowsCnt):t.organHistoryData=[])}).catch(function(e){console.log(e)})},historyDataClick:function(){if(!this.$refs.tree.getCurrentNode())return this.$message({type:"error",message:"请选择一条组织记录"}),!1;if(this.libgTimeForm.startTime>this.libgTimeForm.endTime)this.$message({message:"开始日期不能大于结束日期",type:"error"});else{var e={id:this.$refs.tree.getCurrentNode().id,startTime:null==this.libgTimeForm.startTime?"":this.libgTimeForm.startTime,endTime:null==this.libgTimeForm.endTime?"":this.libgTimeForm.endTime};console.log(e),this.loadOrganHistorGridData(e)}}}},Ze=Je,We=(a("cc48"),Object(l["a"])(Ze,Ee,Oe,!1,null,"08dc4f41",null)),Ye=We.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"h-100",attrs:{gutter:5}},[a("el-col",{staticClass:"h-100",attrs:{span:6}},[a("el-card",{staticClass:"h-99"},[a("el-form",{staticClass:"zw-unauthor-form",attrs:{inline:!0}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"菜单列表"}})],1),a("div",{staticClass:"tree-scroll",staticStyle:{border:"1px solid #ddd"},style:{height:e.treeHeight+"px"}},[e.isUpdate?a("el-tree",{ref:"menutree",attrs:{props:e.menuProps,"node-key":"id","highlight-current":"",load:e.getMenuList,"expand-on-click-node":!1,lazy:"",draggable:""},on:{"node-drag-start":e.handleDragStart,"node-drag-end":e.handleDragEnd,"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(s.label))]),s.level>=2?a("span",[a("a",{staticStyle:{color:"#606266"},attrs:{href:"javascript:;"},on:{click:function(){return e.removeInfo(s,r)}}},[a("i",{staticClass:"el-icon-delete",attrs:{title:"删除"}})])]):e._e()])}}],null,!1,3914997548)}):e._e()],1),a("hr",{staticStyle:{"margin-top":"5px","border-top":"none","border-bottom":"1px dashed #ccc"}}),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"form-item",staticStyle:{"margin-top":"2px"},style:{height:e.treeHeight+100+"px"}},[a("el-tabs",{on:{"tab-click":e.handleClick1},model:{value:e.activeName2,callback:function(t){e.activeName2=t},expression:"activeName2"}},[a("el-tab-pane",{attrs:{label:"菜单目录",name:"first"}},[a("el-form",{ref:"formMenu",attrs:{model:e.formMenu,"label-width":"95px",disabled:e.formDisabled1,rules:e.menuMuluRules}},[a("el-row",[a("el-col",{attrs:{span:23}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formMenu.menuName,callback:function(t){e.$set(e.formMenu,"menuName",t)},expression:"formMenu.menuName"}})],1)],1),a("el-col",{attrs:{span:23}},[a("el-form-item",{attrs:{label:"菜单编码",prop:"menuCode"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formMenu.menuCode,callback:function(t){e.$set(e.formMenu,"menuCode",t)},expression:"formMenu.menuCode"}})],1)],1),a("el-col",{attrs:{span:23}},[e.ssSystemShow?a("el-form-item",{attrs:{label:"所属系统",prop:"suoshuSystem"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formMenu.suoshuSystem,callback:function(t){e.$set(e.formMenu,"suoshuSystem",t)},expression:"formMenu.suoshuSystem"}},e._l(e.optionsSystemDataOut,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1):e._e()],1),a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formMenu.menuIcon,callback:function(t){e.$set(e.formMenu,"menuIcon",t)},expression:"formMenu.menuIcon"}})],1)],1),a("el-col",{attrs:{span:23}},[a("el-form-item",{attrs:{label:"备注",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.formMenu.desc,callback:function(t){e.$set(e.formMenu,"desc",t)},expression:"formMenu.desc"}})],1)],1)],1)],1),a("div",{staticClass:"ta-c"},[a("el-button",{staticStyle:{margin:"45px 0"},attrs:{type:"success",size:"mini",disabled:e.isDisabled1},on:{click:function(t){return e.addForm1("formMenu")}}},[e._v(e._s(e.isNewBtn1))]),a("el-button",{staticStyle:{margin:"45px 0 45px 5px"},attrs:{type:"primary",size:"mini",disabled:e.isDisabled1},on:{click:function(t){return e.changeForm1("formMenu")}}},[e._v(e._s(e.isEditBtn1))])],1)],1),a("el-tab-pane",{attrs:{label:"菜单",name:"second"}},[a("el-form",{ref:"formMenu2",attrs:{model:e.formMenu2,"label-width":"95px",rules:e.formMenu2Rules,disabled:e.formDisabled2}},[a("el-row",[a("el-col",{attrs:{span:23}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName2"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formMenu2.menuName2,callback:function(t){e.$set(e.formMenu2,"menuName2",t)},expression:"formMenu2.menuName2"}})],1)],1),a("el-col",{attrs:{span:23}},[a("el-form-item",{attrs:{label:"菜单编码",prop:"menuCode2"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formMenu2.menuCode2,callback:function(t){e.$set(e.formMenu2,"menuCode2",t)},expression:"formMenu2.menuCode2"}})],1)],1),a("el-col",{attrs:{span:23}},[a("el-form-item",{attrs:{label:"显示方式",prop:"showType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formMenu2.showType,callback:function(t){e.$set(e.formMenu2,"showType",t)},expression:"formMenu2.showType"}},e._l(e.displayModeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"菜单图标",prop:"menuIcon2"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formMenu2.menuIcon2,callback:function(t){e.$set(e.formMenu2,"menuIcon2",t)},expression:"formMenu2.menuIcon2"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:19}},[a("el-form-item",{attrs:{label:"所属功能组",prop:"funcGroup","label-width":"95px"}},[a("el-input",{attrs:{readonly:""},model:{value:e.formMenu2.funcGroup,callback:function(t){e.$set(e.formMenu2,"funcGroup",t)},expression:"formMenu2.funcGroup"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{staticStyle:{"padding-left":"8px","padding-right":"8px"},attrs:{type:"success",size:"mini"},on:{click:e.selectFuncGroupBtnClick}},[e._v("选择")])],1)],1)],1)],1),a("el-col",{attrs:{span:23}},[a("el-form-item",{attrs:{label:"备注",prop:"desc2"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.formMenu2.desc2,callback:function(t){e.$set(e.formMenu2,"desc2",t)},expression:"formMenu2.desc2"}})],1)],1)],1)],1),a("div",{staticClass:"ta-c"},[a("el-button",{staticStyle:{margin:"45px 0"},attrs:{type:"success",size:"mini",disabled:e.isDisabled2},on:{click:function(t){return e.addForm2("formMenu2")}}},[e._v(e._s(e.isNewBtn2))]),a("el-button",{staticStyle:{margin:"45px 0 45px 5px"},attrs:{type:"primary",size:"mini",disabled:e.isDisabled2},on:{click:function(t){return e.changeForm2("formMenu2")}}},[e._v(e._s(e.isEditBtn2))])],1)],1)],1)],1)])],1)],1),a("el-col",{staticClass:"h-100",attrs:{span:18}},[a("el-card",{staticClass:"h-95 of-y-a"},[a("el-tabs",{on:{"tab-click":e.handleClick2},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"授权角色",name:"first"}},[a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formRole",staticClass:"js-unauthor-form",attrs:{model:e.formRole}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权角色","label-width":"85px"}})],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"角色类型","label-width":"70px",prop:"roleType1"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formRole.roleType1,callback:function(t){e.$set(e.formRole,"roleType1",t)},expression:"formRole.roleType1"}},e._l(e.positionTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:7,offset:2}},[a("el-form-item",{attrs:{label:"角色名称","label-width":"70px",prop:"roleName1"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formRole.roleName1,callback:function(t){e.$set(e.formRole,"roleName1",t)},expression:"formRole.roleName1"}})],1)],1),a("el-col",{attrs:{span:1,offset:2}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.menuRoleSearchBtnClickUp}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"menuRoleRef1",attrs:{data:e.menuRoleData1,border:"",height:e.organHeightUp,"row-class-name":"table-row-height",size:"mini","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange1}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"角色菜单id",prop:"roleMenuId"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"角色id",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName"}}),a("el-table-column",{attrs:{label:"角色编码",prop:"roleCode"}}),a("el-table-column",{attrs:{label:"角色类型",prop:"roletypename"}}),e.show?a("el-table-column",{attrs:{label:"角色类型id",prop:"roleType"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"状态",prop:"status"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"修改时间",prop:"updateTime"}}):e._e()],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doubleRoleBtnClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleMenu},on:{click:e.singleRoleBtnClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnMenu},on:{click:e.singleRoleCancelBtnClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doubleRoleCancelBtnClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formRole2",staticClass:"js-authorized-form",attrs:{model:e.formRole2}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权角色","label-width":"85px"}})],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"角色类型","label-width":"70px",prop:"roleType2"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formRole2.roleType2,callback:function(t){e.$set(e.formRole2,"roleType2",t)},expression:"formRole2.roleType2"}},e._l(e.positionTypeData2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:7,offset:2}},[a("el-form-item",{attrs:{label:"角色名称","label-width":"70px",prop:"roleName2"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formRole2.roleName2,callback:function(t){e.$set(e.formRole2,"roleName2",t)},expression:"formRole2.roleName2"}})],1)],1),a("el-col",{attrs:{span:1,offset:2}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.menuRoleSearchBtnClickDown}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"menuRoleRef2",attrs:{data:e.menuRoleData2,border:"",height:e.organHeightDown,size:"mini","row-class-name":"table-row-height","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange2}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"角色菜单id",prop:"roleMenuId"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"角色id",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName"}}),a("el-table-column",{attrs:{label:"角色编码",prop:"roleCode"}}),a("el-table-column",{attrs:{label:"角色类型",prop:"roletypename"}}),e.show?a("el-table-column",{attrs:{label:"角色类型id",prop:"roleType"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"状态",prop:"status"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"修改时间",prop:"updateTime"}}):e._e()],1)],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"授权用户",name:"second"}},[a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formUser",staticClass:"js-unauthor-form",attrs:{model:e.formUser,"label-width":"95px"}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权用户","label-width":"85px"}})],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"userName1","label-width":"70px"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formUser.userName1,callback:function(t){e.$set(e.formUser,"userName1",t)},expression:"formUser.userName1"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户账号",prop:"userCode1","label-width":"70px"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formUser.userCode1,callback:function(t){e.$set(e.formUser,"userCode1",t)},expression:"formUser.userCode1"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户类型",prop:"userType1","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser.userType1,callback:function(t){e.$set(e.formUser,"userType1",t)},expression:"formUser.userType1"}},e._l(e.userTypeData1,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否锁定",prop:"ifLocked1","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser.ifLocked1,callback:function(t){e.$set(e.formUser,"ifLocked1",t)},expression:"formUser.ifLocked1"}},e._l(e.userifLockData1,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:1,offset:1}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.menuUserSearchBtnClickUp}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"menuUserRef1",attrs:{data:e.organUserData1,border:"",height:e.organHeightUp,size:"mini","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange3}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{label:"用户姓名",prop:"userName","min-width":"80"}}),a("el-table-column",{attrs:{label:"用户账号",prop:"userCode"}}),a("el-table-column",{attrs:{label:"登录失败次数",prop:"failedlogintimes",width:"95"}}),e.show?a("el-table-column",{attrs:{label:"用户类型id",prop:"userType",width:"85px;"}}):e._e(),a("el-table-column",{attrs:{label:"用户类型",prop:"userTypeName","min-width":"100"}}),a("el-table-column",{attrs:{label:"密码有效期",prop:"passwdExp",width:"85"}}),e.show?a("el-table-column",{attrs:{label:"是否锁定id",prop:"isLocked"}}):e._e(),a("el-table-column",{attrs:{label:"是否锁定",prop:"isLockedName",width:"70"}}),a("el-table-column",{attrs:{label:"解锁时间",prop:"unlockDate","min-width":"120"}}),a("el-table-column",{attrs:{label:"最近登录时间",prop:"latestLoginTime","min-width":"120"}})],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doubleAuthorBtnClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleMenuUser},on:{click:e.singleAuthorBtnClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnMenuUser},on:{click:e.singleAuthorCancelBtnClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doubleAuthorCancelBtnClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formUser2",staticClass:"js-authorized-form",attrs:{model:e.formUser2,"label-width":"95px"}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权用户","label-width":"85px"}})],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户姓名",prop:"userName2","label-width":"70px"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formUser2.userName2,callback:function(t){e.$set(e.formUser2,"userName2",t)},expression:"formUser2.userName2"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户账号",prop:"userCode2","label-width":"70px"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formUser2.userCode2,callback:function(t){e.$set(e.formUser2,"userCode2",t)},expression:"formUser2.userCode2"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户类型",prop:"userType2","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser2.userType2,callback:function(t){e.$set(e.formUser2,"userType2",t)},expression:"formUser2.userType2"}},e._l(e.userTypeData2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否锁定",prop:"ifLocked2","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser2.ifLocked2,callback:function(t){e.$set(e.formUser2,"ifLocked2",t)},expression:"formUser2.ifLocked2"}},e._l(e.userifLockData2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:1,offset:1}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.menuUserSearchBtnClickDown}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"menuUserRef2",attrs:{data:e.organUserData2,border:"",height:e.organHeightDown,size:"mini","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange4}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{label:"用户姓名",prop:"userName","min-width":"80"}}),a("el-table-column",{attrs:{label:"用户账号",prop:"userCode"}}),a("el-table-column",{attrs:{label:"登录失败次数",prop:"failedlogintimes",width:"95"}}),e.show?a("el-table-column",{attrs:{label:"用户类型id",prop:"userType",width:"85px;"}}):e._e(),a("el-table-column",{attrs:{label:"用户类型",prop:"userTypeName","min-width":"100"}}),a("el-table-column",{attrs:{label:"密码有效期",prop:"passwdExp",width:"85"}}),e.show?a("el-table-column",{attrs:{label:"是否锁定id",prop:"isLocked"}}):e._e(),a("el-table-column",{attrs:{label:"是否锁定",prop:"isLockedName",width:"70"}}),a("el-table-column",{attrs:{label:"解锁时间",prop:"unlockDate",width:"120"}}),a("el-table-column",{attrs:{label:"最近登录时间",prop:"latestLoginTime","min-width":"120"}})],1)],1)],1)],1)],1)],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"选择功能组",visible:e.addFuncGroupVisible,width:"70%"},on:{"update:visible":function(t){e.addFuncGroupVisible=t}}},[a("el-form",{ref:"funcGroupForm",staticClass:"zw-authorized-form",attrs:{inline:!0,model:e.funcGroupForm}},[a("el-row",[a("el-col",{staticClass:"no-wrap",attrs:{span:6}},[a("el-form-item",{attrs:{label:"所属系统",prop:"sqsuoshuSystem"}},[a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},on:{change:e.getModuleList},model:{value:e.funcGroupForm.sqsuoshuSystem,callback:function(t){e.$set(e.funcGroupForm,"sqsuoshuSystem",t)},expression:"funcGroupForm.sqsuoshuSystem"}},e._l(e.optionsMenuData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{staticClass:"no-wrap",attrs:{span:6}},[a("el-form-item",{attrs:{label:"所属模块",prop:"sqsuoshuModule"}},[a("el-select",{staticStyle:{width:"60%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.funcGroupForm.sqsuoshuModule,callback:function(t){e.$set(e.funcGroupForm,"sqsuoshuModule",t)},expression:"funcGroupForm.sqsuoshuModule"}},e._l(e.optionsModuleData2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{staticClass:"no-wrap",attrs:{span:6}},[a("el-form-item",{attrs:{label:"功能组名称",prop:"funcGroupName"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{size:"mini"},model:{value:e.funcGroupForm.funcGroupName,callback:function(t){e.$set(e.funcGroupForm,"funcGroupName",t)},expression:"funcGroupForm.funcGroupName"}})],1)],1),a("el-col",{attrs:{span:2,offset:1}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.searchFuncGridData}},[e._v("查询")])],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.selectBtnClick}},[e._v("选择")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"refFuncGroupTable",attrs:{data:e.funcGroupTableDatas,"tooltip-effect":"dark",height:300,"row-class-name":"table-row-height",size:"mini",border:"","highlight-current-row":""},on:{"row-click":e.getRowDatas}},[e.show?a("el-table-column",{attrs:{type:"selection",width:"40"}}):e._e(),a("el-table-column",{attrs:{type:"index",width:"50",label:"序号",index:e.indexMethod}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"功能组id"}}):e._e(),a("el-table-column",{attrs:{prop:"funcGroupName",label:"功能组名称",width:"110"}}),a("el-table-column",{attrs:{prop:"funcGroupCode",label:"功能组编码",width:"190"}}),e.show?a("el-table-column",{attrs:{prop:"sysTypeId",label:"所属系统编码"}}):e._e(),a("el-table-column",{attrs:{prop:"sysName",label:"所属系统",width:"250"}}),e.show?a("el-table-column",{attrs:{prop:"moduleTypeId",label:"所属模块编码"}}):e._e(),a("el-table-column",{attrs:{prop:"moduleName",label:"所属模块"}}),a("el-table-column",{attrs:{prop:"funcGroupUrl",label:"对应首页URL",width:"130"}}),a("el-table-column",{attrs:{prop:"shiroTag",label:"shiro标签"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"175"}}),e.show?a("el-table-column",{attrs:{prop:"desc",label:"备注"}}):e._e()],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:23}},[a("el-pagination",{staticClass:"f-r m-10 center-box",attrs:{background:"",small:"","page-sizes":[10,20,50],"page-size":e.rows,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"current-change":e.currChange,"size-change":e.SizeChange}})],1)],1)],1)],1)],1)],1)},Xe=[],et={name:"cdgl",data:function(){var e=function(e,t,a){new RegExp("^[\\u4E00-\\u9FA5]+$");t&&Fe(t)?a():a(new Error("请填合法字符"))},t=function(e,t,a){new RegExp("^[\\u4E00-\\u9FA5]+$");t&&Fe(t)?a():a(new Error("请填合法字符"))},a=function(e,t,a){t&&_e(t)?a():a(new Error("请填合法字符"))};return{baseUrl:this.GLOBAL.baseUrl,tabIndex:0,treeHeight:window.innerHeight>657?window.innerHeight/2-150:180,organHeightUp:window.innerHeight>657?window.innerHeight/2-160:175,organHeightDown:window.innerHeight>657?window.innerHeight/2-155:175,userHeightUp:(window.innerHeight-400)/2,userHeightDown:(window.innerHeight-280)/2,issingleMenu:!0,issingleUnMenu:!0,issingleMenuUser:!0,issingleUnMenuUser:!0,isUpdate:!0,funcTableHeight:300,activeName:"first",activeName2:"first",show:!1,isInfoUpdate:!1,displayModeData:[],radio:1,downloadurl:this.baseUrl+"fweb-fileservice/fileext/",fileList1:[],fileList2:[],uploadFlag1:"",uploadFlag2:"",menuProps:{label:"menuName",children:"children"},orderByitemFrom:{id:"",beMenuSort:"",parentMenuId:""},funcGroupTableDatas:[],optionsMenuData:[],optionsModule:[],addFuncGroupVisible:!1,ssSystemShow:!0,formDisabled1:!0,formDisabled2:!0,isDisabled1:!1,isDisabled2:!1,isEditBtn1:"编 辑",isNewBtn1:"新 增",isEditBtn2:"编 辑",isNewBtn2:"新 增",btnFlag:"",formMenu:{menuName:"",menuCode:"",suoshuSystem:"",suoshuModule:"",menuIcon:"",desc:""},page:1,rows:10,totals:0,funcGroupForm:{sqsuoshuSystem:"",sqsuoshuModule:"",funcGroupName:""},optionsSystemDataOut:[],optionsModuleData2:[],formMenu2:{menuName2:"",menuCode2:"",showType:"",menuIcon2:"",funcGroup:"",desc2:""},formRole:{roleType1:"",roleName1:""},formRole2:{roleType2:"",roleName2:""},changeMenuRole1:[],changeMenuRole2:[],changeMenuUser1:[],changeMenuUser2:[],formUser:{userName1:"",userCode1:"",userType1:"",ifLocked1:""},dialogGridRowData:"",formUser2:{userName2:"",userCode2:"",userType2:"",ifLocked2:""},menuMuluRules:{menuName:[{required:!0,message:"请输入菜单名称",trigger:"blur"},{validator:a}],menuCode:[{required:!0,message:"请输入菜单编码",trigger:"blur"},{validator:e}],suoshuSystem:[{required:!0,message:"请选择系统名称",trigger:"blur"}],funcGroup:[{required:!0,message:"请输入模块名称",trigger:"blur"}]},formMenu2Rules:{menuName2:[{required:!0,message:"请输入菜单名称",trigger:"blur"},{validator:a}],menuCode2:[{required:!0,message:"请输入菜单编码",trigger:"blur"},{validator:t}],funcGroup:[{required:!0,message:"请输入功能组名称",trigger:"blur"}]},menuRoleData1:[],menuRoleData2:[],userTypeData1:[],userTypeData2:[],userifLockData1:[],userifLockData2:[],positionTypeData:[],positionTypeData2:[],organPositionData1:[],organuserType:[],organshifouLock1:[],organUserData1:[],organUserData2:[],organHistoryData:[]}},created:function(){this.loadSuoShuSystemOut(),this.loadShowType(),this.loadUserType(),this.loadIfLocked(),this.loadRoleTypeData()},mounted:function(){var e=this;R.$on("resize",function(t){var a=t.height;t.width;e.treeHeight=a>657?a/2-150:180,e.organHeightUp=a>657?a/2-160:175,e.organHeightDown=a>657?a/2-155:175}),window.addEventListener("resize",function(){e.loadWindowHeight()});this.formRole.roleType1,this.formRole.roleName1,this.formRole2.roleType2,this.formRole2.roleName2},methods:{loadWindowHeight:function(){this.organHeightUp=(window.innerHeight-375)/2,this.organHeightDown=(window.innerHeight-280)/2,this.userHeightUp=(window.innerHeight-400)/2,this.userHeightDown=(window.innerHeight-280)/2},handleSelectionChange1:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleMenu=!1:this.issingleMenu=!0,this.changeMenuRole1=t},handleSelectionChange2:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnMenu=!1:this.issingleUnMenu=!0,this.changeMenuRole2=t},handleSelectionChange3:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleMenuUser=!1:this.issingleMenuUser=!0,this.changeMenuUser1=t},handleSelectionChange4:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnMenuUser=!1:this.issingleUnMenuUser=!0,this.changeMenuUser2=t},renderContent:function(e,t,a){console.log(e),console.log(t),console.log(a)},uploadFile1:function(e){var t=this;console.log(e);var a=new FormData;a.append("file",e),console.log(a),M()({method:"post",url:this.baseUrl+"fweb-security/manage/file/uploadfile",data:a}).then(function(e){if("200"!=e.data.statusCode)return t.$message({type:"error",message:"菜单图标上传失败！"}),!1;t.uploadFlag1=e.data.result.path,console.log(e)}).catch(function(e){console.log(e)})},uploadFile2:function(e){var t=this;console.log(e);var a=new FormData;a.append("file",e),console.log(a),M()({method:"post",url:this.baseUrl+"fweb-security/manage/file/uploadfile",data:a}).then(function(e){if("200"!=e.data.statusCode)return t.$message({type:"error",message:"菜单图标上传失败！"}),!1;t.uploadFlag2=e.data.result.path,console.log(e)}).catch(function(e){console.log(e)})},radioChange:function(e){},searchFuncGridData:function(){this.loadFuncGridData()},handleDragStart:function(e,t){console.log(e),this.orderByitemFrom.id=e.data.id},handleDragEnd:function(e,t,a,s){console.log(e),console.log(t),this.orderByitemFrom.parentMenuId=t.data.id,this.orderByitemFrom.beMenuSort=t.data.menuSort,null!=a&&this.orderByitem()},orderByitem:function(){var e=this;M()({method:"post",url:this.baseUrl+"fweb-security/menu/orderbymenu",data:this.orderByitemFrom}).then(function(t){"200"===t.data.statusCode?e.$message({type:"success",message:t.data.message_}):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},selectBtnClick:function(){this.addFuncGroupVisible=!1,this.formMenu2.funcGroup=this.dialogGridRowData.funcGroupName,console.log(this.dialogGridRowData)},selectFuncGroupBtnClick:function(){this.addFuncGroupVisible=!0,this.loadSuoShuSystem(),this.loadFuncGridData()},getMenuList:function(e,t){if(void 0==e.data)return e["data"]={id:"0",menuName:"菜单根目录"},t([e.data]);M()({method:"get",url:this.baseUrl+"fweb-security/menu/querymenubyparent",params:{parentMenuId:e.data.id}}).then(function(e){var a=[];if(void 0==e.data.result||e.data.result==[]||"200"!=e.data.statusCode)return!1;e.data.result.data_.forEach(function(e){a.push(e)}),t(a)}).catch(function(e){t([])})},handleClick1:function(e,t){var a=this;this.tabIndex=~~e.index;var s=this.$refs.menutree.getCurrentNode();null!=s&&"0"!=s.id&&s.funcGroupId&&(0==s.funcGroupId.length||setTimeout(function(){a.activeName2="second"}))},handleNodeClick:function(e,t,a){if(console.log(t),this.$refs.formMenu.resetFields(),this.$refs.formMenu2.resetFields(),this.isNewBtn1="新 增",this.isEditBtn1="编 辑",this.formDisabled1=!0,this.setOrganFormData(),this.$refs.menutree.getCurrentNode().funcGroupId?this.activeName2="second":this.activeName2="first",""!=this.btnFlag&&this.btnFlag!=this.$refs.menutree.getCurrentNode().id&&(this.isNewBtn1="新 增",this.isEditBtn1="编 辑",this.formDisabled1=!0,this.isNewBtn2="新 增",this.isEditBtn2="编 辑",this.formDisabled2=!0),"0"==this.$refs.menutree.getCurrentNode().id)this.ssSystemShow=!0,this.menuRoleData1=[],this.menuRoleData2=[],this.organUserData1=[],this.organUserData2=[];else{this.ssSystemShow=!1;var s={authType:"0",menuId:this.$refs.menutree.getCurrentNode().id,roleType:this.formRole.roleType1,roleName:this.formRole.roleName1},r={authType:"1",menuId:this.$refs.menutree.getCurrentNode().id,roleType:this.formRole2.roleType2,roleName:this.formRole2.roleName2},o={authType:"0",menuId:this.$refs.menutree.getCurrentNode().id,userName:this.formUser.userName1,userCode:this.formUser.userCode1,userType:this.formUser.userType1,isLocked:this.formUser.ifLocked1},i={authType:"1",menuId:this.$refs.menutree.getCurrentNode().id,userName:this.formUser2.userName2,userCode:this.formUser2.userCode2,userType:this.formUser2.userType2,isLocked:this.formUser2.ifLocked2};this.loadMenuRoleGridDataUp(s),this.loadMenuRoleGridDataDown(r),this.loadMenuUserGridDataUp(o),this.loadMenuUserGridDataDown(i)}this.btnFlag=this.$refs.menutree.getCurrentNode().id},loadSuoShuSystem:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sorttype/queryall",params:{}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.optionsMenuData.push({value:t.data.result.data_[a].id,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadSuoShuSystemOut:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sorttype/queryall",params:{}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.optionsSystemDataOut.push({value:t.data.result.data_[a].id,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadShowType:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0006-01"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.displayModeData.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},getRowDatas:function(e){this.dialogGridRowData=e,console.log(this.dialogGridRowData)},getModuleList:function(e){var t=this;this.optionsModuleData2=[];var a=this.funcGroupForm.sqsuoshuSystem;M()({method:"get",url:this.baseUrl+"fweb-security/sortitem/queryitembyparent",params:{parentId:a}}).then(function(e){if(console.log(e),void 0!=e.data.result&&""!=e.data.result&&"200"==e.data.statusCode)for(var a=0;a<e.data.result.data_.length;a++)t.optionsModuleData2.push({value:e.data.result.data_[a].id,label:e.data.result.data_[a].name});else t.optionsModuleData2=[]}).catch(function(e){console.log(e)})},loadFuncGridData:function(){var e=this,t={sysTypeId:this.funcGroupForm.sqsuoshuSystem,moduleTypeId:this.funcGroupForm.sqsuoshuModule,funcGroupName:this.funcGroupForm.funcGroupName};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/func/queryinfobypages?page="+this.page+"&rows="+this.rows,data:t}).then(function(t){console.log(t),"200"==t.data.statusCode&&(e.funcGroupTableDatas=t.data.result.data_,e.dialogGridRowData=t.data.result.data_[0],e.totals=t.data.result.rowsCnt,e.$refs.refFuncGroupTable.setCurrentRow(t.data.result.data_[0])),console.log(t)}).catch(function(e){console.log(e)})},indexMethod:function(e){return 10*(this.page-1)+(e+1)},SizeChange:function(e){this.rows=e,this.loadFuncGridData()},currChange:function(e){this.page=e,this.loadFuncGridData()},handleRemove:function(e,t){console.log(e,t),console.log(e.name),M()({method:"get",url:this.baseUrl+"fweb-security/manage/file/deletefile?path=",params:{file:e.name}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},findIndex:function(e,t){for(var a=0;a<e.length;a++)if(e[a].key===t)return a},removeInfo:function(e,t){var a=this;console.log(e),console.log(t),this.$confirm("确认删除这条记录吗？","删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(s){console.log(s),M()({method:"delete",url:a.baseUrl+"fweb-security/menu/deletemenu",params:{id:a.$refs.menutree.getCurrentNode().id}}).then(function(s){if(console.log(s),"200"==s.data.statusCode){a.$message({type:"success",message:s.data.message_});var r=e.parent,o=r.childNodes,i=a.findIndex(e.parent.childNodes,t.id);o.splice(i,1),a.menuRoleData1=[],a.menuRoleData2=[],a.organUserData1=[],a.organUserData2=[]}else a.$message({type:"error",message:s.data.message_})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},handlePreview:function(e){console.log(e)},handleRemove2:function(e,t){console.log(e,t),M()({method:"get",url:this.baseUrl+"fweb-security/manage/file/deletefile?path=",params:{file:e.name}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},handlePreview2:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},loadMenuRoleGridDataUp:function(e){var t=this;M()({method:"get",url:this.baseUrl+"fweb-security/menu/queryrolemenumapping",params:e}).then(function(e){t.menuRoleData1=e.data.result.data_}).catch(function(e){console.log(e)})},loadMenuRoleGridDataDown:function(e){var t=this;M()({method:"get",url:this.baseUrl+"fweb-security/menu/queryrolemenumapping",params:e}).then(function(e){t.menuRoleData2=e.data.result.data_}).catch(function(e){console.log(e)})},loadMenuUserGridDataUp:function(e){var t=this;M()({method:"get",url:this.baseUrl+"fweb-security/menu/queryusermenumapping",params:e}).then(function(e){t.organUserData1=e.data.result.data_}).catch(function(e){console.log(e)})},loadMenuUserGridDataDown:function(e){var t=this;M()({method:"get",url:this.baseUrl+"fweb-security/menu/queryusermenumapping",params:e}).then(function(e){t.organUserData2=e.data.result.data_}).catch(function(e){console.log(e)})},menuRoleSearchBtnClickUp:function(){if(!this.$refs.menutree.getCurrentNode())return this.$message({type:"error",message:"请选择一条菜单树数据进行操作"}),!1;if("0"==this.$refs.menutree.getCurrentNode().id)return this.$message({type:"error",message:"请选择一条非根节点菜单数据进行操作"}),!1;var e={authType:"0",menuId:this.$refs.menutree.getCurrentNode().id,roleType:this.formRole.roleType1,roleName:this.formRole.roleName1};this.loadMenuRoleGridDataUp(e)},menuRoleSearchBtnClickDown:function(){if(!this.$refs.menutree.getCurrentNode())return this.$message({type:"error",message:"请选择一条菜单树数据进行操作"}),!1;if("0"==this.$refs.menutree.getCurrentNode().id)return this.$message({type:"error",message:"请选择一条非跟根节点菜单数据进行操作"}),!1;var e={authType:"1",menuId:this.$refs.menutree.getCurrentNode().id,roleType:this.formRole2.roleType2,roleName:this.formRole2.roleName2};this.loadMenuRoleGridDataDown(e)},menuUserSearchBtnClickUp:function(){if(!this.$refs.menutree.getCurrentNode())return this.$message({type:"error",message:"请选择一条菜单树数据进行操作"}),!1;if("0"==this.$refs.menutree.getCurrentNode().id)return this.$message({type:"error",message:"请选择一条非跟节点菜单数据进行操作"}),!1;var e={authType:"0",menuId:this.$refs.menutree.getCurrentNode().id,userName:this.formUser.userName1,userCode:this.formUser.userCode1,userType:this.formUser.userType1,isLocked:this.formUser.ifLocked1};this.loadMenuUserGridDataUp(e)},menuUserSearchBtnClickDown:function(){if(!this.$refs.menutree.getCurrentNode())return this.$message({type:"error",message:"请选择一条菜单树数据进行操作"}),!1;if("0"==this.$refs.menutree.getCurrentNode().id)return this.$message({type:"error",message:"请选择一条非跟节点菜单数据进行操作"}),!1;var e={authType:"1",menuId:this.$refs.menutree.getCurrentNode().id,userName:this.formUser2.userName2,userCode:this.formUser2.userCode2,userType:this.formUser2.userType2,isLocked:this.formUser2.ifLocked2};this.loadMenuUserGridDataDown(e)},loadUserType:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0001-01"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.userTypeData1.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name}),e.userTypeData2.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadIfLocked:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0001-04"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.userifLockData1.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name}),e.userifLockData2.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},addForm1:function(e){var t=this;"新 增"==this.isNewBtn1?(this.$refs[e].resetFields(),console.log(this.$refs.menutree.getCurrentNode()),null==this.$refs.menutree.getCurrentNode()?this.$message({message:"请选择一个节点再操作",type:"error"}):(this.isNewBtn1="保 存",this.isEditBtn1="取 消",this.fileList1=[],this.formDisabled1=!1)):"保 存"==this.isNewBtn1?this.$refs.formMenu.validate(function(e){e&&(t.getAddMenuMulu(),t.isNewBtn1="新 增",t.isEditBtn1="编 辑",t.formDisabled1=!0)}):this.getUpdateMenuMulu()},getAddMenuMulu:function(){var e=this;console.log(this.$refs.menutree.getCurrentNode());var t={menuCode:this.formMenu.menuCode,menuName:this.formMenu.menuName,iconUrl:this.formMenu.menuIcon,status:"",menuSort:"",desc:this.formMenu.desc,funcGroupId:""};null!=this.$refs.menutree.getCurrentNode()&&"0"!=this.$refs.menutree.getCurrentNode().id?(t.parentMenuId=this.$refs.menutree.getCurrentNode().id,t.sysTypeId=""):(t.parentMenuId="0",t.sysTypeId=this.formMenu.suoshuSystem),console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/menu/insertmenu",data:t}).then(function(a){console.log(a),"200"==a.data.statusCode?(e.$message({showClose:!0,message:a.data.message_,type:"success"}),t.id=a.data.id,e.append(e.$refs.menutree.getCurrentNode(),t),e.$refs.menutree.store.nodesMap[e.$refs.menutree.getCurrentNode().id].expanded=!0):e.$message({showClose:!0,message:a.data.message_,type:"error"})}).catch(function(e){console.log(e)})},renderTree:function(){this.treeKey=+new Date},append:function(e,t){var a=this.$refs.menutree.getNode(e.id);console.log(a),this.$refs.menutree.append(t,a)},changeForm1:function(e){console.log(e),"编 辑"==this.isEditBtn1?null==this.$refs.menutree.getCurrentNode()?this.$message({message:"请选择一个节点再操作",type:"error"}):(this.isNewBtn1="修 改",this.isEditBtn1="取 消",this.formDisabled1=!1):(console.log(this.$refs.menutree.getCurrentNode()),null==this.$refs.menutree.getCurrentNode()||"0"==this.$refs.menutree.getCurrentNode().id?(this.$refs[e].resetFields(),this.isNewBtn1="新 增",this.isEditBtn1="编 辑",this.fileList1=[],this.formDisabled1=!0):(console.log(this.$refs.menutree.getCurrentNode()),this.setOrganFormData(),this.isNewBtn1="新 增",this.isEditBtn1="编 辑",this.formDisabled1=!0))},getUpdateMenuMulu:function(){var e=this;if(console.log(this.$refs.menutree.getCurrentNode()),null!=this.$refs.menutree.getCurrentNode()){if("0"==this.$refs.menutree.getCurrentNode().id)return this.$message({type:"error",message:"请选择一条非根节点数据！"}),!1;this.$refs.formMenu.validate(function(t){if(t){var a={id:e.$refs.menutree.getCurrentNode().id,menuCode:e.formMenu.menuCode,menuName:e.formMenu.menuName,sysTypeId:e.formMenu.suoshuSystem,iconUrl:e.formMenu.menuIcon,status:"",menuSort:"",parentMenuId:"0",desc:e.formMenu.desc,funcGroupId:""};console.log(a),M()({method:"put",url:e.baseUrl+"fweb-security/menu/updatemenu",data:a}).then(function(t){console.log(t),"200"==t.data.statusCode&&(console.log(e.$refs.menutree.getCurrentNode()),console.log(e.formMenu.menuName),e.$refs.menutree.getCurrentNode().menuName=e.formMenu.menuName,e.$refs.menutree.getCurrentNode().menuCode=e.formMenu.menuCode,e.$refs.formMenu.resetFields(),e.$message({showClose:!0,message:t.data.message_,type:"success"}))}).catch(function(e){console.log(e)}),e.fileList1=[],e.isNewBtn1="新 增",e.isEditBtn1="编 辑",e.formDisabled1=!0}})}else this.isNewBtn1="新 增",this.isEditBtn1="编 辑",this.formDisabled1=!0},addForm2:function(e){var t=this;"新 增"==this.isNewBtn2?(this.$refs.formMenu2.resetFields(),null==this.$refs.menutree.getCurrentNode()?this.$message({message:"请选择一个节点再操作",type:"error"}):(this.fileList2=[],this.isNewBtn2="保 存",this.isEditBtn2="取 消",this.formDisabled2=!1)):"保 存"==this.isNewBtn2?this.$refs.formMenu2.validate(function(e){if(!e)return!1;t.getAddMenu(),t.isNewBtn2="新 增",t.isEditBtn2="编 辑",t.formDisabled2=!0}):this.getUpdateMenu()},getAddMenu:function(){var e=this;console.log(this.$refs.menutree.getCurrentNode());var t={menuCode:this.formMenu2.menuCode2,menuName:this.formMenu2.menuName2,sysTypeId:"",iconUrl:this.formMenu2.menuIcon2,displayMethod:""==this.formMenu2.showType?null:this.formMenu2.showType,status:"",menuSort:"",desc:this.formMenu2.desc2,funcGroupId:this.dialogGridRowData.id};this.$refs.menutree.getCurrentNode()&&("0"!=this.$refs.menutree.getCurrentNode().id?t.parentMenuId=this.$refs.menutree.getCurrentNode().id:t.parentMenuId="0");this.$refs.menutree.getCurrentNode();console.log(t),null==this.$refs.menutree.getCurrentNode()?this.$message({message:"请选择一个节点再操作！",type:"error"}):M()({method:"post",url:this.baseUrl+"fweb-security/menu/insertmenu",data:t}).then(function(t){"200"==t.data.statusCode&&(e.$message({showClose:!0,message:t.data.message_,type:"success"}),e.isUpdate=!1,e.$nextTick(function(t){e.isUpdate=!0})),console.log(t)}).catch(function(e){console.log(e)})},changeForm2:function(e){console.log(e),"编 辑"==this.isEditBtn2?null==this.$refs.menutree.getCurrentNode()?this.$message({message:"请选择一个节点再操作",type:"error"}):(this.isNewBtn2="修 改",this.isEditBtn2="取 消",this.formDisabled2=!1):null==this.$refs.menutree.getCurrentNode()||"0"==this.$refs.menutree.getCurrentNode().id?(this.$refs[e].resetFields(),this.isNewBtn2="新 增",this.isEditBtn2="编 辑",this.fileList2=[],this.formDisabled2=!0):(this.setOrganFormData(),this.isNewBtn2="新 增",this.isEditBtn2="编 辑",this.formDisabled2=!0)},getUpdateMenu:function(){var e=this;if(console.log(this.$refs.menutree.getCurrentNode()),null!=this.$refs.menutree.getCurrentNode()){if("0"==this.$refs.menutree.getCurrentNode().id)return this.$message({type:"error",message:"请选择一条非根节点数据进行操作！"}),!1;this.$refs.formMenu2.validate(function(t){if(t){var a={id:e.$refs.menutree.getCurrentNode().id,menuCode:e.formMenu2.menuCode2,menuName:e.formMenu2.menuName2,sysTypeId:"",iconUrl:e.formMenu2.menuIcon2,displayMethod:null==e.formMenu2.showType?"":e.formMenu2.showType,status:"",menuSort:"",parentMenuId:e.$refs.menutree.getCurrentNode().parentMenuId,desc:e.formMenu2.desc2,funcGroupId:e.dialogGridRowData.id};e.fileList2=[],e.isNewBtn2="新 增",e.isEditBtn2="编 辑",e.formDisabled2=!0,console.log(a),M()({method:"put",url:e.baseUrl+"fweb-security/menu/updatemenu",data:a}).then(function(t){"200"==t.data.statusCode&&(e.$message({showClose:!0,message:t.data.message_,type:"success"}),e.$refs.menutree.getCurrentNode().menuName=e.formMenu2.menuName2),console.log(t)}).catch(function(e){console.log(e)})}})}},loadRoleTypeData:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0002-01"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.positionTypeData.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name}),e.positionTypeData2.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},doubleRoleBtnClick:function(){var e=this;this.$refs.menuRoleRef1.toggleAllSelection(),this.$confirm("确认全部授权这些角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){if(!e.$refs.menutree.getCurrentNode())return e.$message({type:"error",message:"请至少选择一条菜单记录操作"}),!1;if("0"==e.$refs.menutree.getCurrentNode().id)return e.$message({type:"error",message:"请选择一条非根节点菜单记录操作"}),!1;var a=e.$refs.menutree.getCurrentNode().id;e.doubleMenuFunction(a)}).catch(function(e){console.log(e)})},doubleMenuFunction:function(e){var t=this;if(0==this.changeMenuRole1.length)return this.$message({type:"error",message:"没有未授权角色记录可以操作"}),!1;var a={roleIds:this.changeMenuRole1,menuIds:[e],authType:"1",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenu",data:a}).then(function(e){"200"==e.data.statusCode&&(t.$message({message:"全部角色授权成功！",type:"success"}),t.menuRoleSearchBtnClickUp(),t.menuRoleSearchBtnClickDown())}).catch(function(e){console.log(e)})},singleRoleBtnClick:function(){var e=this;this.$confirm("确认授权该角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getRoleSingle()}).catch(function(e){console.log(e)})},getRoleSingle:function(){var e=this;if(0==this.changeMenuRole1.length)return this.$message({type:"error",message:"没有未授权角色数据可以操作"}),!1;if(!this.$refs.menutree.getCurrentNode())return this.$message({type:"error",message:"请选择一条菜单树记录"}),!1;if("0"==this.$refs.menutree.getCurrentNode().id)return this.$message({type:"error",message:"请选择一条非根节点菜单树记录"}),!1;var t={roleIds:this.changeMenuRole1,menuIds:[this.$refs.menutree.getCurrentNode().id],authType:"1",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenu",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"角色授权成功",type:"success"}),e.menuRoleSearchBtnClickUp(),e.menuRoleSearchBtnClickDown()):e.$message({message:"角色授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleRoleCancelBtnClick:function(){var e=this;this.$confirm("确认取消授权该角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getRoleCancelSingle()}).catch(function(e){console.log(e)})},getRoleCancelSingle:function(){var e=this;if(0==this.changeMenuRole2.length)return this.$message({type:"error",message:"没有未授权角色记录可以操作"}),!1;if(!this.$refs.menutree.getCurrentNode())return this.$message({type:"error",message:"请选择一条菜单树记录"}),!1;if("0"==this.$refs.menutree.getCurrentNode().id)return this.$message({type:"error",message:"请选择一条非根节点菜单树记录"}),!1;var t={roleIds:this.changeMenuRole2,menuIds:[this.$refs.menutree.getCurrentNode().id],authType:"0",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenu",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"角色取消授权成功",type:"success"}),e.menuRoleSearchBtnClickUp(),e.menuRoleSearchBtnClickDown()):e.$message({message:"角色取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleRoleCancelBtnClick:function(){var e=this;this.$refs.menuRoleRef2.toggleAllSelection(),this.$confirm("确认全部取消授权这些角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){if(!e.$refs.menutree.getCurrentNode())return e.$message({type:"error",message:"请至少选择一条菜单记录操作"}),!1;if("0"==e.$refs.menutree.getCurrentNode().id)return e.$message({type:"error",message:"请选择一条非根节点菜单记录操作"}),!1;var a=e.$refs.menutree.getCurrentNode().id;e.doubleCancelMenuFunction(a)}).catch(function(e){console.log(e)})},doubleCancelMenuFunction:function(e){var t=this;if(0==this.changeMenuRole2.length)return this.$message({type:"error",message:"没有已授权角色记录可以操作"}),!1;var a={roleIds:this.changeMenuRole2,menuIds:[e],authType:"0",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenu",data:a}).then(function(e){"200"==e.data.statusCode?(t.$message({message:"全部角色取消授权成功！",type:"success"}),t.menuRoleSearchBtnClickUp(),t.menuRoleSearchBtnClickDown()):t.$message({message:"全部角色取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleAuthorBtnClick:function(){var e=this;this.$refs.menuUserRef1.clearSelection(),this.$refs.menuUserRef1.toggleAllSelection(),this.$confirm("确认全部授权这些用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){if(!e.$refs.menutree.getCurrentNode())return e.$message({type:"error",message:"请至少选择一条菜单记录操作"}),!1;if("0"==e.$refs.menutree.getCurrentNode().id)return e.$message({type:"error",message:"请选择一条非根节点菜单记录操作"}),!1;var a=e.$refs.menutree.getCurrentNode().id;e.doubleMenuUserFunction(a)}).catch(function(e){console.log(e)})},doubleMenuUserFunction:function(e){var t=this;if(0==this.changeMenuUser1.length)return this.$message({type:"error",message:"没有未授权用户记录可以操作"}),!1;var a={userIds:this.changeMenuUser1,menuIds:[e],authType:"1",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenu",data:a}).then(function(e){"200"==e.data.statusCode?(t.$message({message:"全部用户授权成功",type:"success"}),t.menuUserSearchBtnClickUp(),t.menuUserSearchBtnClickDown()):t.$message({message:"全部用户授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleAuthorBtnClick:function(){var e=this;this.$confirm("确认授权该用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getUserSingle()}).catch(function(e){console.log(e)})},getUserSingle:function(){var e=this;if(0==this.changeMenuUser1.length)return this.$message({type:"error",message:"没有未授权用户数据可以操作"}),!1;if(!this.$refs.menutree.getCurrentNode())return this.$message({type:"error",message:"请至少选择一条菜单树记录"}),!1;if("0"==this.$refs.menutree.getCurrentNode().id)return this.$message({type:"error",message:"请选择一条非根节点菜单树记录"}),!1;var t={userIds:this.changeMenuUser1,menuIds:[this.$refs.menutree.getCurrentNode().id],authType:"1",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenu",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"用户授权成功",type:"success"}),e.menuUserSearchBtnClickUp(),e.menuUserSearchBtnClickDown()):e.$message({message:"用户授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleAuthorCancelBtnClick:function(){var e=this;this.$confirm("确认取消授权该用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getUserCancelSingle()}).catch(function(e){console.log(e)})},getUserCancelSingle:function(){var e=this;if(0==this.changeMenuUser2.length)return this.$message({type:"error",message:"没有未授权用户记录可以操作"}),!1;if(!this.$refs.menutree.getCurrentNode())return this.$message({type:"error",message:"请至少选择一条菜单树记录"}),!1;if("0"==this.$refs.menutree.getCurrentNode().id)return this.$message({type:"error",message:"请选择一条非根节点菜单树记录"}),!1;var t={userIds:this.changeMenuUser2,menuIds:[this.$refs.menutree.getCurrentNode().id],authType:"0",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenu",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"用户取消授权成功",type:"success"}),e.menuUserSearchBtnClickUp(),e.menuUserSearchBtnClickDown()):e.$message({message:"用户取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleAuthorCancelBtnClick:function(){var e=this;this.$refs.menuUserRef2.toggleAllSelection(),this.$confirm("确认全部取消授权这些用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){if(!e.$refs.menutree.getCurrentNode())return e.$message({type:"error",message:"请至少选择一条菜单记录操作"}),!1;if("0"==e.$refs.menutree.getCurrentNode().id)return e.$message({type:"error",message:"请选择一条非根节点菜单记录操作"}),!1;var a=e.$refs.menutree.getCurrentNode().id;e.doubleMenuUserCancelFunction(a)}).catch(function(e){console.log(e)})},doubleMenuUserCancelFunction:function(){var e=this;if(0==this.changeMenuUser2.length)return this.$message({type:"error",message:"没有未授权用户记录可以操作"}),!1;var t={userIds:this.changeMenuUser2,menuIds:[this.$refs.menutree.getCurrentNode().id],authType:"0",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authusermenu",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"全部用户取消授权成功",type:"success"}),e.menuUserSearchBtnClickUp(),e.menuUserSearchBtnClickDown()):e.$message({message:"全部用户取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},setOrganFormData:function(){console.log(this.$refs.menutree.getCurrentNode()),"0"!=this.$refs.menutree.getCurrentNode().id?this.$refs.menutree.getCurrentNode().funcGroupId?(this.formMenu2.menuName2=this.$refs.menutree.getCurrentNode().menuName,this.formMenu2.menuCode2=this.$refs.menutree.getCurrentNode().menuCode,this.formMenu2.suoshuSystem=this.$refs.menutree.getCurrentNode().suoshuSystem,this.formMenu2.desc2=this.$refs.menutree.getCurrentNode().desc,this.formMenu2.menuIcon2=this.$refs.menutree.getCurrentNode().iconUrl,null==this.$refs.menutree.getCurrentNode().displayMethod?this.formMenu2.showType="":this.formMenu2.showType=String(this.$refs.menutree.getCurrentNode().displayMethod),this.formMenu2.funcGroup=this.$refs.menutree.getCurrentNode().funcGroupName,console.log(Object(ne["a"])(this.$refs.menutree.getCurrentNode().funcGroupId))):(this.formMenu.menuName=this.$refs.menutree.getCurrentNode().menuName,this.formMenu.menuCode=this.$refs.menutree.getCurrentNode().menuCode,this.formMenu.suoshuSystem=this.$refs.menutree.getCurrentNode().suoshuSystem,this.formMenu.desc=this.$refs.menutree.getCurrentNode().desc,this.formMenu.menuIcon=this.$refs.menutree.getCurrentNode().iconUrl):(this.formMenu.menuName="",this.formMenu.menuCode="",this.fileList1=[])},handleClick2:function(e,t){var a=this.$refs.menutree.getCurrentNode();if("0"!=a.id){var s=t.target.getAttribute("id");if("tab-first"==s){var r={authType:"0",menuId:this.$refs.menutree.getCurrentNode().id,roleType:this.formRole.roleType1,roleName:this.formRole.roleName1},o={authType:"1",menuId:this.$refs.menutree.getCurrentNode().id,roleType:this.formRole2.roleType2,roleName:this.formRole2.roleName2};this.loadMenuRoleGridDataUp(r),this.loadMenuRoleGridDataDown(o)}else if("tab-second"==s){var i={authType:"0",menuId:this.$refs.menutree.getCurrentNode().id,userName:this.formUser.userName1,userCode:this.formUser.userCode1,userType:this.formUser.userType1,isLocked:this.formUser.ifLocked1},n={authType:"1",menuId:this.$refs.menutree.getCurrentNode().id,userName:this.formUser2.userName2,userCode:this.formUser2.userCode2,userType:this.formUser2.userType2,isLocked:this.formUser2.ifLocked2};this.loadMenuUserGridDataUp(i),this.loadMenuUserGridDataDown(n)}}}}},tt=et,at=(a("acd2"),Object(l["a"])(tt,Qe,Xe,!1,null,"f4a57762",null)),st=at.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"h-100",attrs:{gutter:5}},[a("el-col",{staticClass:"h-100",attrs:{span:6}},[a("el-card",{staticClass:"h-95"},[a("el-form",{ref:"roleForm",staticClass:"zw-unauthor-form",staticStyle:{"padding-top":"3px"},attrs:{model:e.roleForm}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"角色列表",prop:"roleName","label-width":"70px"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"角色名称",size:"mini",clearable:""},model:{value:e.roleForm.roleName,callback:function(t){e.$set(e.roleForm,"roleName",t)},expression:"roleForm.roleName"}})],1)],1),a("el-col",{attrs:{span:2,pull:3}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.roleSearchBtnClick}},[e._v("查 询")])],1)],1)],1)],1),a("el-table",{ref:"refRoleData",staticClass:"table-row-height",staticStyle:{"margin-bottom":"5px"},attrs:{data:e.roleData,border:"",height:e.tableHeight1,size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange,"row-click":e.selectClick,"selection-change":e.getRowDatas}},[e.show?a("el-table-column",{attrs:{label:"id",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName"}}),a("el-table-column",{attrs:{label:"角色编码",prop:"roleCode",width:"70"}}),e.show?a("el-table-column",{attrs:{label:"角色类型字典",prop:"roleType","show-overflow-tooltip":!0}}):e._e(),a("el-table-column",{attrs:{label:"角色类型",prop:"roleTypeName"}}),e.show?a("el-table-column",{attrs:{label:"更新时间",prop:"updateTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"备注",prop:"desc"}}):e._e(),a("el-table-column",{attrs:{label:"操作",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"cursor"},[a("i",{staticClass:"el-icon-delete",attrs:{title:"删除"},on:{click:function(a){return e.delRoleData(t.$index,t.row)}}})])]}}])})],1),a("hr",{staticStyle:{"border-top":"none","border-bottom":"1px dashed #ccc"}}),a("el-col",{staticStyle:{"margin-top":"3px"},attrs:{span:24}},[a("el-form",{ref:"roleFormAdd",staticClass:"form-item-add-18",attrs:{"label-width":"80px",model:e.roleFormAdd,disabled:e.formDisabled,rules:e.roleFormAddRule}},[a("p",{staticClass:"fs-14 fw-b",staticStyle:{"margin-bottom":"3px","padding-top":"5px"}},[e._v("角色新增、修改、详情")]),a("el-form-item",{attrs:{label:"角色名称",prop:"roleNameAdd"}},[a("el-input",{attrs:{placeholder:"角色名称",size:"mini"},model:{value:e.roleFormAdd.roleNameAdd,callback:function(t){e.$set(e.roleFormAdd,"roleNameAdd",t)},expression:"roleFormAdd.roleNameAdd"}})],1),a("el-form-item",{attrs:{label:"角色编码",prop:"roleCodeAdd"}},[a("el-input",{attrs:{placeholder:"角色编码",size:"mini"},model:{value:e.roleFormAdd.roleCodeAdd,callback:function(t){e.$set(e.roleFormAdd,"roleCodeAdd",t)},expression:"roleFormAdd.roleCodeAdd"}})],1),a("el-form-item",{attrs:{label:"角色类型",prop:"roleTypeAdd"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.roleFormAdd.roleTypeAdd,callback:function(t){e.$set(e.roleFormAdd,"roleTypeAdd",t)},expression:"roleFormAdd.roleTypeAdd"}},e._l(e.roleTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"roleDescAdd"}},[a("el-input",{attrs:{type:"textarea",rows:2,size:"mini"},model:{value:e.roleFormAdd.roleDescAdd,callback:function(t){e.$set(e.roleFormAdd,"roleDescAdd",t)},expression:"roleFormAdd.roleDescAdd"}})],1)],1),a("div",{staticClass:"ta-c"},[a("el-button",{staticStyle:{"margin-top":"3px"},attrs:{type:"success",size:"mini",disabled:e.isDisabled},on:{click:function(t){return e.addForm("roleFormAdd")}}},[e._v(e._s(e.isNewBtn))]),a("el-button",{staticStyle:{"margin-top":"3px"},attrs:{type:"primary",size:"mini",disabled:e.isDisabled},on:{click:function(t){return e.changeForm("roleFormAdd")}}},[e._v(e._s(e.isEditBtn))])],1)],1)],1)],1),a("el-col",{staticClass:"h-100",attrs:{span:18}},[a("el-card",{staticClass:"h-95"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"授权菜单",name:"first"}},[a("div",{staticClass:"pane-border"},[a("el-form",{staticClass:"js-unauthor-form",attrs:{inline:!0}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权菜单","label-width":"90px"}})],1),a("el-row",[a("el-col",{staticStyle:{padding:"0px 5px 0px 0px"},attrs:{span:6}},[a("div",{staticClass:"tree-scroll",staticStyle:{border:"1px solid #EBEEF5"},style:{height:e.noHeight+12+"px"}},[e.isUpdate?a("el-tree",{ref:"treeMenu",attrs:{props:e.menuTreeProps,"node-key":"id",draggable:"","highlight-current":"",load:e.getOrgListMenuTree,"expand-on-click-node":!1,lazy:"",data:e.menuTreeData},on:{"node-click":e.handleNodeBtnClick}}):e._e()],1)]),a("el-col",{attrs:{span:18}},[a("el-table",{ref:"roleMenuRef1",staticClass:"table-row-height",attrs:{data:e.roleMenuData,border:"",height:e.noHeight+12,size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChangeMenu1}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"主键id",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"菜单名称",prop:"menuName"}}),a("el-table-column",{attrs:{label:"菜单编码",prop:"menuCode"}}),a("el-table-column",{attrs:{label:"所属模块",prop:"moduleName"}}),a("el-table-column",{attrs:{label:"菜单URL",prop:"funcGroupUrl"}}),e.show?a("el-table-column",{attrs:{label:"系统id",prop:"sysId"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"菜单图标URL",prop:"iconUrl"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"shiro标签",prop:"shiroTag"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"父菜单id",prop:"parentMenuId"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"显示方式",prop:"displayMethod"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"菜单排序",prop:"menuSort"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"功能组id",prop:"funcGroupId"}}):e._e()],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doubleMenuBtnClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleRoleMenu},on:{click:e.singleMenuBtnClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnRoleMenu},on:{click:e.singleMenuCancelBtnClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doubleMenuCancelBtnClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-row",[a("el-form",{ref:"formMenu",staticClass:"js-authorized-form",attrs:{model:e.formMenu}},[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权菜单","label-width":"85px"}})],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"所属系统",prop:"suoshuSystem","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},on:{change:function(t){return e.getModuleList()}},model:{value:e.formMenu.suoshuSystem,callback:function(t){e.$set(e.formMenu,"suoshuSystem",t)},expression:"formMenu.suoshuSystem"}},e._l(e.optionsSystemData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"所属模块",prop:"suoshuModule","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formMenu.suoshuModule,callback:function(t){e.$set(e.formMenu,"suoshuModule",t)},expression:"formMenu.suoshuModule"}},e._l(e.optionsModuleData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"菜单名称",prop:"menuName","label-width":"70px"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formMenu.menuName,callback:function(t){e.$set(e.formMenu,"menuName",t)},expression:"formMenu.menuName"}})],1)],1),a("el-col",{attrs:{span:2,offset:1}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.roleShouquanMenuSearch()}}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"roleMenuRef2",staticClass:"table-row-height",attrs:{data:e.roleMenuData2,border:"",height:e.roleMenuTableHeightDown+12,size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChangeMenu2}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"主键id",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"菜单名称",prop:"menuName"}}),a("el-table-column",{attrs:{label:"菜单编码",prop:"menuCode"}}),a("el-table-column",{attrs:{label:"所属模块",prop:"moduleName"}}),a("el-table-column",{attrs:{label:"菜单URL",prop:"funcGroupUrl"}}),e.show?a("el-table-column",{attrs:{label:"系统id",prop:"sysId"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"菜单图标URL",prop:"iconUrl"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"shiro标签",prop:"shiroTag"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"父菜单id",prop:"parentMenuId"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"显示方式",prop:"displayMethod"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"菜单排序",prop:"menuSort"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"功能组id",prop:"funcGroupId"}}):e._e()],1)],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"授权用户",name:"second"}},[a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formUser",staticClass:"js-unauthor-form",attrs:{model:e.formUser}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权用户","label-width":"85px"}})],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户姓名","label-width":"70px",prop:"userName"}},[a("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.formUser.userName,callback:function(t){e.$set(e.formUser,"userName",t)},expression:"formUser.userName"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户账号","label-width":"70px",prop:"userAccount"}},[a("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.formUser.userAccount,callback:function(t){e.$set(e.formUser,"userAccount",t)},expression:"formUser.userAccount"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户类型","label-width":"70px",prop:"userType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser.userType,callback:function(t){e.$set(e.formUser,"userType",t)},expression:"formUser.userType"}},e._l(e.optionuserTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否锁定","label-width":"70px",prop:"shifouLock"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser.shifouLock,callback:function(t){e.$set(e.formUser,"shifouLock",t)},expression:"formUser.shifouLock"}},e._l(e.optionshifouLockData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:3,push:1}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.roleshouquanUserSearchBtnClick()}}},[e._v("查询")])],1)],1)],1)],1),a("el-table",{ref:"roleUserRef1",staticClass:"table-row-height",attrs:{data:e.roleUserData1,border:"",height:e.noHeight,size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChangeUser}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"用户id",prop:"userId"}}):e._e(),a("el-table-column",{attrs:{label:"用户姓名",prop:"userName",width:"70"}}),a("el-table-column",{attrs:{label:"用户账号",prop:"userCode"}}),a("el-table-column",{attrs:{label:"登录失败次数",prop:"failedLoginTimes",width:"95"}}),e.show?a("el-table-column",{attrs:{label:"用户类型id",prop:"userType"}}):e._e(),a("el-table-column",{attrs:{label:"用户类型",prop:"userTypeName","min-width":"100"}}),a("el-table-column",{attrs:{label:"密码有效期",prop:"passwdExp",width:"85"}}),e.show?a("el-table-column",{attrs:{label:"是否锁定id",prop:"isLocked"}}):e._e(),a("el-table-column",{attrs:{label:"是否锁定",prop:"isLockedName",width:"70"}}),a("el-table-column",{attrs:{label:"解锁时间",prop:"unlockDate","min-width":"120"}}),a("el-table-column",{attrs:{label:"最近登录时间",prop:"latestLoginTime","min-width":"120"}})],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doubleUserClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleRoleUser},on:{click:e.singleUserClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnRoleUser},on:{click:e.singleUserCancelClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doubleUserCancelClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formUser2",staticClass:"js-authorized-form",attrs:{model:e.formUser2}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权用户","label-width":"85px"}})],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户姓名","label-width":"70px",prop:"userName2"}},[a("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.formUser2.userName2,callback:function(t){e.$set(e.formUser2,"userName2",t)},expression:"formUser2.userName2"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户账号","label-width":"70px",prop:"userAccount2"}},[a("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.formUser2.userAccount2,callback:function(t){e.$set(e.formUser2,"userAccount2",t)},expression:"formUser2.userAccount2"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用户类型","label-width":"70px",prop:"userType2"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser2.userType2,callback:function(t){e.$set(e.formUser2,"userType2",t)},expression:"formUser2.userType2"}},e._l(e.optionuserType2Data,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"是否锁定","label-width":"70px",prop:"shifouLock2"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"全部"},model:{value:e.formUser2.shifouLock2,callback:function(t){e.$set(e.formUser2,"shifouLock2",t)},expression:"formUser2.shifouLock2"}},e._l(e.optionshifouLock2Data,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:3,push:1}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.roleshouquanUserSearchBtnClick2()}}},[e._v("查 询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"roleUserRef2",staticClass:"table-row-height",attrs:{data:e.roleUserData2,border:"",height:e.roleMenuTableHeightDown,size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChangeUserDown}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"用户id",prop:"userId"}}):e._e(),a("el-table-column",{attrs:{label:"用户姓名",prop:"userName",width:"70"}}),a("el-table-column",{attrs:{label:"用户账号",prop:"userCode"}}),a("el-table-column",{attrs:{label:"登录失败次数",prop:"failedLoginTimes",width:"95"}}),e.show?a("el-table-column",{attrs:{label:"用户类型id",prop:"userType",width:"85px;"}}):e._e(),a("el-table-column",{attrs:{label:"用户类型",prop:"userTypeName","min-width":"100"}}),a("el-table-column",{attrs:{label:"密码有效期",prop:"passwdExp",width:"85"}}),e.show?a("el-table-column",{attrs:{label:"是否锁定id",prop:"isLocked"}}):e._e(),a("el-table-column",{attrs:{label:"是否锁定",prop:"isLockedName",width:"70"}}),a("el-table-column",{attrs:{label:"解锁时间",prop:"unlockDate","min-width":"120"}}),a("el-table-column",{attrs:{label:"最近登录时间",prop:"latestLoginTime","min-width":"120"}})],1)],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"授权职位",name:"third"}},[a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formPosition",staticClass:"js-unauthor-form",attrs:{model:e.formPosition}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权职位","label-width":"85px"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"职位类型",prop:"positionType1","label-width":"100px"}},[a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formPosition.positionType1,callback:function(t){e.$set(e.formPosition,"positionType1",t)},expression:"formPosition.positionType1"}},e._l(e.optionpositionTypeData1,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"职位名称",prop:"positionName1","label-width":"100px"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{size:"mini",clearable:""},model:{value:e.formPosition.positionName1,callback:function(t){e.$set(e.formPosition,"positionName1",t)},expression:"formPosition.positionName1"}})],1)],1),a("el-col",{attrs:{span:2,offset:2}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.roleshouquanPositionSearchBtnClick()}}},[e._v("查 询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"rolePositonRefUp",staticClass:"table-row-height",attrs:{data:e.rolePositionData1,border:"",height:e.noHeight,size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChangePosition}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"职位主键",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"职位名称",prop:"jobName"}}),a("el-table-column",{attrs:{label:"职位编码",prop:"jobCode"}}),e.show?a("el-table-column",{attrs:{label:"职位类型id",prop:"type"}}):e._e(),a("el-table-column",{attrs:{label:"职位类型",prop:"typeName"}}),e.show?a("el-table-column",{attrs:{label:"所属组织id",prop:"orgCode"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"所属组织",prop:"orgName"}}):e._e()],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doublePositonClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleRolePost},on:{click:e.singlePositionClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnRolePost},on:{click:e.singlePositionCancelClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doublePositionCancelClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formPosition2",staticClass:"js-authorized-form",attrs:{model:e.formPosition2}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权职位","label-width":"85px"}})],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"职位类型",prop:"positionType2","label-width":"100px"}},[a("el-select",{staticStyle:{width:"70%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formPosition2.positionType2,callback:function(t){e.$set(e.formPosition2,"positionType2",t)},expression:"formPosition2.positionType2"}},e._l(e.optionpositionTypeData2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"职位名称",prop:"positionName2","label-width":"100px"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{size:"mini",clearable:""},model:{value:e.formPosition2.positionName2,callback:function(t){e.$set(e.formPosition2,"positionName2",t)},expression:"formPosition2.positionName2"}})],1)],1),a("el-col",{attrs:{span:2,offset:2}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.roleshouquanPositionSearchBtnClick2}},[e._v("查 询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"rolePositonRefDown",staticClass:"table-row-height",attrs:{data:e.rolePositionData2,border:"",height:e.roleMenuTableHeightDown,size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChangePosition2}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{label:"职位主键",prop:"id"}}):e._e(),a("el-table-column",{attrs:{label:"职位名称",prop:"jobName"}}),a("el-table-column",{attrs:{label:"职位编码",prop:"jobCode"}}),e.show?a("el-table-column",{attrs:{label:"职位类型id",prop:"type"}}):e._e(),a("el-table-column",{attrs:{label:"职位类型",prop:"typeName"}}),e.show?a("el-table-column",{attrs:{label:"所属组织id",prop:"orgCode"}}):e._e(),e.show?a("el-table-column",{attrs:{label:"所属组织",prop:"orgName"}}):e._e()],1)],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"授权页面功能",name:"fourth"}},[a("div",{staticClass:"pane-border"},[a("el-form",{staticClass:"js-unauthor-form",attrs:{inline:!0}},[a("el-form-item",{staticClass:"fw-b",staticStyle:{"margin-bottom":"2px"},attrs:{label:"未授权页面功能"}})],1),a("el-row",[a("el-col",{staticStyle:{padding:"0px 5px 0px 0px"},attrs:{span:6}},[a("div",{staticClass:"tree-scroll",staticStyle:{border:"1px solid #EBEEF5"},style:{height:e.noHeight+8+"px"}},[e.isUpdate?a("el-tree",{ref:"treePage",attrs:{props:e.pageTreeProps,"node-key":"id",draggable:"","highlight-current":"",load:e.getOrgListPageTree,"expand-on-click-node":!1,lazy:"",data:e.pageTreeData},on:{"node-click":e.handleNodeBtnClickPage}}):e._e()],1)]),a("el-col",{attrs:{span:18}},[a("el-table",{ref:"refPageTable1",staticClass:"table-row-height",attrs:{data:e.rolePageData1,border:"",height:e.noHeight+8,size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChangePage1}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"功能主键"}}):e._e(),a("el-table-column",{attrs:{label:"功能名称",prop:"funcName"}}),a("el-table-column",{attrs:{label:"功能编码",prop:"funcCode"}}),e.show?a("el-table-column",{attrs:{prop:"sysId",label:"系统id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"sysName",label:"系统名称"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"moduleId",label:"模块id"}}):e._e(),a("el-table-column",{attrs:{label:"所属模块",prop:"moduleName"}}),e.show?a("el-table-column",{attrs:{prop:"menuCode",label:"菜单编码"}}):e._e(),a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称"}}),a("el-table-column",{attrs:{prop:"funcUrl",label:"功能url"}}),e.show?a("el-table-column",{attrs:{prop:"funcTypeId",label:"功能类型id"}}):e._e(),a("el-table-column",{attrs:{prop:"funcTypeName",label:"功能类型"}})],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.doublePageBtnClick}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleRolePage},on:{click:e.singlePageBtnClick}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnRolePage},on:{click:e.singlePageCancelBtnClick}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.doublePageCancelBtnClick}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"formPage",staticClass:"js-authorized-form",attrs:{model:e.formPage}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权页面功能","label-width":"110px"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"所属系统",prop:"suoshuSystem2","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},on:{change:e.getModuleList2},model:{value:e.formPage.suoshuSystem2,callback:function(t){e.$set(e.formPage,"suoshuSystem2",t)},expression:"formPage.suoshuSystem2"}},e._l(e.optionsSystem2Data,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"所属模块",prop:"suoshuModule2","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formPage.suoshuModule2,callback:function(t){e.$set(e.formPage,"suoshuModule2",t)},expression:"formPage.suoshuModule2"}},e._l(e.optionsModuleData2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"功能类型",prop:"funcType","label-width":"70px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.formPage.funcType,callback:function(t){e.$set(e.formPage,"funcType",t)},expression:"formPage.funcType"}},e._l(e.optionsFuncTypeData,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"功能名称",prop:"funcName","label-width":"70px"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.formPage.funcName,callback:function(t){e.$set(e.formPage,"funcName",t)},expression:"formPage.funcName"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.roleshouquanPageSearchBtnClick}},[e._v("查 询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{ref:"refPageTable2",staticClass:"table-row-height",attrs:{data:e.rolePageData2,border:"",height:e.roleMenuTableHeightDown+8,size:"mini","highlight-current-row":""},on:{"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChangePage2}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e.show?a("el-table-column",{attrs:{prop:"id",label:"功能主键"}}):e._e(),a("el-table-column",{attrs:{label:"功能名称",prop:"funcName"}}),a("el-table-column",{attrs:{label:"功能编码",prop:"funcCode"}}),e.show?a("el-table-column",{attrs:{prop:"sysId",label:"系统id"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"sysName",label:"系统名称"}}):e._e(),e.show?a("el-table-column",{attrs:{prop:"moduleId",label:"模块id"}}):e._e(),a("el-table-column",{attrs:{label:"所属模块",prop:"moduleName"}}),e.show?a("el-table-column",{attrs:{prop:"menuCode",label:"菜单编码"}}):e._e(),a("el-table-column",{attrs:{prop:"menuName",label:"菜单名称"}}),a("el-table-column",{attrs:{prop:"funcUrl",label:"功能url"}}),e.show?a("el-table-column",{attrs:{prop:"funcTypeId",label:"功能类型id"}}):e._e(),a("el-table-column",{attrs:{prop:"funcTypeName",label:"功能类型"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},ot=[],it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{value:e.valueTitle,clearable:e.clearable},on:{clear:e.clearHandle}},[a("el-option",{staticClass:"options",attrs:{value:e.valueTitle,label:e.valueTitle}},[a("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:e.accordion,data:e.options,props:e.props,"node-key":e.props.value,"default-expanded-keys":e.defaultExpandedKey},on:{"node-click":e.handleNodeClick}})],1)],1)},nt=[],lt={name:"el-tree-select",props:{props:{type:Object,default:function(){return{value:"id",label:"title",children:"children"}}},options:{type:Array,default:function(){return[]}},value:{type:Number,default:function(){return null}},clearable:{type:Boolean,default:function(){return!0}},accordion:{type:Boolean,default:function(){return!1}}},data:function(){return{valueId:this.value,valueTitle:"",defaultExpandedKey:[]}},mounted:function(){this.initHandle()},methods:{initHandle:function(){this.valueId&&(this.valueTitle=this.$refs.selectTree.getNode(this.valueId).data[this.props.label],this.$refs.selectTree.setCurrentKey(this.valueId),this.defaultExpandedKey=[this.valueId]),this.initScroll()},initScroll:function(){this.$nextTick(function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin: 0px; max-height: none; overflow: hidden;",t.forEach(function(e){return e.style.width=0})})},handleNodeClick:function(e){this.valueTitle=e[this.props.label],this.valueId=e[this.props.value],this.$emit("getValue",this.valueId),this.defaultExpandedKey=[]},clearHandle:function(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null)},clearSelected:function(){var e=document.querySelectorAll("#tree-option .el-tree-node");e.forEach(function(e){return e.classList.remove("is-current")})}},watch:{value:function(){this.valueId=this.value,this.initHandle()}}},ct=lt,ut=(a("fcd5"),Object(l["a"])(ct,it,nt,!1,null,"63205b6e",null)),dt=ut.exports,ht=(a("1c46"),{name:"jsgl",components:{SelectTree:dt},data:function(){var e,t=function(e,t,a){t&&Fe(t)?a():a(new Error("请填合法编码"))},a=function(e,t,a){t&&_e(t)?a():a(new Error("请填合法名称"))};return e={baseUrl:this.GLOBAL.baseUrl,tableHeight1:window.innerHeight>657?window.innerHeight/2-140:180,noHeight:window.innerHeight>657?window.innerHeight/2-180:170,roleMenuTableHeightDown:window.innerHeight>657?window.innerHeight/2-160:175,userHeightUp:(window.innerHeight-225-160)/2,userHeightDown:window.innerHeight/2-140,pageHeightUp:(window.innerHeight-225-160)/2,pageHeightDown:window.innerHeight/2-130,issingleRoleMenu:!0,issingleUnRoleMenu:!0,issingleRoleUser:!0,issingleUnRoleUser:!0,issingleRolePost:!0,issingleUnRolePost:!0,issingleRolePage:!0,issingleUnRolePage:!0,isUpdate:!0,show:!1,activeName:"first",roleForm:{roleName:""},isEditBtn:"编 辑",isNewBtn:"新 增",formDisabled:!0,isDisabled:!1,gridRow:"",gridRowId:"",roleFormAdd:{roleNameAdd:"",roleCodeAdd:"",roleTypeAdd:"",roleDescAdd:""},SelectionChangePage1:[],SelectionChangePage2:[],roleFormAddRule:{roleNameAdd:[{required:!0,message:"请输入角色名称",trigger:"blur"},{validator:a}],roleCodeAdd:[{required:!0,message:"请输入角色编码",trigger:"blur"},{validator:t}]},formMenu:{suoshuSystem:"",suoshuModule:"",menuName:""},menuTreeProps:{label:"menuName",children:"children"},pageTreeProps:{label:"menuName",children:"children"},isClearable:!0,isAccordion:!0,valueId:20,props:{value:"id",label:"menuName",children:"children"},list:[],optionsSystemData:[],optionsModuleData:[],roleMenuData:[],roleMenuData2:[],changeAuthorMenu1:[],changeAuthorMenu2:[],optionuserTypeData:[],optionshifouLockData:[],formUser:{userName:"",userAccount:"",userType:"",shifouLock:""},optionuserType2Data:[],optionshifouLock2Data:[],changeAuthorUser:[],changeAuthorUserDown:[],formUser2:{userName2:"",userAccount2:"",userType2:"",shifouLock2:""},optionpositionTypeData1:[],formPosition:{positionType1:"",positionName1:""},changeAuthorPosition:[],changeAuthorPositionDown:[],optionpositionTypeData2:[],formPosition2:{positionType2:"",positionName2:""},optionsSystem2Data:[],optionsModuleData2:[],optionsMenuData:[],optionsFuncTypeData:[],formPage:{suoshuSystem2:"",suoshuModule2:"",suoshuMenu:"",funcType:"",funcName:""},suoshuMenu:"",menuTreeData:[],pageTreeData:[],defaultProps:{}},Object(ie["a"])(e,"formPosition",{}),Object(ie["a"])(e,"roleData",[]),Object(ie["a"])(e,"roleRowData",""),Object(ie["a"])(e,"formMenu",{}),Object(ie["a"])(e,"suoshuSystem",{}),Object(ie["a"])(e,"roleTypeData",[]),Object(ie["a"])(e,"optionuserType",[]),Object(ie["a"])(e,"optionuserType2",[]),Object(ie["a"])(e,"roleTreeData1",[]),Object(ie["a"])(e,"roleTreePageData1",[]),Object(ie["a"])(e,"optionsSystem",[]),Object(ie["a"])(e,"optionshifouLock",[]),Object(ie["a"])(e,"optionshifouLock2",[]),Object(ie["a"])(e,"roleUserData1",[]),Object(ie["a"])(e,"roleUserData2",[]),Object(ie["a"])(e,"optionpositionType",[]),Object(ie["a"])(e,"rolePositionData1",[]),Object(ie["a"])(e,"rolePositionData2",[]),Object(ie["a"])(e,"rolePageData1",[]),Object(ie["a"])(e,"rolePageData2",[]),e},created:function(){var e={roleName:""};this.loadRoleGridData(e)},mounted:function(){var e=this;this.loadRoleTypeData(),this.loadUserTypeUp(),this.loadIfLockedUp(),this.loadPositionTypeUp(),this.loadSuoShuSystem(),this.loadSuoShuSystem2(),this.loadMenuName(),this.loadFuncType(),R.$on("resize",function(t){var a=t.height;t.width;e.tableHeight1=a>657?a/2-140:180,e.noHeight=a>657?a/2-180:170,e.roleMenuTableHeightDown=a>657?a/2-160:175}),this.$refs.pageDiv.style.height=window.innerHeight/2-192+"px"},methods:{handleSelectionChangeMenu1:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleRoleMenu=!1:this.issingleRoleMenu=!0,this.changeAuthorMenu1=t},handleSelectionChangeMenu2:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnRoleMenu=!1:this.issingleUnRoleMenu=!0,this.changeAuthorMenu2=t},handleSelectionChangeUser:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleRoleUser=!1:this.issingleRoleUser=!0,this.changeAuthorUser=t},handleSelectionChangeUserDown:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnRoleUser=!1:this.issingleUnRoleUser=!0,this.changeAuthorUserDown=t},handleSelectionChangePosition:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleRolePost=!1:this.issingleRolePost=!0,this.changeAuthorPosition=t},handleSelectionChangePosition2:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnRolePost=!1:this.issingleUnRolePost=!0,this.changeAuthorPositionDown=t},handleSelectionChangePage1:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleRolePage=!1:this.issingleRolePage=!0,this.SelectionChangePage1=t},handleSelectionChangePage2:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnRolePage=!1:this.issingleUnRolePage=!0,this.SelectionChangePage2=t},handleCurrentChange:function(){},getValue:function(e){this.valueId=e,console.log(this.valueId)},loadSuoShuSystem:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sorttype/queryall",params:{}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.optionsSystemData.push({value:t.data.result.data_[a].id,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadSuoShuSystem2:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sorttype/queryall",params:{}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.optionsSystem2Data.push({value:t.data.result.data_[a].id,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadFuncType:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0007-02"}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.optionsFuncTypeData.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},getModuleList:function(e){var t=this,a=this.formMenu.suoshuSystem;console.log(this.formMenu.suoshuSystem),""==this.formMenu.suoshuSystem&&(this.formMenu.suoshuModule=""),M()({method:"get",url:this.baseUrl+"fweb-security/sortitem/queryitembyparent",params:{parentId:a}}).then(function(e){if(console.log(e),void 0!=e.data.result&&""!=e.data.result&&"200"==e.data.statusCode)for(var a=0;a<e.data.result.data_.length;a++)t.optionsModuleData.push({value:e.data.result.data_[a].id,label:e.data.result.data_[a].name});else t.optionsModuleData=[]}).catch(function(e){console.log(e)})},getModuleList2:function(e){var t=this,a=this.formPage.suoshuSystem2;M()({method:"get",url:this.baseUrl+"fweb-security/sortitem/queryitembyparent",params:{parentId:a}}).then(function(e){if(console.log(e),void 0!=e.data.result&&""!=e.data.result&&"200"==e.data.statusCode)for(var a=0;a<e.data.result.data_.length;a++)t.optionsModuleData2.push({value:e.data.result.data_[a].id,label:e.data.result.data_[a].name});else t.optionsModuleData2=[]}).catch(function(e){console.log(e)})},loadRoleTypeData:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0002-01"}}).then(function(t){console.log(t);for(var a=0;a<t.data.result.data_.length;a++)e.roleTypeData.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},selectClick:function(e,t,a){var s=this;this.$refs.roleFormAdd.resetFields(),this.isUpdate=!1,this.$nextTick(function(e){s.isUpdate=!0}),this.roleRowData=e,console.log(e),this.roleFormAdd.roleNameAdd=e.roleName,this.roleFormAdd.roleCodeAdd=e.roleCode,"0"!=String(e.roleType)&&"1"!=String(e.roleType)||(this.roleFormAdd.roleTypeAdd=String(e.roleType)),this.roleFormAdd.roleDescAdd=e.desc,this.gridRowId=e.id,this.loadUserGridDataUp(),this.loadUserGridDataDown(),this.loadPositionGridDataUp(),this.loadPositionGridDataDown(),this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0},addForm:function(e){var t=this;console.log(e),"新 增"==this.isNewBtn?(this.$refs[e].resetFields(),this.isNewBtn="保 存",this.isEditBtn="取 消",this.formDisabled=!1):"保 存"==this.isNewBtn?this.$refs[e].validate(function(e){if(!e)return!1;t.getAddRole(),t.isNewBtn="新 增",t.isEditBtn="编 辑",t.formDisabled=!0}):(this.getUpdateRole(),this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0)},changeForm:function(e){"编 辑"==this.isEditBtn?(this.isNewBtn="修 改",this.isEditBtn="取 消",this.formDisabled=!1):(this.$refs[e].resetFields(),this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0,this.setFormValue())},getAddRole:function(){var e=this,t={roleCode:this.roleFormAdd.roleCodeAdd,roleName:this.roleFormAdd.roleNameAdd,roleType:this.roleFormAdd.roleTypeAdd,desc:this.roleFormAdd.roleDescAdd};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/role/addroleinfo",data:t}).then(function(t){console.log(t),(t.data.statusCode="200")&&(e.roleSearchBtnClick(),e.setFormValue(),e.$message({showClose:!0,message:t.data.message_,type:"success"}))}).catch(function(e){console.log(e)})},setFormValue:function(){console.log(this.roleRowData),this.roleFormAdd.roleNameAdd=this.roleRowData.roleName,this.roleFormAdd.roleCodeAdd=this.roleRowData.roleCode,this.roleFormAdd.roleTypeAdd=String(this.roleRowData.roleType),this.roleFormAdd.roleDescAdd=this.roleRowData.desc},getUpdateRole:function(){var e=this;console.log(this.roleRowData),console.log(this.roleFormAdd.roleTypeAdd);var t={operationType:"1",id:this.gridRowId,roleName:this.roleFormAdd.roleNameAdd,roleCode:this.roleFormAdd.roleCodeAdd,roleType:String(this.roleFormAdd.roleTypeAdd),desc:this.roleFormAdd.roleDescAdd};console.log(t),M()({method:"post",url:this.baseUrl+"fweb-security/role/updateroleinfo",data:t}).then(function(t){console.log(t),"200"==t.data.statusCode?(e.isUpdate=!1,e.$nextTick(function(t){e.roleSearchBtnClick()}),e.$message({message:"修改成功!",type:"success"})):e.$message({message:"修改失败!",type:"error"})}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e),console.log(t.target.getAttribute("id"));var a=t.target.getAttribute("id");if("tab-first"==a&&this.$refs.treeMenu.getCurrentNode()){var s=this.$refs.treeMenu.getCurrentNode().id;this.loadMenuGridDataUp(s),this.loadMenuGridDataDown(s)}"tab-second"==a&&(this.loadUserGridDataUp(),this.loadUserGridDataDown()),"tab-third"==a&&(this.loadPositionGridDataUp(),this.loadPositionGridDataDown())},handleNodeClick:function(){},handleNodeBtnClick:function(){var e=this.$refs.treeMenu.getCurrentNode().id;if("0"==e)return this.$message({type:"error",message:"请选择一条非根节点数据进行操作"}),!1;this.loadMenuGridDataUp(e),this.loadMenuGridDataDown(e)},loadMenuName:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/menu/querymenutree"}).then(function(t){e.recursiveTreeData(t.data.result.data_)}).catch(function(e){console.log(e)})},recursiveTreeData:function(e){for(var t=0;t<e.length;t++)e[t].orgName&&(e[t].id=e[t].id,e[t].parentId=e[t].parentAreaId,e[t].name=e[t].areaName),e[t].children.length>0&&this.recursiveTreeData(e[t].children);return this.list=e},handleNodeBtnClickPage:function(){var e=this.$refs.treePage.getCurrentNode().roleMenuId;if("0"==e)return this.$message({type:"error",message:"请选择一条非根节点数据进行操作"}),!1;this.loadPageGridDataUp(e),this.loadPageGridDataDown(e)},loadMenuGridDataUp:function(e){var t=this,a={roleId:this.gridRowId,authType:"0",sysId:"",moduleId:"",menuName:"",parentMenuId:e};M()({method:"post",url:this.baseUrl+"fweb-security/role/queryroleleafmenulist",data:a}).then(function(e){t.roleMenuData=e.data.result.data_}).catch(function(e){console.log(e)})},loadMenuGridDataDown:function(e){var t=this,a={roleId:this.gridRowId,authType:"1",sysId:"",moduleId:"",menuName:"",parentMenuId:e};M()({method:"post",url:this.baseUrl+"fweb-security/role/queryroleleafmenulist",data:a}).then(function(e){t.roleMenuData2=e.data.result.data_}).catch(function(e){console.log(e)})},loadPageGridDataUp:function(e){var t=this,a=this.$refs.treePage.getCurrentNode().funcGroupId;if(!a)return this.$message({type:"error",message:"请选择一条菜单叶子节点数据进行操作"}),!1;var s={roleMenuId:this.$refs.treePage.getCurrentNode().roleMenuId,authType:"0",sysId:"",moduleId:"",funcTypeId:"",funcName:"",funcGroupId:a};M()({method:"post",url:this.baseUrl+"fweb-security/role/queryrolemenufunclist",data:s}).then(function(e){t.rolePageData1=e.data.result.data_}).catch(function(e){console.log(e)})},loadPageGridDataDown:function(e){var t=this,a=this.$refs.treePage.getCurrentNode().funcGroupId;if(a){var s={roleMenuId:this.$refs.treePage.getCurrentNode().roleMenuId,authType:"1",sysId:"",moduleId:"",funcTypeId:"",funcName:"",funcGroupId:a};M()({method:"post",url:this.baseUrl+"fweb-security/role/queryrolemenufunclist",data:s}).then(function(e){t.rolePageData2=e.data.result.data_}).catch(function(e){console.log(e)})}},roleShouquanMenuSearch:function(){var e=this;if(!this.$refs.treeMenu.getCurrentNode())return this.$message({type:"error",message:"请选择一条非根节点数据进行操作"}),!1;var t={roleId:this.gridRowId,authType:"1",sysId:this.formMenu.suoshuSystem,moduleId:this.formMenu.suoshuModule,menuName:this.formMenu.menuName,parentMenuId:this.$refs.treeMenu.getCurrentNode().id};M()({method:"post",url:this.baseUrl+"fweb-security/role/queryroleleafmenulist",data:t}).then(function(t){e.roleMenuData2=t.data.result.data_}).catch(function(e){console.log(e)})},doublePageBtnClick:function(){var e=this;this.$refs.refPageTable1.clearSelection(),this.$refs.refPageTable1.toggleAllSelection(),0==this.rolePageData1.length?this.$message({message:"没有未授权页面数据",type:"warning"}):this.$confirm("确认全部授权这些页面功能吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getPageAll()}).catch(function(e){console.log(e)})},getPageAll:function(){var e=this,t={roleMenuIds:[this.$refs.treePage.getCurrentNode().roleMenuId],funcIds:this.SelectionChangePage1,authType:"1",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenufunc",data:t}).then(function(t){if("200"==t.data.statusCode){e.$message({message:"全部页面功能授权成功",type:"success"});var a=e.$refs.treePage.getCurrentNode().roleMenuId;e.loadPageGridDataUp(a),e.loadPageGridDataDown(a)}else e.$message({message:"全部页面功能授权失败",type:"error"})}).catch(function(e){console.log(e)})},singlePageBtnClick:function(){var e=this;this.$confirm("确认授权该页面功能吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getPageSingle()}).catch(function(e){console.log(e)})},getPageSingle:function(){var e=this;if(0==this.SelectionChangePage1.length)return this.$message({type:"error",message:"请至少选择一条未授权页面功能数据进行操作"}),!1;var t=this.$refs.treePage.getCurrentNode().funcGroupId;if(!t)return this.$message({type:"error",message:"请选择一条菜单叶子节点数据进行操作"}),!1;var a={roleMenuIds:[this.$refs.treePage.getCurrentNode().roleMenuId],funcIds:this.SelectionChangePage1,authType:"1",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenufunc",data:a}).then(function(t){if("200"==t.data.statusCode){e.$message({message:"页面功能授权成功",type:"success"});var a=e.$refs.treePage.getCurrentNode().roleMenuId;e.loadPageGridDataUp(a),e.loadPageGridDataDown(a)}else e.$message({message:"页面功能授权失败",type:"error"})}).catch(function(e){console.log(e)})},singlePageCancelBtnClick:function(){var e=this;this.$confirm("确认取消授权该页面功能吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelPageSingle()}).catch(function(e){console.log(e)})},getCancelPageSingle:function(){var e=this;if(0==this.SelectionChangePage2.length)return this.$message({type:"error",message:"请至少选择一条未授权页面功能数据进行操作"}),!1;var t=this.$refs.treePage.getCurrentNode().funcGroupId;if(!t)return this.$message({type:"error",message:"请选择一条菜单叶子节点数据进行操作"}),!1;var a={roleMenuIds:[this.$refs.treePage.getCurrentNode().roleMenuId],funcIds:this.SelectionChangePage2,authType:"0",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenufunc",data:a}).then(function(t){if("200"==t.data.statusCode){e.$message({message:"页面功能取消授权成功",type:"success"});var a=e.$refs.treePage.getCurrentNode().roleMenuId;e.loadPageGridDataUp(a),e.loadPageGridDataDown(a)}else e.$message({message:"页面功能取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doublePageCancelBtnClick:function(){var e=this;this.$refs.refPageTable2.clearSelection(),this.$refs.refPageTable2.toggleAllSelection(),0==this.rolePageData2.length?this.$message({message:"没有已授权页面数据",type:"error"}):this.$confirm("确认全部取消授权页面功能吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelPageAll()}).catch(function(e){console.log(e)})},getCancelPageAll:function(){var e=this,t={roleMenuIds:[this.$refs.treePage.getCurrentNode().roleMenuId],funcIds:this.SelectionChangePage2,authType:"0",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenufunc",data:t}).then(function(t){if("200"==t.data.statusCode){e.$message({message:"全部页面功能取消授权成功",type:"success"});var a=e.$refs.treePage.getCurrentNode().roleMenuId;e.loadPageGridDataUp(a),e.loadPageGridDataDown(a)}else e.$message({message:"全部页面功能取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleMenuBtnClick:function(){var e=this;this.$refs.roleMenuRef1.clearSelection(),this.$refs.roleMenuRef1.toggleAllSelection(),0==this.roleMenuData.length?this.$message({message:"没有未授权菜单数据",type:"error"}):this.$confirm("确认全部授权这些菜单吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getMenuAll()}).catch(function(e){console.log(e)})},getMenuAll:function(){var e=this,t={roleIds:[this.gridRowId],menuIds:this.changeAuthorMenu1,authType:"1",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenu",data:t}).then(function(t){if("200"==t.data.statusCode){e.$message({message:"全部菜单授权成功",type:"success"});var a=e.$refs.treeMenu.getCurrentNode().id;e.loadMenuGridDataUp(a),e.loadMenuGridDataDown(a)}else e.$message({message:"全部菜单授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleMenuBtnClick:function(){var e=this;this.$confirm("确认授权该菜单吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getMenuSingle()}).catch(function(e){console.log(e)})},getMenuSingle:function(){var e=this;if(0==this.changeAuthorMenu1.length)return this.$message({type:"error",message:"没有未授权菜单数据"}),!1;var t={roleIds:[this.gridRowId],menuIds:this.changeAuthorMenu1,authType:"1",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenu",data:t}).then(function(t){if("200"==t.data.statusCode){e.$message({message:"菜单授权成功",type:"success"});var a=e.$refs.treeMenu.getCurrentNode().id;e.loadMenuGridDataUp(a),e.loadMenuGridDataDown(a)}else e.$message({message:"菜单授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleMenuCancelBtnClick:function(){var e=this;this.$confirm("确认取消授权该菜单吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelMenuSingle()}).catch(function(e){console.log(e)})},getCancelMenuSingle:function(){var e=this;if(this.changeAuthorMenu2.length<=0)return this.$message({type:"error",message:"没有未授权菜单数据"}),!1;var t={roleIds:[this.gridRowId],menuIds:this.changeAuthorMenu2,authType:"0",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenu",data:t}).then(function(t){if("200"==t.data.statusCode){e.$message({message:"菜单授权成功",type:"success"});var a=e.$refs.treeMenu.getCurrentNode().id;e.loadMenuGridDataUp(a),e.loadMenuGridDataDown(a)}else e.$message({message:"菜单授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleMenuCancelBtnClick:function(){var e=this;this.$refs.roleMenuRef2.clearSelection(),this.$refs.roleMenuRef2.toggleAllSelection(),0==this.roleMenuData2.length?this.$message({message:"没有已授权菜单数据",type:"error"}):this.$confirm("确认取消全部授权菜单吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelMenuDouble()}).catch(function(e){console.log(e)})},getCancelMenuDouble:function(){var e=this,t={roleIds:[this.gridRowId],menuIds:this.changeAuthorMenu2,authType:"0",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolemenu",data:t}).then(function(t){if("200"==t.data.statusCode){e.$message({message:"全部菜单授权成功",type:"success"});var a=e.$refs.treeMenu.getCurrentNode().id;e.loadMenuGridDataUp(a),e.loadMenuGridDataDown(a)}else e.$message({message:"全部菜单授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleUserClick:function(){var e=this;this.$refs.roleUserRef1.clearSelection(),this.$refs.roleUserRef1.toggleAllSelection(),0==this.roleUserData1.length?this.$message({message:"没有未授权用户数据",type:"error"}):this.$confirm("确认全部授权这些用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getUserAll()}).catch(function(e){console.log(e)})},getUserAll:function(){var e=this,t={userIds:this.changeAuthorUser,roleIds:[this.gridRowId],authType:"1",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserrole",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"全部用户授权成功",type:"success"}),e.loadUserGridDataUp(),e.loadUserGridDataDown()):e.$message({message:"全部用户授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleUserClick:function(){var e=this;this.$confirm("确认授权该用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getUserSingle()}).catch(function(e){console.log(e)})},getUserSingle:function(){var e=this;if(this.changeAuthorUser.length<=0)return this.$message({type:"error",message:"没有未授权用户数据"}),!1;var t={userIds:this.changeAuthorUser,roleIds:[this.gridRowId],authType:"1",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserrole",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"用户授权成功",type:"success"}),e.loadUserGridDataUp(),e.loadUserGridDataDown()):e.$message({message:"用户授权失败",type:"error"})}).catch(function(e){console.log(e)})},singleUserCancelClick:function(){var e=this;this.$confirm("确认取消授权该用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelUserSingle()}).catch(function(e){console.log(e)})},getCancelUserSingle:function(){var e=this;if(this.changeAuthorUserDown.length<=0)return this.$message({type:"error",message:"没有未授权用户数据"}),!1;var t={userIds:this.changeAuthorUserDown,roleIds:[this.gridRowId],authType:"0",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserrole",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"用户取消授权成功",type:"success"}),e.loadUserGridDataUp(),e.loadUserGridDataDown()):e.$message({message:"用户取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doubleUserCancelClick:function(){var e=this;this.$refs.roleUserRef2.clearSelection(),this.$refs.roleUserRef2.toggleAllSelection(),0==this.roleUserData2.length?this.$message({message:"没有已授权用户数据",type:"error"}):this.$confirm("确认全部取消授权这些用户吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelUserAll()}).catch(function(e){console.log(e)})},getCancelUserAll:function(){var e=this,t={userIds:this.changeAuthorUserDown,roleIds:[this.gridRowId],authType:"0",operationType:"0"};M()({method:"post",url:this.baseUrl+"fweb-security/user/authuserrole",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"全部用户取消授权成功",type:"success"}),e.loadUserGridDataUp(),e.loadUserGridDataDown()):e.$message({message:"全部用户取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doublePositonClick:function(){var e=this;this.$refs.rolePositonRefUp.clearSelection(),this.$refs.rolePositonRefUp.toggleAllSelection(),0==this.rolePositionData1.length?this.$message({message:"没有未授权职位数据",type:"error"}):this.$confirm("确认全部授权这些职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getPositionAll()}).catch(function(e){console.log(e)})},getPositionAll:function(){var e=this,t={roleIds:[this.gridRowId],jobIds:this.changeAuthorPosition,authType:"1",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolejob",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"全部职位授权成功",type:"success"}),e.loadPositionGridDataUp(),e.loadPositionGridDataDown()):e.$message({message:"全部职位授权失败",type:"error"})}).catch(function(e){console.log(e)})},singlePositionClick:function(){var e=this;this.$confirm("确认授权该职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getPositionSingle()}).catch(function(e){console.log(e)})},getPositionSingle:function(){var e=this;if(this.changeAuthorPosition.length<=0)return this.$message({type:"error",message:"请至少选择一条未授权用户数据进行操作"}),!1;var t={roleIds:[this.gridRowId],jobIds:this.changeAuthorPosition,authType:"1",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolejob",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"职位授权成功",type:"success"}),e.loadPositionGridDataUp(),e.loadPositionGridDataDown()):e.$message({message:"职位授权失败",type:"error"})}).catch(function(e){console.log(e)})},singlePositionCancelClick:function(){var e=this;this.$confirm("确认取消授权该职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelPositionSingle()}).catch(function(e){console.log(e)})},getCancelPositionSingle:function(){var e=this;if(this.changeAuthorPositionDown.length<=0)return this.$message({type:"error",message:"请至少选择一条未授权用户数据进行操作"}),!1;var t={jobIds:this.changeAuthorPositionDown,roleIds:[this.gridRowId],authType:"0",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolejob",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"职位取消授权成功",type:"success"}),e.loadPositionGridDataUp(),e.loadPositionGridDataDown()):e.$message({message:"职位取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},doublePositionCancelClick:function(){var e=this;this.$refs.rolePositonRefDown.clearSelection(),this.$refs.rolePositonRefDown.toggleAllSelection(),0==this.rolePositionData2.length?this.$message({message:"没有已授权职位数据",type:"error"}):this.$confirm("确认全部取消授权这些职位吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getCancelPositionAll()}).catch(function(e){console.log(e)})},getCancelPositionAll:function(){var e=this,t={jobIds:this.changeAuthorPositionDown,roleIds:[this.gridRowId],authType:"0",operationType:"1"};M()({method:"post",url:this.baseUrl+"fweb-security/role/authrolejob",data:t}).then(function(t){"200"==t.data.statusCode?(e.$message({message:"全部职位取消授权成功",type:"success"}),e.loadPositionGridDataUp(),e.loadPositionGridDataDown()):e.$message({message:"全部职位取消授权失败",type:"error"})}).catch(function(e){console.log(e)})},roleshouquanUserSearchBtnClick:function(){this.loadUserGridDataUp()},roleshouquanUserSearchBtnClick2:function(){this.loadUserGridDataDown()},roleshouquanPositionSearchBtnClick:function(){this.loadPositionGridDataUp()},roleshouquanPositionSearchBtnClick2:function(){this.loadPositionGridDataDown()},roleshouquanPageSearchBtnClick:function(){var e=this.$refs.treePage.getCurrentNode();if(null==e||!this.$refs.treePage.getCurrentNode().funcGroupId)return this.$message({type:"error",message:"请选择一条菜单叶子节点数据进行操作"}),!1;this.loadPageGridDataDown(e)},loadUserTypeUp:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0001-01"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.optionuserTypeData.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name}),e.optionuserType2Data.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadIfLockedUp:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0001-04"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.optionshifouLockData.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name}),e.optionshifouLock2Data.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})}).catch(function(e){console.log(e)})},loadPositionTypeUp:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0003-02"}}).then(function(t){for(var a=0;a<t.data.result.data_.length;a++)e.optionpositionTypeData1.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name}),e.optionpositionTypeData2.push({value:t.data.result.data_[a].dictCode,label:t.data.result.data_[a].name})})},shouquanUserTabClick:function(){},loadUserGridDataUp:function(){var e=this,t={roleId:this.gridRowId,authType:"0",userName:this.formUser.userName,userCode:this.formUser.userAccount,userType:this.formUser.userType,isLocked:this.formUser.shifouLock};M()({method:"post",url:this.baseUrl+"fweb-security/role/queryroleuserlist",data:t}).then(function(t){console.log(t),e.roleUserData1=t.data.result.data_}).catch(function(e){console.log(e)})},loadUserGridDataDown:function(){var e=this,t={roleId:this.gridRowId,authType:"1",userName:this.formUser2.userName2,userCode:this.formUser2.userAccount2,userType:this.formUser2.userType2,isLocked:this.formUser2.shifouLock2};M()({method:"post",url:this.baseUrl+"fweb-security/role/queryroleuserlist",data:t}).then(function(t){e.roleUserData2=t.data.result.data_}).catch(function(e){console.log(e)})},loadPositionGridDataUp:function(){var e=this,t={roleId:this.gridRowId,authType:"0",jobName:this.formPosition.positionName1,jobType:this.formPosition.positionType1};M()({method:"post",url:this.baseUrl+"fweb-security/role/queryrolejoblist",data:t}).then(function(t){e.rolePositionData1=t.data.result.data_}).catch(function(e){console.log(e)})},loadPositionGridDataDown:function(){var e=this,t={roleId:this.gridRowId,authType:"1",jobName:this.formPosition2.positionName2,jobType:this.formPosition2.positionType2};M()({method:"post",url:this.baseUrl+"fweb-security/role/queryrolejoblist",data:t}).then(function(t){e.rolePositionData2=t.data.result.data_}).catch(function(e){console.log(e)})},roleSearchBtnClick:function(){var e={roleName:this.roleForm.roleName};this.loadRoleGridData(e)},loadRoleGridData:function(e){var t=this;M()({method:"post",url:this.baseUrl+"fweb-security/role/queryrolelist",data:e}).then(function(e){(e.data.statusCode="200")&&(e.data.result?(t.roleData=e.data.result.data_,e.data.result.data_.length>0&&(t.$refs.refRoleData.setCurrentRow(e.data.result.data_[0]),t.roleRowData=e.data.result.data_[0],t.gridRowId=e.data.result.data_[0].id,t.setFormValue())):t.roleData=[])}).catch(function(e){console.log(e)})},getOrgListMenuTree:function(e,t){if(0==e.data.length)return e["data"]={id:"0",menuName:"菜单根目录"},t([e.data]);M()({method:"get",url:this.baseUrl+"fweb-security/menu/querymenubyparent",params:{parentMenuId:e.data.id}}).then(function(e){var a=[];if(void 0==e.data.result||e.data.result==[]||"200"!=e.data.statusCode)return!1;e.data.result.data_.forEach(function(e){a.push(e)}),t(a)}).catch(function(e){t([])})},getOrgListPageTree:function(e,t){if(0==e.data.length)return e["data"]={id:"0",menuName:"菜单根目录"},t([e.data]);M()({method:"post",url:this.baseUrl+"fweb-security/role/queryrolemenutree",data:{roleId:this.roleRowData.id,parentMenuId:e.data.id,authType:"1"}}).then(function(e){var a=[];if(void 0==e.data.result||e.data.result==[]||"200"!=e.data.statusCode)return!1;e.data.result.data_.forEach(function(e){a.push(e)}),t(a)}).catch(function(e){t([])})},getRowDatas:function(e){this.roleRowData=e},delRoleData:function(e,t){var a=this;this.$confirm("确认删除该角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(e){M()({method:"post",url:a.baseUrl+"fweb-security/role/deleteroleinfo",data:{id:t.id}}).then(function(e){"200"==e.data.statusCode&&(a.roleSearchBtnClick(),a.setFormValue(),a.$message({showClose:!0,message:"删除角色成功",type:"success"}))}).catch(function(e){console.log(e)})})},tableHeaderColor:function(e){e.row,e.rowIndex;return"background-color: #e1edf8;color:black;text-align:center"},setCurrentRow:function(){alert("123")}}}),mt=ht,pt=(a("1d21"),Object(l["a"])(mt,rt,ot,!1,null,"f38690da",null)),gt=pt.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"zwTemp"}},[a("el-row",{staticClass:"h-100",attrs:{gutter:10}},[a("el-col",{staticClass:"h-100",attrs:{span:6}},[a("el-card",{staticClass:"h-99"},[a("el-form",{ref:"searchjobForm",staticClass:"zw-authorized-form",staticStyle:{"margin-top":"2px"},attrs:{inline:!0,model:e.searchjobForm}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{staticClass:"no-wrap",attrs:{label:"职位列表",prop:"searchjobName"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入职位名称",size:"mini",clearable:""},model:{value:e.searchjobForm.searchjobName,callback:function(t){e.$set(e.searchjobForm,"searchjobName",t)},expression:"searchjobForm.searchjobName"}})],1)],1),a("el-col",{attrs:{span:2,pull:3}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.searchJob}},[e._v("查询")])],1)],1)],1)],1),a("el-table",{ref:"singleTable",staticStyle:{"margin-bottom":"3px"},attrs:{data:e.posData,border:"","row-key":"id",height:e.tableHeight1+40,"row-class-name":"table-row-height","highlight-current-row":"",size:"mini"},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{label:"职位名称",prop:"jobName"}}),a("el-table-column",{attrs:{label:"职位编码",prop:"jobCode",width:"70"}}),a("el-table-column",{attrs:{label:"职位类型",prop:"typeName"}}),a("el-table-column",{attrs:{label:"操作",width:"50",align:"center"}},[a("a",{staticStyle:{color:"#606266"},attrs:{href:"javascript:;"},on:{click:e.deljob}},[a("i",{staticClass:"el-icon-delete"})])])],1),a("hr",{staticStyle:{"border-top":"none","border-bottom":"1px dashed #ccc"}}),a("el-form",{ref:"jobForm",staticClass:"w-100 form-item",style:{height:e.tableHeight1-40+"px"},attrs:{id:"zwForm",model:e.jobForm,rules:e.rules,disabled:e.formDisabled}},[a("p",{staticClass:"fs-14 fw-b",staticStyle:{"margin-bottom":"5px","padding-top":"5px"}},[e._v("职位操作")]),a("el-form-item",{attrs:{label:"职位名称",prop:"jobName","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"职位名称",size:"mini",clearable:""},model:{value:e.jobForm.jobName,callback:function(t){e.$set(e.jobForm,"jobName",t)},expression:"jobForm.jobName"}})],1),a("el-form-item",{attrs:{label:"职位编码",prop:"jobCode","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"职位编码",size:"mini",clearable:""},model:{value:e.jobForm.jobCode,callback:function(t){e.$set(e.jobForm,"jobCode",t)},expression:"jobForm.jobCode"}})],1),a("el-form-item",{staticClass:"line-label",attrs:{label:"是否虚拟职位",prop:"isVirtualPosition","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.jobForm.isVirtualPosition,callback:function(t){e.$set(e.jobForm,"isVirtualPosition",t)},expression:"jobForm.isVirtualPosition"}},e._l(e.isVirtualJobData,function(e){return a("el-option",{key:e.dictCode,attrs:{label:e.name,value:e.dictCode}})}),1)],1),a("el-form-item",{attrs:{label:"职位分类",prop:"typeName","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.jobForm.typeName,callback:function(t){e.$set(e.jobForm,"typeName",t)},expression:"jobForm.typeName"}},e._l(e.jobTypesData,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"desc","label-width":"80px"}},[a("el-input",{staticClass:"fs-14",attrs:{type:"textarea",placeholder:"",clearable:""},model:{value:e.jobForm.desc,callback:function(t){e.$set(e.jobForm,"desc",t)},expression:"jobForm.desc"}})],1)],1),a("div",{staticClass:"ta-c"},[a("el-button",{staticStyle:{margin:"5px 0"},attrs:{type:"success",size:"mini",disabled:e.isDisabled},on:{click:function(t){return e.addForm("jobForm")}}},[e._v(e._s(e.isNewBtn))]),a("el-button",{staticStyle:{margin:"5px 0 5px 5px"},attrs:{type:"primary",size:"mini",disabled:e.isDisabled},on:{click:function(t){return e.changeForm("jobForm")}}},[e._v(e._s(e.isEditBtn))])],1)],1)],1),a("el-col",{staticClass:"h-100",attrs:{span:18}},[a("el-card",{staticClass:"h-99"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"授权角色",name:"first"}},[a("div",{staticClass:"pane-border"},[a("el-form",{ref:"unRoleForm",staticClass:"js-unauthor-form",attrs:{inline:!0,model:e.unRoleForm}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"未授权角色","label-width":"85px"}})],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"角色类型",prop:"roleType","label-width":"70px"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择",size:"mini",clearable:""},model:{value:e.unRoleForm.roleType,callback:function(t){e.$set(e.unRoleForm,"roleType",t)},expression:"unRoleForm.roleType"}},e._l(e.roleTypesData,function(e){return a("el-option",{key:e.dictCode,attrs:{label:e.name,value:e.dictCode}})}),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName","label-width":"70px"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入角色名称",size:"mini",clearable:""},model:{value:e.unRoleForm.roleName,callback:function(t){e.$set(e.unRoleForm,"roleName",t)},expression:"unRoleForm.roleName"}})],1)],1),a("el-col",{attrs:{span:1,pull:2}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.unRoleFormSearch}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{attrs:{data:e.unAuthorData,border:"",height:e.userHeightUp,"row-class-name":"table-row-height",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName"}}),a("el-table-column",{attrs:{label:"角色编码",prop:"roleCode"}}),a("el-table-column",{attrs:{label:"角色类型",prop:"roleTypeName"}})],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"ta-c authord-btns",staticStyle:{"margin-top":"5px","margin-bottom":"5px"},attrs:{span:24,type:"flex",justify:"center",align:"center"}},[a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleleft",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.allAuthor}}),a("el-button",{attrs:{icon:"icons-down",type:"primary",circle:"",plain:"",title:"单个授权",disabled:e.issingleAuthor},on:{click:e.singleAuthor}}),a("el-button",{attrs:{icon:"icons-up",type:"primary",circle:"",plain:"",title:"单个取消",disabled:e.issingleUnAuthor},on:{click:e.singleUnauthor}}),a("el-button",{staticClass:"my-rotate",attrs:{icon:"icons-doubleright",type:"primary",circle:"",plain:"",title:"全部取消"},on:{click:e.allUnauthor}})],1)],1),a("div",{staticClass:"pane-border"},[a("el-form",{ref:"roleForm",staticClass:"js-authorized-form",attrs:{inline:!0,model:e.roleForm}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"已授权角色","label-width":"85px"}})],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"角色类型","label-width":"70px"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择",size:"mini",clearable:""},model:{value:e.roleForm.roleType,callback:function(t){e.$set(e.roleForm,"roleType",t)},expression:"roleForm.roleType"}},e._l(e.roleTypesData,function(e){return a("el-option",{key:e.dictCode,attrs:{label:e.name,value:e.dictCode}})}),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"角色名称","label-width":"70px"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入角色名称",size:"mini",clearable:""},model:{value:e.roleForm.roleName,callback:function(t){e.$set(e.roleForm,"roleName",t)},expression:"roleForm.roleName"}})],1)],1),a("el-col",{attrs:{span:1,pull:2}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.roleFormSearch}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{attrs:{"row-class-name":"table-row-hegiht",data:e.authoredData,border:"",height:e.userHeight,size:"mini"},on:{"selection-change":e.handleUnSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{label:"角色名称",prop:"roleName"}}),a("el-table-column",{attrs:{label:"角色编码",prop:"roleCode"}}),a("el-table-column",{attrs:{label:"角色类型",prop:"roleTypeName"}})],1)],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"授权用户",name:"second"}},[a("el-form",{staticClass:"js-authorized-form",attrs:{"label-width":"85px",model:e.userInfoFrom}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"用户姓名","label-width":"70px"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{size:"mini",clearable:""},model:{value:e.userInfoFrom.userName,callback:function(t){e.$set(e.userInfoFrom,"userName",t)},expression:"userInfoFrom.userName"}})],1)],1),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{label:"用户账号","label-width":"70px"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{size:"mini",clearable:""},model:{value:e.userInfoFrom.userCode,callback:function(t){e.$set(e.userInfoFrom,"userCode",t)},expression:"userInfoFrom.userCode"}})],1)],1),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"用户类型","label-width":"70px"}},[a("el-select",{attrs:{placeholder:"请选择",size:"mini",clearable:""},model:{value:e.userInfoFrom.userType,callback:function(t){e.$set(e.userInfoFrom,"userType",t)},expression:"userInfoFrom.userType"}},e._l(e.userTypeData,function(e){return a("el-option",{key:e.dictCode,attrs:{label:e.name,value:e.dictCode}})}),1)],1)],1),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"是否锁定","label-width":"70px"}},[a("el-select",{attrs:{placeholder:"请选择",size:"mini",clearable:""},model:{value:e.userInfoFrom.isLocked,callback:function(t){e.$set(e.userInfoFrom,"isLocked",t)},expression:"userInfoFrom.isLocked"}},e._l(e.isLockedData,function(e){return a("el-option",{key:e.dictCode,attrs:{label:e.name,value:e.dictCode}})}),1)],1)],1),a("el-col",{attrs:{span:2,offset:1}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.userSearch}},[e._v("查询")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{attrs:{data:e.authorUserData,border:"",size:"mini","row-class-name":"table-row-height",height:e.tableHeightAll}},[a("el-table-column",{attrs:{label:"序号",width:"50",type:"index"}}),a("el-table-column",{attrs:{label:"用户姓名",prop:"userName",width:"80"}}),a("el-table-column",{attrs:{label:"用户账号",prop:"userCode"}}),a("el-table-column",{attrs:{label:"登录失败次数",prop:"failedLoginTimes","min-width":"95"}}),a("el-table-column",{attrs:{label:"用户类型",prop:"userTypeName","min-width":"100"}}),a("el-table-column",{attrs:{label:"密码有效期(天)",prop:"passwdExp",formatter:e.formatPwdExp,width:"105"}}),a("el-table-column",{attrs:{label:"是否锁定",prop:"isLocked",width:"70",formatter:e.isLocked}}),a("el-table-column",{attrs:{label:"解锁时间",prop:"unlockDate","min-width":"120"}}),a("el-table-column",{attrs:{label:"最近登录时间",prop:"latestLoginTime","min-width":"120"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:23}},[a("el-pagination",{staticClass:"f-r m-10",attrs:{background:"",small:"","page-sizes":[10,20,50],"page-size":e.rows,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"current-change":e.currChange,"size-change":e.SizeChange}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"授权组织",name:"third"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("p",{staticClass:"fw-b unauthorTreeTitle",staticStyle:{"margin-bottom":"5px"}},[e._v("未授权组织")]),a("div",{staticClass:"tree-scroll",staticStyle:{border:"1px solid #EBEEF5"},style:{height:e.tableHeightAll+50+"px"}},[e.isUpdate?a("el-tree",{ref:"tree",attrs:{"show-checkbox":"",load:e.getOrgTree,lazy:"","node-key":"id",props:e.defaultProps,"expand-on-click-node":!1,"check-on-click-node":!0,"default-expanded-keys":[0],"highlight-current":!0,"default-expand-all":!1},on:{"check-change":e.handleNodeClick}}):e._e()],1)]),a("el-col",{attrs:{span:1}},[a("div",{staticClass:"middle-box",style:{height:e.tableHeightAll+50+"px"},attrs:{id:"sqzz"}},[a("el-button",{attrs:{icon:"icons-doubleright",type:"primary",title:"全部授权",plain:"",circle:""},on:{click:e.allzzAuthor}}),a("el-button",{attrs:{icon:"icons-right",type:"primary",title:"单个授权",plain:"",circle:"",disabled:e.issinglezzAuthor},on:{click:e.singlezzAuthor}}),a("el-button",{attrs:{icon:"icons-left",type:"primary",title:"单个取消",plain:"",circle:"",disabled:e.issinglezzUnAuthor},on:{click:e.singlezzUnauthor}}),a("el-button",{attrs:{icon:"icons-doubleleft",type:"primary",title:"全部取消",plain:"",circle:""},on:{click:e.allzzUnauthor}})],1)]),a("el-col",{attrs:{span:17}},[a("p",{staticClass:"fw-b authoredTreeTitle",staticStyle:{"margin-bottom":"5px"}},[e._v("已授权组织")]),a("el-table",{attrs:{"row-class-name":"table-row-height",height:e.tableHeightAll+50,data:e.authoredOrgData,border:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),a("el-table-column",{attrs:{label:"组织名称",prop:"orgName"}}),a("el-table-column",{attrs:{label:"组织编码",prop:"orgCode",width:"70"}}),a("el-table-column",{attrs:{label:"组织类型",prop:"orgTypeName"}}),a("el-table-column",{attrs:{label:"所属区域",prop:"areaName",width:"70"}}),a("el-table-column",{attrs:{label:"组织负责人",prop:"leader",width:"85"}}),a("el-table-column",{attrs:{label:"父组织名称",prop:"parentName",width:"85"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)},bt=[],yt={data:function(){var e=this,t=function(t,a,s){var r=e.newJobNameArr.indexOf(a);r>-1?s(new Error("职位名称已存在，请重新输入")):s()},a=function(t,a,s){a?Fe(a)||s(new Error("职位编码为非中文字段")):s(new Error("职位编码已存在，请重新输入"));var r=e.newJobCodeArr.indexOf(a);r>-1?s(new Error("职位编码已存在，请重新输入")):s()};return{baseUrl:this.GLOBAL.baseUrl,issingleAuthor:!0,issingleUnAuthor:!0,issinglezzAuthor:!0,issinglezzUnAuthor:!0,formDisabled:!0,isDisabled:!1,isUpdate:!0,isEditBtn:"编 辑",isNewBtn:"新 增",tableHeight1:window.innerHeight>657?window.innerHeight/2-120:200,userHeightUp:window.innerHeight>657?window.innerHeight/2-175:170,userHeight:window.innerHeight>657?window.innerHeight/2-155:175,tableHeightAll:window.innerHeight>657?window.innerHeight-270:400,posData:[],unAuthorData:[],authoredData:[],unauthorTreeData:[],isVirtualJobData:[],jobTypesData:[],roleTypesData:[],defaultProps:{children:"children",label:"orgName"},value:"",value2:"",value4:"",activeName:"first",value3:"",jobForm:{id:"",jobName:"",jobCode:"",isVirtualPosition:"",typeName:"",desc:"",type:""},userInfoFrom:{userName:"",userCode:"",userType:"",isLocked:""},unRoleForm:{roleName:"",roleType:""},roleForm:{roleName:"",roleType:""},searchjobForm:{searchjobName:""},thisId:"",editInputJobName:"",editInputJobCode:"",editInputJobDec:"",changeAuthorJob:[],authorUserData:[],authoredOrgData:[],UnAuthorzz:[],authorzz:[],UnAuthorzzId:[],userTypeData:[],isLockedData:[],newJobNameArr:[],newJobCodeArr:[],page:1,rows:10,totals:0,rules:{jobName:[{required:!0,message:"请输入职位名称",trigger:"blur"},{validator:t,trigger:"blur"}],jobCode:[{required:!0,message:"请输入职位编码",trigger:"blur"},{validator:a,trigger:"blur"}],isVirtualPosition:[{required:!0,message:"请选择是否为虚拟职位",trigger:"change"}],typeName:[{required:!1}],desc:[{required:!1}]}}},created:function(){this.getJobList(),this.getRealJobName(),this.getRealJobCode(),this.jobTypes()},mounted:function(){var e=this;R.$on("resize",function(t){var a=t.height;t.width;e.tableHeight1=a>657?a/2-120:200,e.userHeightUp=a>657?a/2-175:170,e.userHeight=a>657?a/2-155:175,e.tableHeightAll=a>657?a-270:400})},methods:{resetForm:function(e){this.$refs[e].resetFields(),this.getJobList()},searchJob:function(){this.posData=[],this.getJobList()},currChange:function(e){this.page=e,this.getAuthorUserList()},SizeChange:function(e){this.rows=e,this.getAuthorUserList()},getJobList:function(){var e=this;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/job/querylist"),data:{jobName:this.searchjobForm.searchjobName}}).then(function(t){if(""==t.data.result||void 0==t.data.result||"200"!=t.data.statusCode)return!1;e.posData=t.data.result.data_,e.$refs.singleTable.setCurrentRow(t.data.result.data_[0]),e.thisId=t.data.result.data_[0].id}).catch(function(e){console.log(e)})},getRealJobName:function(){var e=this;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/job/queryalllist")}).then(function(t){if(void 0==t.data||"200"!=t.data.statusCode||""==t.data)return!1;e.newJobNameArr=t.data.result.data_[0].namelist}).catch(function(e){console.log(e)})},getRealJobCode:function(){var e=this;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/job/queryalllist")}).then(function(t){if(void 0==t.data||"200"!=t.data.statusCode||""==t.data)return!1;e.newJobCodeArr=t.data.result.data_[0].codelist}).catch(function(e){console.log(e)})},getUnauthorList:function(){var e=this,t="",a="";t=this.unRoleForm.roleName,a=this.unRoleForm.roleType,M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/job/findauthorized"),data:{authType:"0",jobId:this.thisId,roleName:t,roleType:a}}).then(function(t){void 0!=t.data.result&&""!=t.data.result&&"200"==t.data.statusCode?e.unAuthorData=t.data.result.data_:e.unAuthorData=[]}).catch(function(e){console.log(e)})},getAuthoredList:function(){var e=this,t="",a="";t=this.roleForm.roleName,a=this.roleForm.roleType,M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/job/findauthorized"),data:{authType:"1",jobId:this.thisId,roleName:t,roleType:a}}).then(function(t){void 0!=t.data.result&&""!=t.data.result&&"200"==t.data.statusCode?e.authoredData=t.data.result.data_:e.authoredData=[]}).catch(function(e){console.log(e)})},roleFormSearch:function(){this.authoredData=[],this.getAuthoredList()},unRoleFormSearch:function(){this.unAuthorData=[],this.getUnauthorList()},isVirtualJob:function(){var e=this;M()({method:"get",url:"".concat(this.baseUrl,"fweb-security/sortdict/querybyparent"),params:{parentId:"M-0003-01"}}).then(function(t){""!=t.data&&void 0!=t.data&&"200"==t.data.statusCode?(console.log(t.data.result.data_),e.isVirtualJobData=t.data.result.data_):e.isVirtualJobData=[]}).catch(function(e){console.log(e)})},jobTypes:function(){var e=this;M()({method:"get",url:"".concat(this.baseUrl,"fweb-security/sortdict/querybyparent"),params:{parentId:"M-0003-02"}}).then(function(t){""!=t.data&&void 0!=t.data&&"200"==t.data.statusCode?e.jobTypesData=t.data.result.data_:e.jobTypesData=[]}).catch(function(e){console.log(e)})},roleTypes:function(){var e=this;M()({method:"get",url:"".concat(this.baseUrl,"fweb-security/sortdict/querybyparent"),params:{parentId:"M-0002-01"}}).then(function(t){""!=t.data&&void 0!=t.data&&"200"==t.data.statusCode?e.roleTypesData=t.data.result.data_:e.roleTypesData=[]}).catch(function(e){console.log(e)})},userTypes:function(){var e=this;M()({method:"get",url:"".concat(this.baseUrl,"fweb-security/sortdict/querybyparent"),params:{parentId:"M-0001-01"}}).then(function(t){""!=t.data&&void 0!=t.data&&"200"==t.data.statusCode?e.userTypeData=t.data.result.data_:e.userTypeData=[]}).catch(function(e){console.log(e)})},isLockedTypes:function(){var e=this;M()({method:"get",url:"".concat(this.baseUrl,"fweb-security/sortdict/querybyparent"),params:{parentId:"M-0001-04"}}).then(function(t){""!=t.data&&void 0!=t.data&&"200"==t.data.statusCode?e.isLockedData=t.data.result.data_:e.isLockedData=[]}).catch(function(e){console.log(e)})},handleCurrentChange:function(e){var t=this;this.$refs["jobForm"].resetFields(),this.authoredData=[],this.unAuthorData=[],this.thisId="",this.authorUserData=[],this.unauthorTreeData=[],this.authoredOrgData=[],e?(e=JSON.parse(JSON.stringify(e)),console.log(e),e.isVirtualPosition=e.isVirtualPosition+"",this.currentRow=e,"保 存"!=this.isNewBtn?(this.jobForm=e,this.jobForm.desc=e.desc):(this.formDisabled=!0,this.jobForm=e,this.isNewBtn="新 增",this.isEditBtn="编 辑"),this.thisId=this.jobForm.id,this.getUnauthorList(),this.getAuthoredList(),this.getAuthorUserList(),this.getAuthoredOrg(),this.isVirtualJob(),this.jobTypes(),this.getAllzzid(),this.roleTypes(),this.userTypes(),this.isLockedTypes(),this.isUpdate=!1,this.$nextTick(function(e){t.isUpdate=!0})):this.resetForm("jobForm")},getAddJob:function(){var e=this;console.log(this.jobForm),M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/job/insert"),data:this.jobForm}).then(function(t){"200"==t.data.statusCode?(e.$message({showClose:!0,message:t.data.message_,type:"success"}),e.getJobList()):e.$message({showClose:!0,message:t.data.message_,type:"error"})}).catch(function(e){console.log(e)})},addForm:function(e){var t=this;"新 增"==this.isNewBtn?(this.$refs[e].resetFields(),this.isNewBtn="保 存",this.isEditBtn="取 消",this.formDisabled=!1):"保 存"==this.isNewBtn?this.$refs[e].validate(function(e){if(!e)return!1;t.getAddJob(),t.isNewBtn="新 增",t.isEditBtn="编 辑",t.formDisabled=!0}):(this.getUpdateJob(),this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0)},getUpdateJob:function(){var e=this;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/job/update"),data:this.jobForm}).then(function(t){"200"==t.data.statusCode?(e.$message({showClose:!0,message:t.data.message_,type:"success"}),e.getJobList()):e.$message({showClose:!0,message:t.data.message_,type:"error"})}).catch(function(e){console.log(e)})},changeForm:function(e){"编 辑"==this.isEditBtn?(this.isNewBtn="修 改",this.isEditBtn="取 消",this.formDisabled=!1):(this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0)},deljob:function(e){var t=this;this.$confirm("确认删除这条职位吗？","删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){M()({method:"post",url:"".concat(t.baseUrl,"fweb-security/job/delete"),data:{id:t.jobForm.id}}).then(function(e){"200"==e.data.statusCode&&(t.$message({type:"success",message:"删除成功!"}),t.getJobList())}).catch(function(e){console.log(e),t.$message({type:"error",message:"删除失败！"})})}).catch(function(){})},getAuthoredSingle:function(){var e=this,t=[];if(t.push(this.thisId),this.authorzz.length<=0)return this.$message({type:"error",message:"请选择至少一条数据进行操作"}),!1;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/role/authrolejob"),data:{roleIds:this.authorzz,jobIds:t,authType:"1",operationType:"0"}}).then(function(t){"200"==t.data.statusCode?(e.$message({type:"success",message:t.data.message_}),e.getUnauthorList(),e.getAuthoredList()):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},getUnauthoredSingle:function(){var e=this,t=[];if(t.push(this.thisId),this.authorzz.length<=0)return this.$message({type:"error",message:"请选择至少一条数据进行操作"}),!1;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/role/authrolejob"),data:{roleIds:this.authorzz,jobIds:t,authType:"0",operationType:"0"}}).then(function(t){"200"==t.data.statusCode?(e.$message({type:"success",message:t.data.message_}),e.getUnauthorList(),e.getAuthoredList()):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},singleAuthor:function(){var e=this;this.$confirm("确认授权这些角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getAuthoredSingle()}).catch(function(){console.log(5566)})},singleUnauthor:function(){var e=this;this.$confirm("确认取消授权这些角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getUnauthoredSingle()}).catch(function(){console.log(5566)})},allAuthor:function(){var e=this;this.$confirm("确认全部授权这些角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getAuthoredAll()}).catch(function(){console.log(5566)})},allUnauthor:function(){var e=this;this.$confirm("确认全部取消授权这些角色吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getUnauthoredAll()}).catch(function(){console.log(5566)})},getAuthoredAll:function(){var e=this,t=[];t.push(this.thisId);var a=[];if(!(this.unAuthorData.length>0))return this.$message({type:"error",message:"请选择至少一条数据进行操作"}),!1;for(var s=0;s<this.unAuthorData.length;s++)a.push(this.unAuthorData[s].id);M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/role/authrolejob"),data:{roleIds:a,jobIds:t,authType:"1",operationType:"0"}}).then(function(t){"200"==t.data.statusCode?(e.$message({type:"success",message:t.data.message_}),e.getUnauthorList(),e.getAuthoredList()):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},getUnauthoredAll:function(){var e=this,t=[];t.push(this.thisId);var a=[];if(console.log(this.authoredData),!(this.authoredData.length>0))return this.$message({type:"error",message:"请选择至少一条数据进行操作"}),!1;for(var s=0;s<this.authoredData.length;s++)a.push(this.authoredData[s].id);M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/role/authrolejob"),data:{roleIds:a,jobIds:t,authType:"0",operationType:"0"}}).then(function(t){"200"==t.data.statusCode?(e.$message({type:"success",message:t.data.message_}),e.getUnauthorList(),e.getAuthoredList()):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},getAuthorUserList:function(){var e=this;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/job/findpage?page=")+this.page+"&rows="+this.rows,data:{jobId:this.thisId,userName:this.userInfoFrom.userName,userCode:this.userInfoFrom.userCode,userType:this.userInfoFrom.userType,isLocked:this.userInfoFrom.isLocked}}).then(function(t){void 0!=t.data&&""!=t.data&&"200"==t.data.statusCode?(e.authorUserData=t.data.result.data_,e.totals=t.data.result.rowsCnt):e.authorUserData=[]}).catch(function(e){console.log(e)})},userSearch:function(){this.getAuthorUserList()},formatPwdExp:function(e){return 0===e.passwdExp?"无限期":e.passwdExp},isLocked:function(e){return 0===e.isLocked?"否":1===e.isLocked?"是":void 0},getUnauthorTree:function(){var e=this;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/org/listinfo"),data:{jobId:this.thisId,authType:"0"}}).then(function(t){""!=t.data.result&&void 0!=t.data.result&&"200"==t.data.statusCode&&(e.unauthorTreeData=t.data.result.data_)}).catch(function(e){console.log(e)})},getOrgTree:function(e,t){var a=this;if(console.log(this.thisId),0===e.level)return void 0==e.data&&(e["data"]={id:"0",orgName:"根节点"}),t([{id:"0",orgName:"未授权组织"}]);console.log(e),setTimeout(function(){M()({method:"post",url:"".concat(a.baseUrl,"fweb-security/org/listinfo"),data:{parentOrgId:e.data.id,jobId:a.thisId,authType:"0"}}).then(function(e){return void 0!=e.data.result&&""!=e.data.result&&"200"==e.data.statusCode?(console.log(e.data.result.data_),t(e.data.result.data_)):t([])}).catch(function(e){return t([])})},500)},handleNodeClick:function(e){var t=this;this.UnAuthorzz=[];var a=this.$refs.tree.getCheckedNodes();a.length>0&&a.forEach(function(e){"0"!=e.id&&t.UnAuthorzz.push(e.id)}),this.UnAuthorzz.length>0?this.issinglezzAuthor=!1:this.issinglezzAuthor=!0,console.log(this.UnAuthorzz)},getAuthoredOrg:function(){var e=this;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/org/listinfo"),data:{jobId:this.thisId,authType:"1"}}).then(function(t){""!=t.data.result&&void 0!=t.data.result&&"200"==t.data.statusCode?e.authoredOrgData=t.data.result.data_:e.authoredOrgData=[]}).catch(function(e){console.error(e)})},singlezzAuthor:function(){var e=this;this.$confirm("确认授权这个组织吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getSinglezzAuthor(),e.isUpdate=!1,e.$nextTick(function(t){e.isUpdate=!0})}).catch(function(){console.log(5566)})},getSinglezzAuthor:function(){var e=this,t=[];if(t.push(this.thisId),this.UnAuthorzz.length<=0)return this.$message({type:"error",message:"请选择至少点击一个非根节点进行操作"}),!1;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/org/mapping/insert"),data:{orgId:this.UnAuthorzz,jobId:t}}).then(function(t){"200"==t.data.statusCode?(e.$message({type:"success",message:t.data.message_}),e.getJobList()):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},getAllzzid:function(){var e=this,t=[];M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/org/getallorg"),data:{jobId:this.thisId}}).then(function(a){void 0!=a.data.result&&""!=a.data.result&&"200"==a.data.statusCode?(t=a.data.result.data_,e.UnAuthorzzId=t):t=[]}).catch(function(e){console.log(e)})},allzzAuthor:function(){var e=this;this.$confirm("确认全部授权吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getAllzzAuthor(),e.isUpdate=!1,e.$nextTick(function(t){e.isUpdate=!0})}).catch(function(){console.log(5566)})},getAllzzAuthor:function(){var e=this,t=[];if(t.push(this.thisId),this.UnAuthorzzId.length<=0)return this.$message({type:"error",message:"无未授权组织"}),!1;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/org/mapping/insert"),data:{orgId:this.UnAuthorzzId,jobId:t}}).then(function(t){"200"==t.data.statusCode?(e.$message({type:"success",message:t.data.message_}),e.getJobList()):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},handleSelectionChange:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?(this.issingleAuthor=!1,this.issinglezzUnAuthor=!1):(this.issingleAuthor=!0,this.issinglezzUnAuthor=!0),this.authorzz=t},handleUnSelectionChange:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].id);t.length>0?this.issingleUnAuthor=!1:this.issingleUnAuthor=!0,this.authorzz=t},singlezzUnauthor:function(){var e=this;this.$confirm("确认取消授权组织吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getSinglezzUnauthor(),e.isUpdate=!1,e.$nextTick(function(t){e.isUpdate=!0})}).catch(function(){console.log(5566)})},getSinglezzUnauthor:function(){var e=this,t=[];if(t.push(this.thisId),this.authorzz.length<=0)return this.$message({type:"error",message:"请选择至少一条数据进行操作"}),!1;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/org/mapping/delete"),data:{orgId:this.authorzz,jobId:t}}).then(function(t){"200"==t.data.statusCode?(e.$message({type:"success",message:t.data.message_}),e.getJobList()):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},allzzUnauthor:function(){var e=this;this.$confirm("确认取消授权组织吗？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(t){e.getAllzzUnAuthor(),e.isUpdate=!1,e.$nextTick(function(t){e.isUpdate=!0})}).catch(function(){console.log(5566)})},getAllzzUnAuthor:function(){var e=this,t=[],a=[];if(t.push(this.thisId),this.authoredOrgData.length<=0)return this.$message({type:"error",message:"无未授权组织"}),!1;for(var s=this.authoredOrgData,r=0;r<s.length;r++)a.push(s[r].id);M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/org/mapping/delete"),data:{orgId:a,jobId:t}}).then(function(t){"200"==t.data.statusCode?(e.$message({type:"success",message:t.data.message_}),e.getJobList()):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})}}},wt=yt,vt=(a("8fda"),Object(l["a"])(wt,ft,bt,!1,null,"28aa32f0",null)),Ct=vt.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{staticClass:"minwidth",attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-card",{attrs:{shadow:"hover"}},[a("p",{staticClass:"table-title"},[e._v("区域列表")]),e.isUpdate?a("el-tree",{ref:"tree",staticClass:"tree-scroll",staticStyle:{height:"400px"},attrs:{props:e.treeProps,"node-key":"id","highlight-current":"",load:e.getQyList,"expand-on-click-node":!1,"default-expanded-keys":[0],"default-expand-all":!1,"check-on-click-node":!0,lazy:""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(s.label))]),s.level>1?a("span",[a("a",{staticStyle:{color:"#606266"},attrs:{href:"javascript:;"},on:{click:function(){return e.remove(s,r)}}},[a("i",{staticClass:"el-icon-delete"})])]):e._e()])}}],null,!1,3949087570)}):e._e()],1)],1),a("el-col",{attrs:{span:8}},[a("el-card",{staticStyle:{"padding-bottom":"10px"},attrs:{shadow:"hover"}},[a("el-form",{ref:"qyForm",staticClass:"w-100 form-item-add-18",attrs:{"label-width":"100px",id:"qyForm",model:e.qyForm,rules:e.rules,disabled:e.formDisabled}},[a("p",{staticClass:"fs-14 fw-b",staticStyle:{"margin-bottom":"10px","padding-top":"10px"}},[e._v("区域操作")]),a("el-form-item",{attrs:{label:"区域名称",prop:"areaName"}},[a("el-input",{attrs:{placeholder:"区域名称",size:"mini"},model:{value:e.qyForm.areaName,callback:function(t){e.$set(e.qyForm,"areaName",t)},expression:"qyForm.areaName"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.qyForm.parentAreaId,expression:"qyForm.parentAreaId"}],attrs:{type:"hidden"},domProps:{value:e.qyForm.parentAreaId},on:{input:function(t){t.target.composing||e.$set(e.qyForm,"parentAreaId",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.qyForm.id,expression:"qyForm.id"}],attrs:{type:"hidden"},domProps:{value:e.qyForm.id},on:{input:function(t){t.target.composing||e.$set(e.qyForm,"id",t.target.value)}}})],1),a("el-form-item",{attrs:{label:"区域编码",prop:"areaCode"}},[a("el-input",{attrs:{placeholder:"区域编码",size:"mini"},model:{value:e.qyForm.areaCode,callback:function(t){e.$set(e.qyForm,"areaCode",t)},expression:"qyForm.areaCode"}})],1),a("el-form-item",{attrs:{label:"区域级别",prop:"areaLevel"}},[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.qyForm.areaLevel,callback:function(t){e.$set(e.qyForm,"areaLevel",t)},expression:"qyForm.areaLevel"}},e._l(e.areaLevelData,function(e){return a("el-option",{key:e.dictCode,attrs:{label:e.name,value:e.dictCode,disabled:!0}})}),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:""},model:{value:e.qyForm.desc,callback:function(t){e.$set(e.qyForm,"desc",t)},expression:"qyForm.desc"}})],1)],1),a("div",{staticClass:"ta-c"},[a("el-button",{staticStyle:{margin:"5px 0"},attrs:{type:"success",size:"mini",disabled:e.isDisabled},on:{click:function(t){return e.addForm("qyForm")}}},[e._v(e._s(e.isNewBtn))]),a("el-button",{staticStyle:{margin:"5px 0 5px 5px"},attrs:{type:"primary",size:"mini",disabled:e.isEditDisabled},on:{click:function(t){return e.changeForm("qyForm")}}},[e._v(e._s(e.isEditBtn))])],1)],1)],1)],1)],1)},Dt=[],xt={data:function(){var e=this,t=function(t,a,s){if(a){if(e.fristCode){if(/[\u4E00-\u9FA5\uF900-\uFA2D]/.test(a))return s(new Error("区域编码为非中文字符"));e.areaTreeData.areaCode==a?s():(e.isnotCode(a),setTimeout(function(){e.areaCodeFlag?s():s(new Error("区域编码存在!请重新输入"))},100))}}else s(new Error("请输入区域编码"))};return{baseUrl:this.GLOBAL.baseUrl,fristCode:!1,formDisabled:!0,areaCodeFlag:!0,seareaName:"",isDisabled:!0,isEditBtn:"编 辑",isEditDisabled:!0,isNewBtn:"新 增",areaTreeData:[],isUpdate:!0,treeProps:{children:"children",label:"areaName"},qyForm:{id:"",areaName:"",areaCode:"",areaLevel:"",desc:"",parentAreaId:""},areaLevelData:[],rules:{areaName:[{required:!0,message:"请输入区域名称",trigger:"blur"}],areaCode:[{required:!0,validator:t,trigger:"change"}],areaLevel:[{required:!0,message:"请选择区域级别",trigger:"blur"}],desc:[{required:!1}]}}},created:function(){this.areaTypes()},methods:{getQyList:function(e,t){var a=this;if(0===e.level)return t([{id:"0",areaName:"区域结构",areaLevel:""}]);setTimeout(function(){M()({method:"post",url:a.baseUrl+"fweb-security/area/queryinfo",data:{areaId:e.data.id}}).then(function(e){var a=[];return void 0!=e.data.result&&e.data.result!=[]&&"200"==e.data.statusCode?(e.data.result.data_.forEach(function(e){a.push(e)}),t(a)):t([])}).catch(function(e){return t([])})},500)},remove:function(e,t){var a=this;this.$confirm("确认删除这条区域信息吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(e){M()({method:"post",url:a.baseUrl+"fweb-security/area/delete",data:{id:t.id}}).then(function(e){"200"==e.data.statusCode?(a.$message({type:"success",message:e.data.message_}),a.isUpdate=!1,a.$nextTick(function(e){a.isUpdate=!0}),a.$refs["qyForm"].resetFields()):a.$message({type:"danger",message:e.data.message_})}).catch(function(e){console.log(e)})}).catch(function(e){})},handleNodeClick:function(e){this.fristCode=!1,this.isDisabled=!1,e=JSON.parse(JSON.stringify(e)),delete e.children,"0"==e.id?(this.$refs["qyForm"].resetFields(),this.isNewBtn="新 增",this.isEditBtn="编 辑",this.isEditDisabled=!0,this.formDisabled=!0):(this.areaTreeData=e,"7"==e.areaLevel?(e.areaLevel=e.areaLevel+"",this.isDisabled=!0):"保 存"!=this.isNewBtn?(e.areaLevel=e.areaLevel+"",this.isEditDisabled=!0,e.id&&"0"!=e.id&&(this.isEditDisabled=!1),"确 定"==this.isNewBtn&&(this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0)):(this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0,e.areaLevel=e.areaLevel+""),this.qyForm=e),this.$refs["qyForm"].clearValidate()},getAddArea:function(){var e=this;M()({method:"post",url:this.baseUrl+"fweb-security/area/insert",data:this.qyForm}).then(function(t){"200"==t.data.statusCode?(e.$message({showClose:!0,message:t.data.message_,type:"success"}),e.isUpdate=!1,e.$nextTick(function(t){e.isUpdate=!0}),e.$refs["qyForm"].resetFields(),e.isNewBtn="新 增",e.isEditBtn="编 辑",e.isEditDisabled=!0,e.isDisabled=!0,e.formDisabled=!0):e.$message({showClose:!0,message:t.data.message_,type:"error"})}).catch(function(e){console.log(e)})},getUpdateArea:function(){var e=this;M()({method:"post",url:this.baseUrl+"fweb-security/area/update",data:this.qyForm}).then(function(t){""!=t.data&&void 0!=t.data&&"200"==t.data.statusCode?(e.$message({showClose:!0,message:t.data.message_,type:"success"}),e.isUpdate=!1,e.$nextTick(function(t){e.isUpdate=!0})):e.$message({showClose:!0,message:t.data.message_,type:"error"})}).catch(function(e){console.log(e)})},addForm:function(e){var t=this;this.$refs[e].clearValidate(),this.fristCode=!0,"新 增"==this.isNewBtn?(this.areaTreeData=JSON.parse(JSON.stringify(this.qyForm)),this.$refs[e].resetFields(),this.isNewBtn="保 存",this.isEditBtn="取 消",this.formDisabled=!1,this.areaTreeData.areaLevel?this.qyForm.areaLevel=parseInt(this.areaTreeData.areaLevel)+1+"":this.qyForm.areaLevel="1",this.qyForm.parentAreaId?this.qyForm.parentAreaId=this.areaTreeData.id:this.qyForm.parentAreaId="0"):"保 存"==this.isNewBtn?void 0!=this.$refs["qyForm"]&&this.$refs["qyForm"].validate(function(e){e&&(t.getAddArea(),t.isNewBtn="新 增",t.isEditBtn="编 辑",t.formDisabled=!0)}):void 0!=this.$refs["qyForm"]&&this.$refs["qyForm"].validate(function(e){e&&(t.getUpdateArea(),t.isNewBtn="新 增",t.isEditBtn="编 辑",t.formDisabled=!0)}),"取 消"==this.isEditBtn&&(this.isEditDisabled=!1)},changeForm:function(e){this.$refs[e].clearValidate(),this.qyForm=JSON.parse(JSON.stringify(this.areaTreeData));var t=JSON.parse(JSON.stringify(this.areaTreeData));"编 辑"==this.isEditBtn?(this.fristCode=!0,this.isNewBtn="确 定",this.isEditBtn="取 消",this.formDisabled=!1,this.isDisabled=!1):(this.fristCode=!1,"0"!=t.id&&this.qyForm.id?("7"===t.areaLevel&&(this.isDisabled=!0),this.isEditDisabled=!1):this.isEditDisabled=!0,this.isNewBtn="新 增",this.isEditBtn="编 辑",this.formDisabled=!0)},areaTypes:function(){var e=this;M()({method:"get",url:this.baseUrl+"fweb-security/sortdict/querybyparent",params:{parentId:"M-0005-01"}}).then(function(t){""!=t.data&&void 0!=t.data&&"200"==t.data.statusCode?(e.areaLevelData=[],e.areaLevelData=t.data.result.data_):e.areaLevelData=[]}).catch(function(e){console.log(e)})},isnotCode:function(e){var t=this;M()({method:"get",url:this.baseUrl+"fweb-security/area/checkAreaInfoByAreaCode",params:{areaCode:e}}).then(function(e){""!=e.data&&void 0!=e.data&&"200"==e.data.statusCode?t.areaCodeFlag=e.data.areaCodeFlag:t.areaCodeFlag=!1}).catch(function(e){console.log(e)})}}},Ut=xt,Nt=(a("e886"),Object(l["a"])(Ut,Tt,Dt,!1,null,null,null)),$t=Nt.exports,St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container",staticStyle:{height:"100%"}},[a("el-card",{staticClass:"h-99",attrs:{"body-style":"padding:3px 5px 10px;"}},[a("div",{staticClass:"pane-border"},[a("el-form",{ref:"funcForm",staticClass:"zw-authorized-form",attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:3}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"功能组列表","label-width":"85px"}})],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{staticClass:"no-wrap",attrs:{label:"所属系统"}},[a("el-select",{staticStyle:{width:"60%"},attrs:{size:"mini",placeholder:"请选择",clearable:""},on:{change:function(t){return e.getChildList(this)}},model:{value:e.thisSyetemId,callback:function(t){e.thisSyetemId=t},expression:"thisSyetemId"}},e._l(e.allSystemData,function(e){return a("el-option",{key:e.typeKey,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{staticClass:"no-wrap",attrs:{label:"所属模块"}},[a("el-select",{staticStyle:{width:"60%"},attrs:{size:"mini",clearable:""},model:{value:e.thisModuleId,callback:function(t){e.thisModuleId=t},expression:"thisModuleId"}},e._l(e.getModuleData,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"功能组名称","label-width":"85px"}},[a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"输入功能名称",size:"mini",clearable:""},model:{value:e.funcGroupName,callback:function(t){e.funcGroupName=t},expression:"funcGroupName"}})],1)],1),a("el-col",{attrs:{span:2,pull:1}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getAllFuncList}},[e._v("查询")])],1)],1),a("el-col",{attrs:{span:1,pull:1}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1),a("el-table",{attrs:{data:e.funcTableData,border:"",height:e.tableHeight,"row-class-name":"table-row-height","highlight-current-row":""},on:{"current-change":e.handleCurrentRow}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),a("el-table-column",{attrs:{label:"功能组名称",prop:"funcGroupName"}}),a("el-table-column",{attrs:{label:"功能组编码",prop:"funcGroupCode"}}),a("el-table-column",{attrs:{label:"所属系统",prop:"sysName","min-width":"150"}}),a("el-table-column",{attrs:{label:"所属模块",prop:"moduleName"}}),a("el-table-column",{attrs:{label:"对应首页URL",prop:"funcGroupUrl"}}),a("el-table-column",{attrs:{label:"Shiro标签",prop:"shiroTag"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime","min-width":"70"}})],1)],1),a("div",{staticClass:"pane-border",staticStyle:{"margin-top":"10px"}},[a("el-form",{staticClass:"zw-authorized-form",attrs:{inline:!0}},[a("el-form-item",{staticClass:"fw-b",attrs:{label:"功能组对应功能列表","label-width":"140px"}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.twoloading,expression:"twoloading"}],attrs:{data:e.funcGroupTableData,border:"",height:e.tableHeight,"row-class-name":"table-row-height"}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),a("el-table-column",{attrs:{label:"功能名称",prop:"funcName"}}),a("el-table-column",{attrs:{label:"功能编码",prop:"funcCode"}}),a("el-table-column",{attrs:{label:"所属系统",prop:"sysName","min-width":"200"}}),a("el-table-column",{attrs:{label:"所属模块",prop:"moduleName"}}),a("el-table-column",{attrs:{label:"功能URL",prop:"funcUrl"}}),a("el-table-column",{attrs:{label:"功能类型",prop:"funcTypeName"}}),a("el-table-column",{attrs:{label:"Shiro标签",prop:"shiroTag"}}),a("el-table-column",{attrs:{label:"显示方式",prop:"displayMethodName"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime","min-width":"100"}})],1)],1)])],1)},kt=[],Ft={data:function(){return{baseUrl:this.GLOBAL.baseUrl,tableHeight:window.innerHeight>657?window.innerHeight/2-120:205,thisSyetemId:"",thisModuleId:"",thisFuncGroupId:"",loading:!0,twoloading:!1,funcGroupName:"",deProps:{value:"name",children:"children"},funcTableData:[],funcGroupTableData:[],allSystemData:[{typeKey:""}],getModuleData:[]}},created:function(){this.getAllFuncList(),this.getAllSystem()},mounted:function(){var e=this;R.$on("resize",function(t){var a=t.height;t.width;e.tableHeight=a>657?a/2-120:205})},methods:{resetForm:function(){this.thisSyetemId="",this.thisModuleId="",this.funcGroupName="",this.getModuleData=[]},getAllFuncList:function(){var e=this;this.funcTableData=[],M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/func/queryinfo"),data:{sysTypeId:this.thisSyetemId,moduleTypeId:this.thisModuleId,funcGroupName:this.funcGroupName}}).then(function(t){void 0!=t.data.result&&""!=t.data.result&&"200"==t.data.statusCode?(e.loading=!1,e.funcTableData=t.data.result.data_,e.funcTableData.length>0?e.handleCurrentRow(e.funcTableData[0]):e.handleCurrentRow()):e.funcTableData=[]}).catch(function(e){console.log(e)})},handleCurrentRow:function(e){var t=this;this.twoloading=!0,this.funcGroupTableData=[],this.thisFuncGroupId=e?e.id:"",M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/func/querywebfuncdetail"),data:{funcGroupId:this.thisFuncGroupId}}).then(function(e){void 0!=e.data.result&&""!=e.data.result&&"200"==e.data.statusCode?(t.twoloading=!1,t.funcGroupTableData=e.data.result.data_):(t.twoloading=!1,t.funcGroupTableData=[])}).catch(function(e){console.log(e)})},getAllSystem:function(){var e=this;M()({method:"get",url:"".concat(this.baseUrl,"fweb-security/sorttype/queryall"),params:{}}).then(function(t){void 0!=t.data.result&&""!=t.data.result&&"200"==t.data.statusCode?e.allSystemData=t.data.result.data_:e.allSystemData=[]}).catch(function(e){console.log(e)})},getChildList:function(e){var t=this;this.getModuleData=[],this.thisModuleId="",this.funcGroupName="",M()({method:"get",url:"".concat(this.baseUrl,"fweb-security/sortitem/queryitembyparent"),params:{parentId:this.thisSyetemId}}).then(function(e){void 0!=e.data.result&&""!=e.data.result&&"200"==e.data.statusCode?(console.log(e.data.result.data_),0==e.data.result.data_.length||(t.getModuleData=e.data.result.data_)):t.getModuleData=[]}).catch(function(e){console.log(e)})}}},_t=Ft,It=Object(l["a"])(_t,St,kt,!1,null,null,null),At=It.exports,Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loadfrom,expression:"loadfrom"}],attrs:{"element-loading-text":"数据加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"#f4f4f4"}},[a("el-col",{attrs:{span:24}},[a("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"字典分类",name:"first"}},[a("el-form",{staticClass:"zw-authorized-form",attrs:{inline:!0}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"分类名称","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入分类名称",clearable:""},model:{value:e.inputName,callback:function(t){e.inputName=t},expression:"inputName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"分类标识","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入分类标识",clearable:""},model:{value:e.inputTypeKey,callback:function(t){e.inputTypeKey=t},expression:"inputTypeKey"}})],1)],1),a("el-col",{attrs:{span:2,offset:3}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.searchLand}},[e._v("查 询")])],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.addDictItem}},[e._v("新 增")])],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadTable,expression:"loadTable"}],attrs:{border:"",data:e.tableData,size:"mini",height:e.tableHeight,"row-class-name":"table-row-height","element-loading-text":"数据加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"#f4f4f4"}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),a("el-table-column",{attrs:{label:"分类名称",prop:"name"}}),a("el-table-column",{attrs:{label:"分类标识",prop:"typeKey",width:"90"}}),a("el-table-column",{attrs:{label:"维护单位",prop:"maintOrg"}}),a("el-table-column",{attrs:{label:"版本",prop:"typeVersion",width:"80"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"el-icon-tickets fs-14 d-ib m-10",staticStyle:{color:"initial"},attrs:{title:"详情"},on:{click:function(a){return e.findInfo(t.row)}}})]),a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"el-icon-edit fs-14 d-ib m-10",staticStyle:{color:"initial"},attrs:{title:"修改",size:"mini"},on:{click:function(a){return e.updateInfo(t.row)}}})]),a("a",{attrs:{href:"javascript:;"}},[a("i",{staticClass:"el-icon-delete fs-14 d-ib m-10",staticStyle:{color:"initial"},attrs:{title:"删除",size:"mini"},on:{click:function(a){return e.delDictInfo(t)}}})])]}}])})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:23}},[a("el-pagination",{staticClass:"f-r m-10",attrs:{background:"",small:"","page-sizes":[10,20,50],"page-size":e.rows,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"current-change":e.currChange,"size-change":e.SizeChange}})],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{attrs:{title:"新建分类",visible:e.dialogAddDict,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogAddDict=t}}},[a("el-form",{ref:"searchAddDicForm",attrs:{"label-width":"80px",model:e.searchAddDicForm,rules:e.addDicRule}},[a("el-form-item",{attrs:{label:"分类标识",prop:"typeKey"}},[a("el-input",{attrs:{placeholder:"请输入分类标识",clearable:"",disabled:"",maxlength:"64"},model:{value:e.searchAddDicForm.typeKey,callback:function(t){e.$set(e.searchAddDicForm,"typeKey",t)},expression:"searchAddDicForm.typeKey"}})],1),a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入分类名称",clearable:"",maxlength:"64"},model:{value:e.searchAddDicForm.name,callback:function(t){e.$set(e.searchAddDicForm,"name",t)},expression:"searchAddDicForm.name"}})],1),a("el-form-item",{attrs:{label:"维护单位",prop:"maintOrg"}},[a("el-input",{attrs:{placeholder:"维护单位",clearable:"",maxlength:"32"},model:{value:e.searchAddDicForm.maintOrg,callback:function(t){e.$set(e.searchAddDicForm,"maintOrg",t)},expression:"searchAddDicForm.maintOrg"}})],1),a("el-form-item",{attrs:{label:"版本",prop:"typeVersion"}},[a("el-input",{attrs:{placeholder:"版本",clearable:"",maxlength:"32"},model:{value:e.searchAddDicForm.typeVersion,callback:function(t){e.$set(e.searchAddDicForm,"typeVersion",t)},expression:"searchAddDicForm.typeVersion"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"description"}},[a("el-input",{attrs:{placeholder:"备注",type:"textarea",clearable:"",maxlength:"255"},model:{value:e.searchAddDicForm.description,callback:function(t){e.$set(e.searchAddDicForm,"description",t)},expression:"searchAddDicForm.description"}})],1),a("el-form-item"),a("el-form-item",{staticClass:"dialog-footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogAddDict=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addDictInfo}},[e._v("保 存")])],1)],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{attrs:{title:"修改分类",visible:e.dialogUpdateDict,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogUpdateDict=t}}},[a("el-form",{ref:"searchDicForm",attrs:{"label-width":"80px",model:e.searchDicForm}},[a("el-form-item",{attrs:{label:"分类标识"}},[a("el-input",{attrs:{placeholder:"请输入分类标识",clearable:"",disabled:"",maxlength:"64"},model:{value:e.searchDicForm.typeKey,callback:function(t){e.$set(e.searchDicForm,"typeKey",t)},expression:"searchDicForm.typeKey"}})],1),a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{attrs:{placeholder:"请输入分类名称",clearable:"",maxlength:"64"},model:{value:e.searchDicForm.name,callback:function(t){e.$set(e.searchDicForm,"name",t)},expression:"searchDicForm.name"}})],1),a("el-form-item",{attrs:{label:"维护单位"}},[a("el-input",{attrs:{placeholder:"维护单位",clearable:"",maxlength:"32"},model:{value:e.searchDicForm.maintOrg,callback:function(t){e.$set(e.searchDicForm,"maintOrg",t)},expression:"searchDicForm.maintOrg"}})],1),a("el-form-item",{attrs:{label:"版本"}},[a("el-input",{attrs:{placeholder:"版本",clearable:"",maxlength:"32"},model:{value:e.searchDicForm.typeVersion,callback:function(t){e.$set(e.searchDicForm,"typeVersion",t)},expression:"searchDicForm.typeVersion"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"备注",type:"textarea",clearable:"",maxlength:"255"},model:{value:e.searchDicForm.description,callback:function(t){e.$set(e.searchDicForm,"description",t)},expression:"searchDicForm.description"}})],1),a("el-form-item"),a("el-form-item",{staticClass:"dialog-footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogUpdateDict=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.updateDictInfo}},[e._v("保 存")])],1)],1)],1)],1)],1),a("el-row",{staticClass:"my-dialog-width"},[a("el-col",{attrs:{span:24}},[a("el-dialog",{attrs:{title:"分类详情",visible:e.dialogInfoDict,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogInfoDict=t}}},[a("table",{staticClass:"el-table--small info-table w-100"},[a("tbody",[a("tr",[a("th",[e._v("分类标识")]),a("td",[e._v(e._s(e.dicItmes.typeKey))])]),a("tr",[a("th",[e._v("分类名称")]),a("td",[e._v(e._s(e.dicItmes.name))])]),a("tr",[a("th",[e._v("维护单位")]),a("td",[e._v(e._s(e.dicItmes.maintOrg))])]),a("tr",[a("th",[e._v("版本")]),a("td",[e._v(e._s(e.dicItmes.typeVersion))])]),a("tr",[a("th",[e._v("备注")]),a("td",[e._v(e._s(e.dicItmes.description))])])])]),a("div",{staticClass:"ta-c m-10"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogInfoDict=!1}}},[e._v("取 消")])],1)])],1)],1)],1),a("el-tab-pane",{attrs:{label:"字典分项",name:"second"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-card",{attrs:{shadow:"hover"}},[a("p",{staticClass:"table-title"},[e._v("字典分项列表")]),e.isRefresh?a("el-tree",{ref:"treeone",staticClass:"tree-scroll",staticStyle:{height:"400px"},attrs:{props:e.treeProps,"node-key":"id","default-expanded-keys":[0],"highlight-current":"",load:e.getDictList,"expand-on-click-node":!1,lazy:"",draggable:!1},on:{"node-drag-start":e.handleDragStart,"node-drag-end":e.handleDragEnd,"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(s.label))]),1!=s.level&&2!=s.level?a("span",[a("a",{staticStyle:{color:"#606266"},attrs:{href:"javascript:;"},on:{click:function(){return e.remove(s,r)}}},[a("i",{staticClass:"el-icon-delete"})])]):e._e()])}}],null,!1,3539665990)}):e._e()],1)],1),a("el-col",{attrs:{span:8}},[a("el-card",{staticStyle:{"padding-bottom":"10px"},attrs:{shadow:"hover"}},[a("el-form",{ref:"dictForm",staticClass:"w-100 form-item-add-18",attrs:{"label-width":"100px",id:"dictForm",model:e.dictForm,rules:e.rules,disabled:e.formDisabled}},[a("p",{staticClass:"fs-14 fw-b",staticStyle:{"margin-bottom":"10px","padding-top":"10px"}},[e._v("字典分项操作：")]),a("el-form-item",{attrs:{label:"分项名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入分项名称",clearable:"",maxlength:"64"},model:{value:e.dictForm.name,callback:function(t){e.$set(e.dictForm,"name",t)},expression:"dictForm.name"}})],1),a("el-form-item",{attrs:{label:"分项编码",prop:"itemCode"}},[a("el-input",{attrs:{placeholder:"分项编码",clearable:"",maxlength:"32"},model:{value:e.dictForm.itemCode,callback:function(t){e.$set(e.dictForm,"itemCode",t)},expression:"dictForm.itemCode"}})],1),a("el-form-item",{attrs:{label:"父分项名称",prop:"parentName"}},[a("el-input",{attrs:{placeholder:"父分项名称",disabled:""},model:{value:e.dictForm.parentName,callback:function(t){e.$set(e.dictForm,"parentName",t)},expression:"dictForm.parentName"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dictForm.parentId,expression:"dictForm.parentId"}],attrs:{type:"hidden"},domProps:{value:e.dictForm.parentId},on:{input:function(t){t.target.composing||e.$set(e.dictForm,"parentId",t.target.value)}}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dictForm.typeKeyName,expression:"dictForm.typeKeyName"}],attrs:{type:"hidden"},domProps:{value:e.dictForm.typeKeyName},on:{input:function(t){t.target.composing||e.$set(e.dictForm,"typeKeyName",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dictForm.typeKey,expression:"dictForm.typeKey"}],attrs:{type:"hidden"},domProps:{value:e.dictForm.typeKey},on:{input:function(t){t.target.composing||e.$set(e.dictForm,"typeKey",t.target.value)}}}),a("el-form-item",{attrs:{label:"备注",prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:"",maxlength:"255"},model:{value:e.dictForm.description,callback:function(t){e.$set(e.dictForm,"description",t)},expression:"dictForm.description"}})],1)],1),a("div",{staticClass:"ta-c"},[a("el-button",{staticStyle:{margin:"8px 0"},attrs:{type:"success",size:"mini",disabled:e.isDisabled},on:{click:function(t){return e.addForm("dictForm")}}},[e._v(e._s(e.isNewBtn))]),a("el-button",{staticStyle:{margin:"8px 0 8px 5px"},attrs:{type:"primary",size:"mini",disabled:e.isChangeDisabled},on:{click:function(t){return e.changeForm("dictForm")}}},[e._v(e._s(e.isEditBtn))])],1)],1)],1)],1)],1)],1)],1)],1)],1)},Mt=[],Bt=(a("3e8f"),{inject:["reload"],data:function(){var e=this,t=function(t,a,s){if(a)if(e.fristCode){if(/[\u4E00-\u9FA5\uF900-\uFA2D]/.test(a))return s(new Error("分项编码为非中文字符"));M()({method:"get",url:e.baseURL+"sortitem/isExistItemCode",params:{itemCode:a}}).then(function(t){if(console.log(t.data),"200"==t.data.statusCode)return console.log(t.data.itemCodeFlag),t.data.itemCodeFlag?s():s(new Error("分项编码存在重新编写"));e.$message({showClose:!0,message:t.data.message_,type:"error"})}).catch(function(e){console.log(e)})}else s();else s(new Error("分项编码不能为空"))},a=function(t,a,s){if(!a)return s(new Error("分类名称不能为空"));M()({method:"get",url:e.baseURL+"sorttype/isExistTypeName",params:{name:a}}).then(function(t){if("200"==t.data.statusCode)return t.data.nameFlag?s():s(new Error("分类名称已存在，请重新填写"));e.$message({showClose:!0,message:t.data.message_,type:"error"})}).catch(function(e){console.error(e)})};return{baseUrl:this.GLOBAL.baseUrl,loadfrom:!0,loadTable:!0,fristCode:!1,nodeTree:[0],tableHeight:window.innerHeight>657?window.innerHeight-255:400,activeName:"first",itemCodeFlag:!1,dictCodeFlag:!1,formDisabled:!0,dictInfoDisabled:!0,dialogInfoDict:!1,dialogAddDict:!1,dialogUpdateDict:!1,isflag:!0,isInfoflag:!0,isRefresh:!0,rows:10,page:1,totals:0,isDisabled:!0,isChangeDisabled:!0,isDisInfoabled:!0,isChangeDisInfoabled:!0,isEditBtn:"编辑",isNewBtn:"新增",isEditInfoBtn:"编辑",isNewInfoBtn:"新增",dictInfoCacheData:{name:"",itemCode:"",parentName:"",typeKeyName:"",description:""},dictTreeData:[],dictTreeInfoData:[],dictTreeInfonodes:[],dictFlag:!0,dictInfoFlag:!1,dicItmes:[],inputName:"",inputTypeKey:"",thisHandleId:"",isUpdate:!0,isInfoUpdate:!0,tableData:[],treeProps:{children:"children",label:"name"},dictInfoFrom:{name:"",dictCode:"",itemId:"",itemName:"",description:""},dictForm:{id:"",typeKey:"",typeKeyName:"",name:"",parentId:"",parentName:"",itemCode:"",description:""},searchDicForm:{typeKey:"",name:"",maintOrg:"",typeVersion:"",description:""},orderByitemFrom:{id:"",beSortItemSort:"",parentSortItemId:""},orderByDictFrom:{id:"",beSortDictSort:"",parentSortDictId:""},parentName:"",typeKeyName:"",searchAddDicForm:{typeKey:"",name:"",maintOrg:"",typeVersion:"",description:""},qyLevelData:[],addDicRule:{typeKey:[{required:!0,message:"分类标识不能为空",trigger:"blur"}],name:[{required:!0,validator:a,trigger:"blur"}]},rules:{typeKeyName:[{required:!0,message:"请输入分类名称",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],parentName:[{required:!0,message:"请输入父分项名称",trigger:"blur"}],itemCode:[{required:!0,validator:t,trigger:"blur"}],itemName:[{required:!0,message:"请输入所属分项",trigger:"blur"}]}}},created:function(){this.getTableData()},mounted:function(){var e=this;R.$on("resize",function(t){var a=t.height;t.width;e.tableHeight=a>657?a-255:400})},methods:{searchLand:function(){this.page=1,this.totals=0,this.currChange(1)},refreshTree:function(){var e=this;this.isflag=!0,this.isInfoflag=!0,this.isRefresh=!1,this.$nextTick(function(){e.isRefresh=!0,e.isInfoUpdate=!0})},handleTabClick:function(){this.refreshTree()},getTypeKey:function(){var e=this;M()({method:"get",url:"".concat(this.baseUrl,"fweb-security/sorttype/gettypekey")}).then(function(t){"200"===t.data.statusCode?(e.$refs["searchAddDicForm"].resetFields(),e.searchAddDicForm.typeKey=t.data.result.data_.typekey):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},orderBydictInfo:function(){var e=this;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/sortdict/orderbySortDict"),data:this.orderByDictFrom}).then(function(t){"200"===t.data.statusCode?e.$message({type:"success",message:t.data.message_}):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},handleDragStart:function(e,t){this.orderByitemFrom.id=e.data.id},handleDragEnd:function(e,t,a,s){this.orderByitemFrom.parentSortItemId=t.data.parentId,this.orderByitemFrom.beSortItemSort=t.data.serialNumber,null!=a&&this.orderByitem()},orderByitem:function(){var e=this;M()({method:"post",url:"".concat(this.baseUrl,"fweb-security/sortitem/orderbySortItem"),data:this.orderByitemFrom}).then(function(t){"200"===t.data.statusCode?e.$message({type:"success",message:t.data.message_}):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},addDictItem:function(){this.dialogAddDict=!0,this.getTypeKey()},findInfo:function(e){this.dicItmes=[],this.dicItmes=e,this.dialogInfoDict=!0},updateInfo:function(e){console.log(e);var t=JSON.parse(JSON.stringify(e));this.searchDicForm=t,this.dialogUpdateDict=!0},updateDictInfo:function(){var e=this;this.dialogUpdateDict=!1,M()({method:"put",url:"".concat(this.baseUrl,"fweb-security/sorttype/updatesorttype"),data:this.searchDicForm}).then(function(t){"200"===t.data.statusCode?(e.$message({type:"success",message:t.data.message_}),e.currChange(1)):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})},delDictInfo:function(e){var t=this,a=e.$index;this.dialogDelDict=!0,this.$confirm("确认删除字典分类？","提示！",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(s){M()({method:"delete",url:"".concat(t.baseUrl,"fweb-security/sorttype/deletesorttype"),params:{id:e.row.id}}).then(function(e){"200"===e.data.statusCode?(t.$message({type:"success",message:e.data.message_}),t.tableData.splice(a,1),t.getTableData()):t.$message({type:"error",message:e.data.message_})}).catch(function(e){console.log(e)})}).catch(function(){console.log(5566)})},addDictInfo:function(){var e=this;this.$refs["searchAddDicForm"].validate(function(t){t&&M()({method:"post",url:"".concat(e.baseUrl,"fweb-security/sorttype/insertsorttype"),data:e.searchAddDicForm}).then(function(t){"200"===t.data.statusCode?(e.$message({type:"success",message:t.data.message_}),e.getTableData(),e.dialogAddDict=!1):e.$message({type:"error",message:t.data.message_})}).catch(function(e){console.log(e)})})},getTableData:function(){var e=this;this.tableData=[],this.loadTable=!0,M()({method:"get",url:"".concat(this.baseUrl,"fweb-security/sorttype/querypages"),params:{rows:this.rows,page:this.page,name:this.inputName,typeKey:this.inputTypeKey}}).then(function(t){e.loadfrom=!1,e.loadTable=!1,void 0!=t.data.result&&""!=t.data.result&&"200"===t.data.statusCode?(e.tableData=t.data.result.data_,e.totals=t.data.result.rowsCnt):e.tableData=[]}).catch(function(e){console.log(e)})},currChange:function(e){console.log(e),this.page=e,this.getTableData()},SizeChange:function(e){this.rows=e,this.getTableData()},getDictList:function(e,t){if(0===e.level)e["data"]={id:"0",name:"字典分项",children:[]},t([e.data]);else{void 0!=this.$refs.tree&&(this.checkedKeys=this.$refs.tree.getCheckedKeys());var a="";this.isflag?(a=this.baseUrl+"fweb-security/sorttype/queryall",this.isflag=!1):a=this.baseUrl+"fweb-security/sortitem/queryitembyparent",M()({method:"get",url:a,params:{parentId:e.data.id}}).then(function(e){var a=[];return void 0!=e.data.result&&e.data.result!=[]&&"200"==e.data.statusCode&&(e.data.result.data_.forEach(function(e){a.push(e)}),t(a))}).catch(function(e){t([])}),void 0!=this.$refs.tree&&this.$refs.tree.setCheckedKeys(this.checkedKeys)}},remove:function(e,t){var a=this;this.$confirm("确认删除这条记录吗？","删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(e){M()({method:"delete",url:a.baseURL+"sortitem/deletesortitem",params:{id:t.id}}).then(function(e){"200"==e.data.statusCode?(a.$message({type:"success",message:e.data.message_}),a.refreshTree(),a.$refs["dictForm"].resetFields()):a.$message({type:"danger",message:e.data.message_})}).catch(function(e){console.log(e)})}).catch(function(e){})},handleNodeClick:function(e){this.$refs["dictForm"].clearValidate();var t=e.id,a=this.$refs.treeone.getNode(t),s=a.level;"保存"==this.isNewBtn?(this.formDisabled=!0,s>2?this.dictForm=e:this.$refs["dictForm"].resetFields(),this.isNewBtn="新增",this.isEditBtn="编辑"):"修改"==this.isNewBtn?(this.formDisabled=!0,s>2?this.dictForm=e:this.$refs["dictForm"].resetFields(),this.isNewBtn="新增",this.isEditBtn="编辑"):(e=JSON.parse(JSON.stringify(e)),s>2?(this.isDisabled=!1,this.isChangeDisabled=!1,this.dictTreeData=e,this.dictForm=JSON.parse(JSON.stringify(e))):"2"==s?(this.$refs["dictForm"].resetFields(),this.dictTreeData=e,this.isDisabled=!1,this.isChangeDisabled=!0):(this.isDisabled=!0,this.isChangeDisabled=!0))},getAddDict:function(){var e=this;M()({method:"post",url:this.baseURL+"sortitem/insertsortitem",data:this.dictForm}).then(function(t){"200"==t.data.statusCode?(e.$message({showClose:!0,message:t.data.message_,type:"success"}),e.dictForm.id=t.data.id,e.refreshTree(),e.$refs["dictForm"].resetFields(),e.isNewBtn="新增",e.isEditBtn="编辑",e.formDisabled=!0,e.isDisabled=!0,e.isChangeDisabled=!0):e.$message({showClose:!0,message:t.data.message_,type:"error"})}).catch(function(e){console.log(e)})},addForm:function(e){var t=this;if("新增"==this.isNewBtn){this.fristCode=!0,this.$refs[e].resetFields();var a=this.dictTreeData;this.isChangeDisabled=!1,this.dictForm.parentName=a.name,this.dictForm.parentId=a.id,this.dictForm.typeKeyName=a.name,this.dictForm.typeKey=a.typeKey,this.isNewBtn="保存",this.isEditBtn="取消",this.formDisabled=!1}else"保存"==this.isNewBtn?(this.fristCode=!1,this.$refs[e].validate(function(e){if(!e)return!1;t.getAddDict()})):(this.fristCode=!1,this.$refs[e].validate(function(e){if(!e)return!1;t.getUpdateDict()}))},changeForm:function(e){if(this.$refs[e].resetFields(),"编辑"==this.isEditBtn){this.fristCode=!0,this.isChangeDisabled=!1,this.isNewBtn="修改",this.isEditBtn="取消",this.formDisabled=!1;var t=JSON.parse(JSON.stringify(this.dictTreeData));this.dictForm=t}else if("取消"==this.isEditBtn){this.fristCode=!1,this.isChangeDisabled=!1;var a=JSON.parse(JSON.stringify(this.dictTreeData)),s=this.$refs.treeone.getNode(a.id),r=s.level;r>2?(this.dictForm=JSON.parse(JSON.stringify(a)),this.isDisabled=!1,this.isChangeDisabled=!1):"2"==r?(this.dictForm={},this.isDisabled=!1,this.isChangeDisabled=!0):(this.isDisabled=!0,this.isChangeDisabled=!0),this.isNewBtn="新增",this.isEditBtn="编辑",this.formDisabled=!0}"修改"==this.isNewBtn&&(this.isDisabled=!1)},getUpdateDict:function(){var e=this;M()({method:"put",url:this.baseURL+"sortitem/updatesortitem",data:this.dictForm}).then(function(t){"200"==t.data.statusCode?(e.$message({showClose:!0,message:t.data.message_,type:"success"}),e.dictTreeData.name=e.dictForm.name,e.$refs["dictForm"].resetFields(),e.refreshTree(),e.isNewBtn="新增",e.isEditBtn="编辑",e.formDisabled=!0,e.isDisabled=!0,e.isChangeDisabled=!0):e.$message({showClose:!0,message:t.data.message_,type:"error"})}).catch(function(e){console.log(e)})}}}),Rt=Bt,Et=(a("5351"),Object(l["a"])(Rt,Pt,Mt,!1,null,"4c0931b3",null)),Ot=Et.exports;s["default"].use(d["a"]);var Lt=new d["a"]({routes:[{path:"/",component:se,meta:{title:"自述文件"},children:[{path:"/permission",component:b,meta:{title:"权限测试",permission:!0}},{path:"/xtsz/yhgl",component:Re,meta:{title:"用户管理",permission:!0}},{path:"/xtsz/jsgl",component:gt,meta:{title:"角色管理",permission:!0}},{path:"/xtsz/zzgl",component:Ye,meta:{title:"组织管理",permission:!0}},{path:"/xtsz/cdgl",component:st,meta:{title:"菜单管理",permission:!0}},{path:"/xtsz/zwgl",component:Ct,meta:{title:"职位管理",permission:!0}},{path:"/xtsz/qygl",component:$t,meta:{title:"区域管理",permission:!0}},{path:"/xtsz/ymgngl",component:At,meta:{title:"页面功能管理",permission:!0}},{path:"/xtsz/zdgl",component:Ot,meta:{title:"字典管理",permission:!0}},{path:"/404",component:D,meta:{title:"404"}},{path:"/403",component:k,meta:{title:"403"}}]},{path:"/login",component:pe},{path:"/modifypassword",component:ve},{path:"*",redirect:"/404"}]}),zt=a("28dd"),qt=(a("4ee2"),a("5c96")),Gt=a.n(qt);a("0fae"),a("d21e"),a("6762"),a("2fdb");s["default"].directive("dialogDrag",{bind:function(e,t,a,s){var r=e.querySelector(".el-dialog__header"),o=e.querySelector(".el-dialog");r.style.cssText+=";cursor:move;",o.style.cssText+=";top:0px;";var i=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();r.onmousedown=function(e){var t=e.clientX-r.offsetLeft,a=e.clientY-r.offsetTop,s=document.body.clientWidth,n=document.documentElement.clientHeight,l=o.offsetWidth,c=o.offsetHeight,u=o.offsetLeft,d=s-o.offsetLeft-l,h=o.offsetTop,m=n-o.offsetTop-c,p=i(o,"left"),g=i(o,"top");p.includes("%")?(p=+document.body.clientWidth*(+p.replace(/\%/g,"")/100),g=+document.body.clientHeight*(+g.replace(/\%/g,"")/100)):(p=+p.replace(/\px/g,""),g=+g.replace(/\px/g,"")),document.onmousemove=function(e){var s=e.clientX-t,r=e.clientY-a;-s>u?s=-u:s>d&&(s=d),-r>h?r=-h:r>m&&(r=m),o.style.cssText+=";left:".concat(s+p,"px;top:").concat(r+g,"px;")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}});a("db4d");var jt,Ht,Vt=a("313e"),Kt=a.n(Vt),Jt=(a("ed2c"),{baseUrl:baseUrl}),Zt=Jt,Wt=Object(l["a"])(Zt,jt,Ht,!1,null,null,null),Yt=Wt.exports;M.a.defaults.withCredentials=!0,s["default"].prototype.$axios=M.a,s["default"].prototype.GLOBAL=Yt,s["default"].use(ze.a),s["default"].use(Ae),s["default"].prototype.$echarts=Kt.a,s["default"].config.productionTip=!1,s["default"].use(Gt.a,{size:"mini"}),s["default"].use(zt["a"]),Lt.beforeEach(function(e,t,a){var r=sessionStorage.getItem("ms_username");sessionStorage.getItem("ms_password");r||"/login"===e.path?e.meta.permission?a():navigator.userAgent.indexOf("MSIE")>-1&&"/editor"===e.path?s["default"].prototype.$alert("vue-quill-editor组件不兼容IE10及以下浏览器，请使用更高版本的浏览器查看","浏览器不兼容通知",{confirmButtonText:"确定"}):a():a()}),new s["default"]({router:Lt,render:function(e){return e(u)}}).$mount("#app")},"573d":function(e,t,a){},"58a8":function(e,t,a){"use strict";var s=a("c65b"),r=a.n(s);r.a},"5ebe":function(e,t,a){},"61ea":function(e,t,a){"use strict";var s=a("3312"),r=a.n(s);r.a},"64a9":function(e,t,a){},"67bf":function(e,t,a){},7159:function(e,t,a){e.exports=a.p+"img/img.146655c9.jpg"},"755d":function(e,t,a){},8782:function(e,t,a){},8992:function(e,t,a){"use strict";var s=a("024e"),r=a.n(s);r.a},"8fd1":function(e,t,a){},"8fda":function(e,t,a){"use strict";var s=a("8782"),r=a.n(s);r.a},9240:function(e,t,a){e.exports=a.p+"img/left-image.285bac89.png"},"96bf":function(e,t,a){},"9f93":function(e,t,a){},acd2:function(e,t,a){"use strict";var s=a("96bf"),r=a.n(s);r.a},b031:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAsCAYAAAA5KtvpAAAEjklEQVRogb3aa6gVVRQH8N81JSszBjScIpWimylq0kP7UIlSQfQwsA9pqaGhPS3DD0lJUFHkCzQ1qg9hpFGCFRG9wN5WWlmEVrcykrxF6o0blVlWH7aT5x7n3Jk598z5f5s1a5///M+aWXuvtXfLrr3/yomxOAvDMQh98Bt24HO8gV15f6wOnI8xB/kHojd+xdf4DBvjyN6sH+mdcb8P5mAWRmX47sOLWIpNWcQ5cQxuxQy0Zvh2tnd4GovjSFstp5ZuIjwBj+DU4s9pGebVMa4Sk7AcJxUc9ycWxpGH0m7WEnwzVhQkqsaHuAR76hi7APf3kH99HLmq2tgrxXG2nouFc/AOjis4br6ei4XJ7R1erjZWR/hsITKNxGZBfB6Mx8YG86+NI1OTi+oIr2swGeFPXJbD7wisLYF/SnuHGclFpeCpOKUEQrgNIzJ8rkdcEv/q9g796Sp4fklkCZZk3O9pVu8OfXEnh77hYdheImGC0/BVin0MPi6ZuxODkghfUDJZgmk17BOawN0flyeCT28CIVxawz68SfxXJIIHNIlwlPTE1Cz+c9MWHmWiBSObzFmJIYngX5pImhbhZvG3JIJ3NIkQ+qXYvmsWeSJ4S7MIkVatlD0l/Y9E8Cb1VTX1oDPFtlGop0tHIng/nmgGIX5MsXXimSZwH6islgbgJ+klYyMxGDtT7K34smTu7yvF7RYK/zLRJl0sYcn5QMn8W6ujuRpPlkj4Vsb9BXizTP6013ca1pRE+FwOn4vwdkn8L9T6XqdjrvSMWi/24JUcfvuFluzSBnLD5jjS1l2CWi6UjffgUxzoIeHj+KuA/x04E6s0ZmG0gu7btNVoFToi/TAOVyvWoYilT0l50EsoPE5AhPNwjdC3zoPdGBRHXaelohiKbTgqh+/DuKVeohq4mMO7kjVwUxxZRbEIV+No4bvsm+G3T4huowuE0diaw29nHBmcXPRkkbFItli4XTnV0KKcfjMrL+oVPBE35vB7V9iuaTRm4sIcfuviyGuVhnpe6ZOFrJ1W5lXiH2EZ+UNRggyMxfs5/HZjcBz5o9JYNMKxsCjIEguTNV7scLpGrBtcVi2WYoJH4D1hasjCvdhQ4LfzYDw+wLE5fG+Io/S3IK/gKUKTYGgO3zVYmPN382KeUDPnebMWx1HtvJEluD9W4in5MvJ6YVnaKJyIZ2XvWiRYHUfd76B0J3iScJQgTzYmVFmH7cf2ALPwhZAL8mB5HGU/a5rgccIifwOG5CRbovauQlFMFKazx+R7heGuODI3j2PlGY+BQrKZXejxQtNgZcExaYiFBkCRT+IAro2j/Nu8ieBW4RROkWKgTXi4RhxgGY3XFduB2IrpceSzIkS9cLyQGIqIfRRnaIzYI/G8YmKXCUeoCoklCB4v+0hSgm3Chths/F6UrAZGyp8rtgjf+Dx11ue9hU5lFn4WGgIP4u96iLpB5mEy4cDbUvmnp5roJTTWanULv8Hdwkb2fRovFr4Vuhpp2C6cTBimAWLpWjxchyuFqH8iTA0vNYIkJ+Y4tH/80UH+V7MGxVExkv8AR1LsayzaxCgAAAAASUVORK5CYII="},b9ca:function(e,t,a){"use strict";var s=a("8fd1"),r=a.n(s);r.a},bfa2:function(e,t,a){},c571:function(e,t,a){"use strict";var s=a("755d"),r=a.n(s);r.a},c5f3:function(e,t,a){"use strict";var s=a("5ebe"),r=a.n(s);r.a},c65b:function(e,t,a){},cc48:function(e,t,a){"use strict";var s=a("31fd"),r=a.n(s);r.a},d21e:function(e,t,a){},d802:function(e,t,a){"use strict";var s=a("092a"),r=a.n(s);r.a},e886:function(e,t,a){"use strict";var s=a("573d"),r=a.n(s);r.a},ed2c:function(e,t,a){},fcd5:function(e,t,a){"use strict";var s=a("33bc"),r=a.n(s);r.a}});